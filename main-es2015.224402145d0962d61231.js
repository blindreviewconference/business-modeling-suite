(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+9rK":function(e,t,n){"use strict";function r(e,t,n,r){var s=r?" !== ":" === ",l=r?" || ":" && ",o=r?"!":"",i=r?"":"!";switch(e){case"null":return t+s+"null";case"array":return o+"Array.isArray("+t+")";case"object":return"("+o+t+l+"typeof "+t+s+'"object"'+l+i+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+s+'"number"'+l+i+"("+t+" % 1)"+l+t+s+t+(n?l+o+"isFinite("+t+")":"")+")";case"number":return"(typeof "+t+s+'"'+e+'"'+(n?l+o+"isFinite("+t+")":"")+")";default:return"typeof "+t+s+'"'+e+'"'}}e.exports={copy:function(e,t){for(var n in t=t||{},e)t[n]=e[n];return t},checkDataType:r,checkDataTypes:function(e,t,n){switch(e.length){case 1:return r(e[0],t,n,!0);default:var s="",o=l(e);for(var i in o.array&&o.object&&(s=o.null?"(":"(!"+t+" || ",s+="typeof "+t+' !== "object")',delete o.null,delete o.array,delete o.object),o.number&&delete o.integer,o)s+=(s?" && ":"")+r(i,t,n,!0);return s}},coerceToTypes:function(e,t){if(Array.isArray(t)){for(var n=[],r=0;r<t.length;r++){var l=t[r];(s[l]||"array"===e&&"array"===l)&&(n[n.length]=l)}if(n.length)return n}else{if(s[t])return[t];if("array"===e&&"array"===t)return["array"]}},toHash:l,getProperty:u,escapeQuotes:a,equal:n("tgdo"),ucs2length:n("d17/"),varOccurences:function(e,t){var n=e.match(new RegExp(t+="[^0-9]","g"));return n?n.length:0},varReplace:function(e,t,n){return t+="([^0-9])",n=n.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),n+"$1")},schemaHasRules:function(e,t){if("boolean"==typeof e)return!e;for(var n in e)if(t[n])return!0},schemaHasRulesExcept:function(e,t,n){if("boolean"==typeof e)return!e&&"not"!=n;for(var r in e)if(r!=n&&t[r])return!0},schemaUnknownRules:function(e,t){if("boolean"!=typeof e)for(var n in e)if(!t[n])return n},toQuotedString:c,getPathExpr:function(e,t,n,r){return h(e,n?"'/' + "+t+(r?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):r?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'")},getPath:function(e,t,n){return h(e,c(n?"/"+f(t):u(t)))},getData:function(e,t,n){var r,s,l,o;if(""===e)return"rootData";if("/"==e[0]){if(!d.test(e))throw new Error("Invalid JSON-pointer: "+e);s=e,l="rootData"}else{if(!(o=e.match(p)))throw new Error("Invalid JSON-pointer: "+e);if(r=+o[1],"#"==(s=o[2])){if(r>=t)throw new Error("Cannot access property/index "+r+" levels up, current level is "+t);return n[t-r]}if(r>t)throw new Error("Cannot access data "+r+" levels up, current level is "+t);if(l="data"+(t-r||""),!s)return l}for(var i=l,a=s.split("/"),c=0;c<a.length;c++){var h=a[c];h&&(i+=" && "+(l+=u(m(h))))}return i},unescapeFragment:function(e){return m(decodeURIComponent(e))},unescapeJsonPointer:m,escapeFragment:function(e){return encodeURIComponent(f(e))},escapeJsonPointer:f};var s=l(["string","number","integer","boolean","null"]);function l(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return t}var o=/^[a-z$_][a-z$_0-9]*$/i,i=/'|\\/g;function u(e){return"number"==typeof e?"["+e+"]":o.test(e)?"."+e:"['"+a(e)+"']"}function a(e){return e.replace(i,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function c(e){return"'"+a(e)+"'"}var d=/^\/(?:[^~]|~0|~1)*$/,p=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function h(e,t){return'""'==e?t:(e+" + "+t).replace(/([^\\])' \+ '/g,"$1")}function f(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function m(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}},"+PE/":function(e){e.exports={$id:"http://github.com/...",title:"Business Knowledge Model Schema Definition",description:"This schema defines the supported JSON files f\xfcr the Business Knowledge Models",type:"object",properties:{name:{description:"Name of the Business Knowledge Model",type:"string"},description:{description:"Description of the Business Knowledge Model",type:"string"},version:{description:"Version of the Business Knowledge Model as number",type:"string"},copyright:{description:"Copyright of the Business Knowledge Model",type:"string"},author:{description:"Author of the Business Knowledge Model",$ref:"#/definitions/author"},features:{description:"The list of features that is used in the Business Knowledge Model",type:"object",additionalProperties:{$ref:"#/definitions/feature"}},instances:{description:"The list of patterns and business model examples that is derived from the Business Knowledge Model",type:"array",items:{$ref:"#/definitions/instance"},uniqueItems:!0}},required:["name","features"],definitions:{author:{description:"Author of the Business Knowledge Model",properties:{name:{description:"Name of the author",type:"string"},company:{description:"Company of the author",type:"string"},email:{description:"Email of the author",type:"string"},website:{description:"Website of the author",type:"string"}}},feature:{description:"Single feature that is used in the Business Knowledge Model",properties:{name:{description:"The name of the feature",type:"string"},description:{description:"An optional description of the feature",type:"string"},type:{description:"The decision is the feature should be 'mandatory' or 'optional' (default: optional)",enum:["optional","mandatory"],default:"optional"},subfeatures:{description:"The subfeatures of the current feature",type:"object",additionalProperties:{$ref:"#/definitions/feature"}},subfeatureConnections:{description:"The decision if the connections to the subfeatures should be 'or', 'xor' or 'null' (default: null) ",type:["string","null"],enum:[null,"or","xor"],default:null},relationships:{description:"The relationships of the current feature",properties:{requires:{type:"array",items:{type:"string"}},excludes:{type:"array",items:{type:"string"}},supports:{type:"array",items:{type:"string"}},hurts:{type:"array",items:{type:"string"}}}}},required:["name"]},instance:{description:"Single pattern and business model example that is derived from the Business Knowledge Model",properties:{name:{description:"Name of the pattern or business model example",type:"string"},type:{enum:["pattern","example"]},description:{description:"Description of the patterns or business model examples",type:"string"},usedFeatures:{description:"Features that are used by the patterns or business model examples",type:"array",items:{type:"string"},minItems:1,uniqueItems:!0}},required:["name","type","usedFeatures"]}}}},"+qE3":function(e,t,n){"use strict";var r,s="object"==typeof Reflect?Reflect:null,l=s&&"function"==typeof s.apply?s.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=s&&"function"==typeof s.ownKeys?s.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function i(){i.init.call(this)}e.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var u=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function d(e,t,n,r){var s,l,o;if(a(n),void 0===(l=e._events)?(l=e._events=Object.create(null),e._eventsCount=0):(void 0!==l.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),l=e._events),o=l[t]),void 0===o)o=l[t]=n,++e._eventsCount;else if("function"==typeof o?o=l[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(s=c(e))>0&&o.length>s&&!o.warned){o.warned=!0;var i=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");i.name="MaxListenersExceededWarning",i.emitter=e,i.type=t,i.count=o.length,console&&console.warn&&console.warn(i)}return e}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},s=p.bind(r);return s.listener=n,r.wrapFn=s,s}function f(e,t,n){var r=e._events;if(void 0===r)return[];var s=r[t];return void 0===s?[]:"function"==typeof s?n?[s.listener||s]:[s]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(s):g(s,s.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return c(this)},i.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,s=this._events;if(void 0!==s)r=r&&void 0===s.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var i=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw i.context=o,i}var u=s[e];if(void 0===u)return!1;if("function"==typeof u)l(u,this,t);else{var a=u.length,c=g(u,a);for(n=0;n<a;++n)l(c[n],this,t)}return!0},i.prototype.on=i.prototype.addListener=function(e,t){return d(this,e,t,!1)},i.prototype.prependListener=function(e,t){return d(this,e,t,!0)},i.prototype.once=function(e,t){return a(t),this.on(e,h(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,h(this,e,t)),this},i.prototype.off=i.prototype.removeListener=function(e,t){var n,r,s,l,o;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(s=-1,l=n.length-1;l>=0;l--)if(n[l]===t||n[l].listener===t){o=n[l].listener,s=l;break}if(s<0)return this;0===s?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,s),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},i.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var s,l=Object.keys(n);for(r=0;r<l.length;++r)"removeListener"!==(s=l[r])&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},i.prototype.listeners=function(e){return f(this,e,!0)},i.prototype.rawListeners=function(e){return f(this,e,!1)},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},i.prototype.listenerCount=m,i.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},"//Jx":function(e,t,n){"use strict";var r=/^[a-z_$][a-z0-9_$-]*$/i,s=n("cjZW"),l=n("eXaU");e.exports={add:function(e,t){var n=this.RULES;if(n.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!r.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){this.validateKeyword(t,!0);var l=t.type;if(Array.isArray(l))for(var o=0;o<l.length;o++)u(e,l[o],t);else u(e,l,t);var i=t.metaSchema;i&&(t.$data&&this._opts.$data&&(i={anyOf:[i,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),t.validateSchema=this.compile(i,!0))}function u(e,t,r){for(var l,o=0;o<n.length;o++){var i=n[o];if(i.type==t){l=i;break}}l||n.push(l={type:t,rules:[]});var u={keyword:e,definition:r,custom:!0,code:s,implements:r.implements};l.rules.push(u),n.custom[e]=u}return n.keywords[e]=n.all[e]=!0,this},get:function(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1},remove:function(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var n=0;n<t.length;n++)for(var r=t[n].rules,s=0;s<r.length;s++)if(r[s].keyword==e){r.splice(s,1);break}return this},validate:function e(t,n){e.errors=null;var r=this._validateKeyword=this._validateKeyword||this.compile(l,!0);if(r(t))return!0;if(e.errors=r.errors,n)throw new Error("custom keyword definition is invalid: "+this.errorsText(r.errors));return!1}}},"/D/v":function(e,t,n){"use strict";t.test=function(){return"function"==typeof global.queueMicrotask},t.install=function(e){return function(){global.queueMicrotask(e)}}},"/FlN":function(e,t,n){"use strict";var r=global.MutationObserver||global.WebKitMutationObserver;t.test=function(){return r},t.install=function(e){var t=0,n=new r(e),s=global.document.createTextNode("");return n.observe(s,{characterData:!0}),function(){s.data=t=++t%2}}},0:function(e,t,n){e.exports=n("zUnb")},"0w4r":function(e,t,n){"use strict";e.exports=function(e,t,n){var r,s=" ",l=e.level,o=e.dataLevel,i=e.schema[t],u=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,d="data"+(o||""),p="valid"+l,h=e.opts.$data&&i&&i.$data;if(h?(s+=" var schema"+l+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",r="schema"+l):r=i,(i||h)&&!1!==e.opts.uniqueItems){h&&(s+=" var "+p+"; if ("+r+" === false || "+r+" === undefined) "+p+" = true; else if (typeof "+r+" != 'boolean') "+p+" = false; else { "),s+=" var i = "+d+".length , "+p+" = true , j; if (i > 1) { ";var f=e.schema.items&&e.schema.items.type,m=Array.isArray(f);!f||"object"==f||"array"==f||m&&(f.indexOf("object")>=0||f.indexOf("array")>=0)?s+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+d+"[i], "+d+"[j])) { "+p+" = false; break outer; } } } ":(s+=" var itemIndices = {}, item; for (;i--;) { var item = "+d+"[i]; ",s+=" if ("+e.util["checkDataType"+(m?"s":"")](f,"item",e.opts.strictNumbers,!0)+") continue; ",m&&(s+=" if (typeof item == 'string') item = '\"' + item; "),s+=" if (typeof itemIndices[item] == 'number') { "+p+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "),s+=" } ",h&&(s+="  }  ");var g=g||[];g.push(s+=" if (!"+p+") {   "),s="",!1!==e.createErrors?(s+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(s+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(s+=" , schema:  ",s+=h?"validate.schema"+u:""+i,s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var v=s;s=g.pop(),s+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+v+"]); ":" validate.errors = ["+v+"]; return false; ":" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } ",c&&(s+=" else { ")}else c&&(s+=" if (true) { ");return s}},1:function(e,t){},"1QhW":function(e,t,n){"use strict";e.exports=function(e,t,n){var r="",s=!0===e.schema.$async,l=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),o=e.self._getId(e.schema);if(e.opts.strictKeywords){var i=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(i){var u="unknown keyword: "+i;if("log"!==e.opts.strictKeywords)throw new Error(u);e.logger.warn(u)}}if(e.isTop&&(r+=" var validate = ",s&&(e.async=!0,r+="async "),r+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",o&&(e.opts.sourceCode||e.opts.processCode)&&(r+=" /*# sourceURL="+o+" */ ")),"boolean"==typeof e.schema||!l&&!e.schema.$ref){var a=e.level,c=e.dataLevel,d=e.schema["false schema"],p=e.schemaPath+e.util.getProperty("false schema"),h=e.errSchemaPath+"/false schema",f=!e.opts.allErrors,m="data"+(c||""),g="valid"+a;if(!1===e.schema){e.isTop?f=!0:r+=" var "+g+" = false; ",(z=z||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'boolean schema is false' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";var v=r;r=z.pop(),r+=!e.compositeRule&&f?e.async?" throw new ValidationError(["+v+"]); ":" validate.errors = ["+v+"]; return false; ":" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else r+=e.isTop?s?" return data; ":" validate.errors = null; return true; ":" var "+g+" = true; ";return e.isTop&&(r+=" }; return validate; "),r}if(e.isTop){var b=e.isTop;if(a=e.level=0,c=e.dataLevel=0,m="data",e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],void 0!==e.schema.default&&e.opts.useDefaults&&e.opts.strictDefaults){var y="default is ignored in the schema root";if("log"!==e.opts.strictDefaults)throw new Error(y);e.logger.warn(y)}r+=" var vErrors = null; ",r+=" var errors = 0;     ",r+=" if (rootData === undefined) rootData = data; "}else{if(a=e.level,m="data"+((c=e.dataLevel)||""),o&&(e.baseId=e.resolve.url(e.baseId,o)),s&&!e.async)throw new Error("async schema in sync schema");r+=" var errs_"+a+" = errors;"}g="valid"+a,f=!e.opts.allErrors;var w="",x="",_=e.schema.type,C=Array.isArray(_);if(_&&e.opts.nullable&&!0===e.schema.nullable&&(C?-1==_.indexOf("null")&&(_=_.concat("null")):"null"!=_&&(_=[_,"null"],C=!0)),C&&1==_.length&&(_=_[0],C=!1),e.schema.$ref&&l){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');!0!==e.opts.extendRefs&&(l=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(r+=" "+e.RULES.all.$comment.code(e,"$comment")),_){if(e.opts.coerceTypes)var k=e.util.coerceToTypes(e.opts.coerceTypes,_);var M=e.RULES.types[_];if(k||C||!0===M||M&&!Z(M)){if(p=e.schemaPath+".type",h=e.errSchemaPath+"/type",p=e.schemaPath+".type",h=e.errSchemaPath+"/type",r+=" if ("+e.util[C?"checkDataTypes":"checkDataType"](_,m,e.opts.strictNumbers,!0)+") { ",k){var S="dataType"+a,T="coerced"+a;r+=" var "+S+" = typeof "+m+"; var "+T+" = undefined; ","array"==e.opts.coerceTypes&&(r+=" if ("+S+" == 'object' && Array.isArray("+m+") && "+m+".length == 1) { "+m+" = "+m+"[0]; "+S+" = typeof "+m+"; if ("+e.util.checkDataType(e.schema.type,m,e.opts.strictNumbers)+") "+T+" = "+m+"; } "),r+=" if ("+T+" !== undefined) ; ";var E=k;if(E)for(var I,F=-1,P=E.length-1;F<P;)"string"==(I=E[F+=1])?r+=" else if ("+S+" == 'number' || "+S+" == 'boolean') "+T+" = '' + "+m+"; else if ("+m+" === null) "+T+" = ''; ":"number"==I||"integer"==I?(r+=" else if ("+S+" == 'boolean' || "+m+" === null || ("+S+" == 'string' && "+m+" && "+m+" == +"+m+" ","integer"==I&&(r+=" && !("+m+" % 1)"),r+=")) "+T+" = +"+m+"; "):"boolean"==I?r+=" else if ("+m+" === 'false' || "+m+" === 0 || "+m+" === null) "+T+" = false; else if ("+m+" === 'true' || "+m+" === 1) "+T+" = true; ":"null"==I?r+=" else if ("+m+" === '' || "+m+" === 0 || "+m+" === false) "+T+" = null; ":"array"==e.opts.coerceTypes&&"array"==I&&(r+=" else if ("+S+" == 'string' || "+S+" == 'number' || "+S+" == 'boolean' || "+m+" == null) "+T+" = ["+m+"]; ");(z=z||[]).push(r+=" else {   "),r="",!1!==e.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { type: '",r+=C?""+_.join(","):""+_,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=C?""+_.join(","):""+_,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ",v=r,r=z.pop(),r+=!e.compositeRule&&f?e.async?" throw new ValidationError(["+v+"]); ":" validate.errors = ["+v+"]; return false; ":" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } if ("+T+" !== undefined) {  ";var D=c?"data"+(c-1||""):"parentData";r+=" "+m+" = "+T+"; ",c||(r+="if ("+D+" !== undefined)"),r+=" "+D+"["+(c?e.dataPathArr[c]:"parentDataProperty")+"] = "+T+"; } "}else(z=z||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { type: '",r+=C?""+_.join(","):""+_,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=C?""+_.join(","):""+_,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ",v=r,r=z.pop(),r+=!e.compositeRule&&f?e.async?" throw new ValidationError(["+v+"]); ":" validate.errors = ["+v+"]; return false; ":" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";r+=" } "}}if(e.schema.$ref&&!l)r+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",f&&(r+=" } if (errors === ",r+=b?"0":"errs_"+a,r+=") { ",x+="}");else{var O=e.RULES;if(O)for(var A=-1,q=O.length-1;A<q;)if(Z(M=O[A+=1])){if(M.type&&(r+=" if ("+e.util.checkDataType(M.type,m,e.opts.strictNumbers)+") { "),e.opts.useDefaults)if("object"==M.type&&e.schema.properties){d=e.schema.properties;var R=Object.keys(d);if(R)for(var N,$=-1,j=R.length-1;$<j;)if(void 0!==(U=d[N=R[$+=1]]).default){var L=m+e.util.getProperty(N);if(e.compositeRule){if(e.opts.strictDefaults){if(y="default is ignored for: "+L,"log"!==e.opts.strictDefaults)throw new Error(y);e.logger.warn(y)}}else r+=" if ("+L+" === undefined ","empty"==e.opts.useDefaults&&(r+=" || "+L+" === null || "+L+" === '' "),r+=" ) "+L+" = ",r+="shared"==e.opts.useDefaults?" "+e.useDefault(U.default)+" ":" "+JSON.stringify(U.default)+" ",r+="; "}}else if("array"==M.type&&Array.isArray(e.schema.items)){var V=e.schema.items;if(V){F=-1;for(var U,B=V.length-1;F<B;)if(void 0!==(U=V[F+=1]).default)if(L=m+"["+F+"]",e.compositeRule){if(e.opts.strictDefaults){if(y="default is ignored for: "+L,"log"!==e.opts.strictDefaults)throw new Error(y);e.logger.warn(y)}}else r+=" if ("+L+" === undefined ","empty"==e.opts.useDefaults&&(r+=" || "+L+" === null || "+L+" === '' "),r+=" ) "+L+" = ",r+="shared"==e.opts.useDefaults?" "+e.useDefault(U.default)+" ":" "+JSON.stringify(U.default)+" ",r+="; "}}var z,H=M.rules;if(H)for(var W,K=-1,G=H.length-1;K<G;)if(J(W=H[K+=1])){var Q=W.code(e,W.keyword,M.type);Q&&(r+=" "+Q+" ",f&&(w+="}"))}f&&(r+=" "+w+" ",w=""),M.type&&(r+=" } ",_&&_===M.type&&!k)&&(p=e.schemaPath+".type",h=e.errSchemaPath+"/type",(z=z||[]).push(r+=" else { "),r="",!1!==e.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { type: '",r+=C?""+_.join(","):""+_,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=C?""+_.join(","):""+_,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ",v=r,r=z.pop(),r+=!e.compositeRule&&f?e.async?" throw new ValidationError(["+v+"]); ":" validate.errors = ["+v+"]; return false; ":" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } "),f&&(r+=" if (errors === ",r+=b?"0":"errs_"+a,r+=") { ",x+="}")}}function Z(e){for(var t=e.rules,n=0;n<t.length;n++)if(J(t[n]))return!0}function J(t){return void 0!==e.schema[t.keyword]||t.implements&&function(t){for(var n=t.implements,r=0;r<n.length;r++)if(void 0!==e.schema[n[r]])return!0}(t)}return f&&(r+=" "+x+" "),b?(s?(r+=" if (errors === 0) return data;           ",r+=" else throw new ValidationError(vErrors); "):(r+=" validate.errors = vErrors; ",r+=" return errors === 0;       "),r+=" }; return validate;"):r+=" var "+g+" = errors === errs_"+a+";",r}},2:function(e,t){},"2jsQ":function(e,t,n){"use strict";e.exports=function(e,t,n){var r,s=" ",l=e.level,o=e.dataLevel,i=e.schema[t],u=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,d="data"+(o||""),p=e.opts.$data&&i&&i.$data;if(p?(s+=" var schema"+l+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",r="schema"+l):r=i,!p&&"number"!=typeof i)throw new Error(t+" must be number");s+="if ( ",p&&(s+=" ("+r+" !== undefined && typeof "+r+" != 'number') || ");var h=t,f=f||[];f.push(s+=" "+d+".length "+("maxItems"==t?">":"<")+" "+r+") { "),s="",!1!==e.createErrors?(s+=" { keyword: '"+(h||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(s+=" , message: 'should NOT have ",s+="maxItems"==t?"more":"fewer",s+=" than ",s+=p?"' + "+r+" + '":""+i,s+=" items' "),e.opts.verbose&&(s+=" , schema:  ",s+=p?"validate.schema"+u:""+i,s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var m=s;return s=f.pop(),s+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+m+"]); ":" validate.errors = ["+m+"]; return false; ":" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",c&&(s+=" else { "),s}},"3Y9A":function(e,t,n){"use strict";e.exports=function(e){return function(){var t=arguments.length;if(t){for(var n=[],r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}return e.call(this,[])}}},"3ZNU":function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",s=e.level,l=e.dataLevel,o=e.schema[t],i=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,a=!e.opts.allErrors,c="data"+(l||""),d="valid"+s,p="errs__"+s,h=e.util.copy(e);h.level++;var f="valid"+h.level,m=e.schema.then,g=e.schema.else,v=void 0!==m&&(e.opts.strictKeywords?"object"==typeof m&&Object.keys(m).length>0||!1===m:e.util.schemaHasRules(m,e.RULES.all)),b=void 0!==g&&(e.opts.strictKeywords?"object"==typeof g&&Object.keys(g).length>0||!1===g:e.util.schemaHasRules(g,e.RULES.all)),y=h.baseId;if(v||b){var w;h.createErrors=!1,h.schema=o,h.schemaPath=i,h.errSchemaPath=u,r+=" var "+p+" = errors; var "+d+" = true;  ";var x=e.compositeRule;e.compositeRule=h.compositeRule=!0,r+="  "+e.validate(h)+" ",h.baseId=y,h.createErrors=!0,r+="  errors = "+p+"; if (vErrors !== null) { if ("+p+") vErrors.length = "+p+"; else vErrors = null; }  ",e.compositeRule=h.compositeRule=x,v?(r+=" if ("+f+") {  ",h.schema=e.schema.then,h.schemaPath=e.schemaPath+".then",h.errSchemaPath=e.errSchemaPath+"/then",r+="  "+e.validate(h)+" ",h.baseId=y,r+=" "+d+" = "+f+"; ",v&&b?r+=" var "+(w="ifClause"+s)+" = 'then'; ":w="'then'",r+=" } ",b&&(r+=" else { ")):r+=" if (!"+f+") { ",b&&(h.schema=e.schema.else,h.schemaPath=e.schemaPath+".else",h.errSchemaPath=e.errSchemaPath+"/else",r+="  "+e.validate(h)+" ",h.baseId=y,r+=" "+d+" = "+f+"; ",v&&b?r+=" var "+(w="ifClause"+s)+" = 'else'; ":w="'else'",r+=" } "),r+=" if (!"+d+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { failingKeyword: "+w+" } ",!1!==e.opts.messages&&(r+=" , message: 'should match \"' + "+w+" + '\" schema' "),e.opts.verbose&&(r+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&a&&(r+=e.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),r+=" }   ",a&&(r+=" else { ")}else a&&(r+=" if (true) { ");return r}},"6MIY":function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",s=e.level,l=e.dataLevel,o=e.schema[t],i=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,a=!e.opts.allErrors,c="data"+(l||""),d="valid"+s,p=e.opts.$data&&o&&o.$data;p&&(r+=" var schema"+s+" = "+e.util.getData(o.$data,l,e.dataPathArr)+"; ");var h="i"+s,f="schema"+s;p||(r+=" var "+f+" = validate.schema"+i+";"),r+="var "+d+";",p&&(r+=" if (schema"+s+" === undefined) "+d+" = true; else if (!Array.isArray(schema"+s+")) "+d+" = false; else {"),r+=d+" = false;for (var "+h+"=0; "+h+"<"+f+".length; "+h+"++) if (equal("+c+", "+f+"["+h+"])) { "+d+" = true; break; }",p&&(r+="  }  ");var m=m||[];m.push(r+=" if (!"+d+") {   "),r="",!1!==e.createErrors?(r+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { allowedValues: schema"+s+" } ",!1!==e.opts.messages&&(r+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(r+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var g=r;return r=m.pop(),r+=!e.compositeRule&&a?e.async?" throw new ValidationError(["+g+"]); ":" validate.errors = ["+g+"]; return false; ":" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",a&&(r+=" else { "),r}},"6gcW":function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),o=e.errSchemaPath+"/"+t,i=!e.opts.allErrors,u=e.util.copy(e),a="";u.level++;var c="valid"+u.level,d=u.baseId,p=!0,h=s;if(h)for(var f,m=-1,g=h.length-1;m<g;)f=h[m+=1],(e.opts.strictKeywords?"object"==typeof f&&Object.keys(f).length>0||!1===f:e.util.schemaHasRules(f,e.RULES.all))&&(p=!1,u.schema=f,u.schemaPath=l+"["+m+"]",u.errSchemaPath=o+"/"+m,r+="  "+e.validate(u)+" ",u.baseId=d,i&&(r+=" if ("+c+") { ",a+="}"));return i&&(r+=p?" if (true) { ":" "+a.slice(0,-1)+" "),r}},"6pwk":function(e,t,n){"use strict";var r=e.exports=function(){this._cache={}};r.prototype.put=function(e,t){this._cache[e]=t},r.prototype.get=function(e){return this._cache[e]},r.prototype.del=function(e){delete this._cache[e]},r.prototype.clear=function(){this._cache={}}},"8Edf":function(e,t,n){"use strict";t.test=function(){return!0},t.install=function(e){return function(){setTimeout(e,0)}}},"9Krd":function(e,t,n){"use strict";var r,s,l,o=[n(1),n("GSGw"),n("yXWi"),n("GDMG"),n("mBn5"),n("8Edf")],i=-1,u=[],a=!1;function c(){r&&s&&(r=!1,s.length?u=s.concat(u):i=-1,u.length&&d())}function d(){if(!r){a=!1,r=!0;for(var e=u.length,t=setTimeout(c);e;){for(s=u,u=[];s&&++i<e;)s[i].run();i=-1,e=u.length}s=null,i=-1,r=!1,clearTimeout(t)}}for(var p=-1,h=o.length;++p<h;)if(o[p]&&o[p].test&&o[p].test()){l=o[p].install(d);break}function f(e,t){this.fun=e,this.array=t}f.prototype.run=function(){var e=this.fun,t=this.array;switch(t.length){case 0:return e();case 1:return e(t[0]);case 2:return e(t[0],t[1]);case 3:return e(t[0],t[1],t[2]);default:return e.apply(null,t)}},e.exports=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new f(e,t)),a||r||(a=!0,l())}},"9x6x":function(e,t,n){"use strict";e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n,r="boolean"==typeof t.cycles&&t.cycles,s=t.cmp&&(n=t.cmp,function(e){return function(t,r){return n({key:t,value:e[t]},{key:r,value:e[r]})}}),l=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var n,o;if(Array.isArray(t)){for(o="[",n=0;n<t.length;n++)n&&(o+=","),o+=e(t[n])||"null";return o+"]"}if(null===t)return"null";if(-1!==l.indexOf(t)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var i=l.push(t)-1,u=Object.keys(t).sort(s&&s(t));for(o="",n=0;n<u.length;n++){var a=u[n],c=e(t[a]);c&&(o&&(o+=","),o+=JSON.stringify(a)+":"+c)}return l.splice(i,1),"{"+o+"}"}}(e)}},AK1u:function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",s=e.level,l=e.dataLevel,o=e.schema[t],i=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,a=!e.opts.allErrors,c="data"+(l||"");if(!1===e.opts.format)return a&&(r+=" if (true) { "),r;var d,p=e.opts.$data&&o&&o.$data;p?(r+=" var schema"+s+" = "+e.util.getData(o.$data,l,e.dataPathArr)+"; ",d="schema"+s):d=o;var h=e.opts.unknownFormats,f=Array.isArray(h);if(p)r+=" var "+(m="format"+s)+" = formats["+d+"]; var "+(g="isObject"+s)+" = typeof "+m+" == 'object' && !("+m+" instanceof RegExp) && "+m+".validate; var "+(v="formatType"+s)+" = "+g+" && "+m+".type || 'string'; if ("+g+") { ",e.async&&(r+=" var async"+s+" = "+m+".async; "),r+=" "+m+" = "+m+".validate; } if (  ",p&&(r+=" ("+d+" !== undefined && typeof "+d+" != 'string') || "),r+=" (","ignore"!=h&&(r+=" ("+d+" && !"+m+" ",f&&(r+=" && self._opts.unknownFormats.indexOf("+d+") == -1 "),r+=") || "),r+=" ("+m+" && "+v+" == '"+n+"' && !(typeof "+m+" == 'function' ? ",r+=e.async?" (async"+s+" ? await "+m+"("+c+") : "+m+"("+c+")) ":" "+m+"("+c+") ",r+=" : "+m+".test("+c+"))))) {";else{var m;if(!(m=e.formats[o])){if("ignore"==h)return e.logger.warn('unknown format "'+o+'" ignored in schema at path "'+e.errSchemaPath+'"'),a&&(r+=" if (true) { "),r;if(f&&h.indexOf(o)>=0)return a&&(r+=" if (true) { "),r;throw new Error('unknown format "'+o+'" is used in schema at path "'+e.errSchemaPath+'"')}var g,v=(g="object"==typeof m&&!(m instanceof RegExp)&&m.validate)&&m.type||"string";if(g){var b=!0===m.async;m=m.validate}if(v!=n)return a&&(r+=" if (true) { "),r;if(b){if(!e.async)throw new Error("async format in sync schema");r+=" if (!(await "+(y="formats"+e.util.getProperty(o)+".validate")+"("+c+"))) { "}else{r+=" if (! ";var y="formats"+e.util.getProperty(o);g&&(y+=".validate"),r+="function"==typeof m?" "+y+"("+c+") ":" "+y+".test("+c+") ",r+=") { "}}var w=w||[];w.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { format:  ",r+=p?""+d:""+e.util.toQuotedString(o),r+="  } ",!1!==e.opts.messages&&(r+=" , message: 'should match format \"",r+=p?"' + "+d+" + '":""+e.util.escapeQuotes(o),r+="\"' "),e.opts.verbose&&(r+=" , schema:  ",r+=p?"validate.schema"+i:""+e.util.toQuotedString(o),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var x=r;return r=w.pop(),r+=!e.compositeRule&&a?e.async?" throw new ValidationError(["+x+"]); ":" validate.errors = ["+x+"]; return false; ":" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",a&&(r+=" else { "),r}},APWh:function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",s=e.level,l=e.dataLevel,o=e.schema[t],i=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,a=!e.opts.allErrors,c="data"+(l||""),d="errs__"+s,p=e.util.copy(e);p.level++;var h="valid"+p.level;if(e.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0||!1===o:e.util.schemaHasRules(o,e.RULES.all)){p.schema=o,p.schemaPath=i,p.errSchemaPath=u,r+=" var "+d+" = errors;  ";var f,m=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.createErrors=!1,p.opts.allErrors&&(f=p.opts.allErrors,p.opts.allErrors=!1),r+=" "+e.validate(p)+" ",p.createErrors=!0,f&&(p.opts.allErrors=f),e.compositeRule=p.compositeRule=m;var g=g||[];g.push(r+=" if ("+h+") {   "),r="",!1!==e.createErrors?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var v=r;r=g.pop(),r+=!e.compositeRule&&a?e.async?" throw new ValidationError(["+v+"]); ":" validate.errors = ["+v+"]; return false; ":" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else r+="  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a&&(r+=" if (false) { ");return r}},AwJw:function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",s=e.level,l=e.dataLevel,o=e.schema[t],i=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,a=!e.opts.allErrors,c="data"+(l||""),d="valid"+s,p=e.opts.$data&&o&&o.$data;p&&(r+=" var schema"+s+" = "+e.util.getData(o.$data,l,e.dataPathArr)+"; "),p||(r+=" var schema"+s+" = validate.schema"+i+";");var h=h||[];h.push(r+="var "+d+" = equal("+c+", schema"+s+"); if (!"+d+") {   "),r="",!1!==e.createErrors?(r+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { allowedValue: schema"+s+" } ",!1!==e.opts.messages&&(r+=" , message: 'should be equal to constant' "),e.opts.verbose&&(r+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var f=r;return r=h.pop(),r+=!e.compositeRule&&a?e.async?" throw new ValidationError(["+f+"]); ":" validate.errors = ["+f+"]; return false; ":" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",a&&(r+=" else { "),r}},DqC7:function(e,t,n){"use strict";t.test=function(){return!0},t.install=function(e){return function(){setTimeout(e,0)}}},GDMG:function(e,t,n){"use strict";t.test=function(){return!global.setImmediate&&void 0!==global.MessageChannel},t.install=function(e){var t=new global.MessageChannel;return t.port1.onmessage=e,function(){t.port2.postMessage(0)}}},GSGw:function(e,t,n){"use strict";t.test=function(){return"function"==typeof global.queueMicrotask},t.install=function(e){return function(){global.queueMicrotask(e)}}},Iab2:function(e,t,n){var r,s;void 0===(s="function"==typeof(r=function(){"use strict";function t(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){l(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function r(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}var s="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,l=s.saveAs||("object"!=typeof window||window!==s?function(){}:"download"in HTMLAnchorElement.prototype?function(e,l,o){var i=s.URL||s.webkitURL,u=document.createElement("a");u.download=l=l||e.name||"download",u.rel="noopener","string"==typeof e?(u.href=e,u.origin===location.origin?r(u):n(u.href)?t(e,l,o):r(u,u.target="_blank")):(u.href=i.createObjectURL(e),setTimeout((function(){i.revokeObjectURL(u.href)}),4e4),setTimeout((function(){r(u)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,s,l){if(s=s||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,l),s);else if(n(e))t(e,s,l);else{var o=document.createElement("a");o.href=e,o.target="_blank",setTimeout((function(){r(o)}))}}:function(e,n,r,l){if((l=l||open("","_blank"))&&(l.document.title=l.document.body.innerText="downloading..."),"string"==typeof e)return t(e,n,r);var o="application/octet-stream"===e.type,i=/constructor/i.test(s.HTMLElement)||s.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||o&&i)&&"object"==typeof FileReader){var a=new FileReader;a.onloadend=function(){var e=a.result;e=u?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),l?l.location.href=e:location=e,l=null},a.readAsDataURL(e)}else{var c=s.URL||s.webkitURL,d=c.createObjectURL(e);l?l.location=d:location.href=d,l=null,setTimeout((function(){c.revokeObjectURL(d)}),4e4)}});s.saveAs=l.saveAs=l,e.exports=l})?r.apply(t,[]):r)||(e.exports=s)},LYpN:function(e){e.exports=[{name:"Simple ToDo Example",description:"This is the simple todo example from our paper.",author:{},features:{"value-propositions":{name:"Value Propositions",type:"mandatory",subfeatures:{"save-privacy":{name:"Save Privacy",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:["in-app-advertisement","free-for-all"],supports:[],hurts:[]},expertModelTrace:{}},"free-for-all":{name:"Free For All",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["in-app-advertisement"],excludes:["save-privacy"],supports:[],hurts:[]},expertModelTrace:{}},"collaborative-with-others":{name:"Collaborate With Others",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["license-subscription"],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:"xor",relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"customer-segments":{name:"Customer Segment",type:"mandatory",subfeatures:{"private-user":{name:"Private User",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"professional-user":{name:"Professional User",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["save-privacy"],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:"or",relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"customer-relationships":{name:"Customer Relationships",type:"optional",subfeatures:{"self-service":{name:"Self Service",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"phone-support":{name:"Phone Support",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},channels:{name:"Customer Channels",type:"optional",subfeatures:{"facebook-ads":{name:"Facebook Ads",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["private-user"],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"linkedin-ads":{name:"LinkedIn Ads",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["professional-user"],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"key-partners":{name:"Key Partners",type:"optional",subfeatures:{"hosting-provider":{name:"Hosting Provider",type:"mandatory",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"social-networks":{name:"Social Networks",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"key-activities":{name:"Key Activities",type:"optional",subfeatures:{"develop-app":{name:"Develop App",type:"mandatory",subfeatures:{},subfeatureConnections:null,relationships:{requires:["development-costs"],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"plan-marketing":{name:"Plan Marketing",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["marketing-costs"],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"key-resources":{name:"Key Resources",type:"optional",subfeatures:{algorithms:{name:"Algorithms",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},infrastructure:{name:"Infrastructure",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"revenue-streams":{name:"Revenue Streams",type:"optional",subfeatures:{"in-app-advertisement":{name:"In-App Advertisement",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:["save-privacy"],supports:[],hurts:[]},expertModelTrace:{}},"license-purchase":{name:"License Purchase",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:["license-subscription"],supports:[],hurts:[]},expertModelTrace:{}},"license-subscription":{name:"License Subscription",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:["license-purchase"],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"cost-structure":{name:"Cost Structures",type:"optional",subfeatures:{"development-costs":{name:"Development Costs",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"marketing-costs":{name:"Marketing Costs",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"support-costs":{name:"Support Costs",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},instances:[{name:"Paper Example",type:"example",usedFeatures:["value-propositions","save-privacy","collaborative-with-others","customer-segments","professional-user","customer-relationships","self-service","channels","facebook-ads","key-partners","key-activities","develop-app","plan-marketing","key-resources","algorithms","infrastructure","revenue-streams","in-app-advertisement","license-subscription","cost-structure","development-costs","support-costs"]}],expertModel:!1,expertModelTraces:{}},{name:"Case Study on ToDo Applications",description:"This is the case study of todo applications we perform in our paper.",author:{},features:{"value-propositions":{name:"Value Propositions",type:"optional",subfeatures:{accessibility:{name:"Accessibility",type:"optional",subfeatures:{"anonymous-access":{name:"Anonymous Access",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:["personalized-recommendations"],supports:[],hurts:[]},expertModelTrace:{}},"simplified-sign-in-servies":{name:"Simplified Sign-In Servies",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"multi-os-access":{name:"Multi-OS Access",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:["single-homed"],supports:[],hurts:[]},expertModelTrace:{}},"device-syncronisation":{name:"Device Syncronisation",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},customization:{name:"Customization",type:"optional",subfeatures:{"personalized-recommendations":{name:"Personalized Recommendations",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:["anonymous-access"],supports:[],hurts:[]},expertModelTrace:{}},"changeable-user-interfaces":{name:"Changeable User Interfaces",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"design-/-usability":{name:"Design / Usability",type:"optional",subfeatures:{"execution-step-reduction":{name:"Execution Step Reduction",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"design-pattern-usage":{name:"Design Pattern Usage",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},price:{name:"Price",type:"optional",subfeatures:{"free-for-all":{name:"Free for All",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:["money-back-guarantee"],supports:[],hurts:[]},expertModelTrace:{}},"low-price-strategy":{name:"Low-Price Strategy",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"money-back-guarantee":{name:"Money-Back Guarantee",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:["free-for-all"],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},network:{name:"Network",type:"optional",subfeatures:{"quantity-network-size":{name:"Quantity Network Size",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"quality-network-users":{name:"Quality Network Users",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:["single-user"],supports:[],hurts:[]},expertModelTrace:{}},"function-scope":{name:"Function Scope",type:"optional",subfeatures:{"minimized-scope":{name:"Minimized Scope",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"maximized-scope":{name:"Maximized Scope",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"medium-scope":{name:"Medium Scope",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"task-management":{name:"Task Management",type:"optional",subfeatures:{"splitting-of-tasks":{name:"Splitting of Tasks",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"work-together":{name:"Work Together",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:["single-user"],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"workflow-management":{name:"Workflow Management",type:"optional",subfeatures:{"workflow-templates":{name:"Workflow Templates",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"workflow-tracker":{name:"Workflow Tracker",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"intelligent-flow-planer":{name:"Intelligent Flow Planer",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"connect-to-calender":{name:"Connect To Calender",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"productivity-analysis":{name:"Productivity Analysis",type:"optional",subfeatures:{"light-weight-tooling":{name:"Light-Weight Tooling",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"productivity-optimization":{name:"Productivity Optimization",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"segment-optimized-functions":{name:"Segment Optimized Functions",type:"optional",subfeatures:{general:{name:"General",type:"optional",subfeatures:{"automatic-task-breakdown":{name:"Automatic Task Breakdown",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"task-time-prediction":{name:"Task Time Prediction",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"connect-to-friends":{name:"Connect To Friends",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:["single-user"],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"fitness-functions":{name:"Fitness Functions",type:"optional",subfeatures:{"time-to-sport":{name:"Time To Sport",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"calories-tracker":{name:"Calories Tracker",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"work&life-balance":{name:"Work&Life Balance",type:"optional",subfeatures:{"optimize-scheduling":{name:"Optimize Scheduling",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"optimize-concentration":{name:"Optimize Concentration",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"business-functions":{name:"Business Functions",type:"optional",subfeatures:{"automatic-task-scheduling":{name:"Automatic Task Scheduling",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"workflow-tracking":{name:"Workflow Tracking",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"customer-segments":{name:"Customer Segment",type:"optional",subfeatures:{"interaction-type":{name:"Interaction Type",type:"optional",subfeatures:{"single-user":{name:"Single-User",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:["network","work-together","connect-to-friends","friend-challenges"],supports:[],hurts:[]},expertModelTrace:{}},"single-sided-market":{name:"Single-Sided-Market",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"multi-sided-market":{name:"Multi-Sided-Market",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:"xor",relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"market-size":{name:"Market Size",type:"optional",subfeatures:{"niche-market":{name:"Niche Market",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"mass-market":{name:"Mass Market",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:"xor",relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"target-group":{name:"Target Group",type:"optional",subfeatures:{"fitness-improver":{name:"Fitness Improver",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["fitness-functions"],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"life-improver":{name:"Life Improver",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["work&life-balance"],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"business-improver":{name:"Business Improver",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["business-functions"],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"user-type":{name:"User Type",type:"optional",subfeatures:{"private-user":{name:"Private User",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"professional-user":{name:"Professional User",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},homing:{name:"Homing",type:"optional",subfeatures:{"single-homed":{name:"Single-Homed",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:["multi-os-access"],supports:[],hurts:[]},expertModelTrace:{}},"multi-homed":{name:"Multi-Homed",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:"xor",relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"customer-relationships":{name:"Customer Relationships",type:"optional",subfeatures:{"customer-aquisition":{name:"Customer Aquisition",type:"optional",subfeatures:{advertisements:{name:"Advertisements",type:"optional",subfeatures:{"facbook-ads":{name:"Facbook Ads",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"friend-invitation-system":{name:"Friend Invitation System",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"existing-customer-base":{name:"Existing Customer Base",type:"optional",subfeatures:{"brand-customer-base":{name:"Brand Customer Base",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"os-customer-base":{name:"OS Customer Base",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"online-communities-1":{name:"Online Communities",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"facebook-groups-1":{name:"Facebook Groups",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["marketing"],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"customer-retention":{name:"Customer Retention",type:"optional",subfeatures:{"locked-in":{name:"Locked-In",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},gamification:{name:"Gamification",type:"optional",subfeatures:{"progress-discovery":{name:"Progress Discovery",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"friend-challenges":{name:"Friend Challenges",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:["single-user"],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"customer-support":{name:"Customer Support",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"free-usage":{name:"Free Usage",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"boosting-sales":{name:"Boosting Sales",type:"optional",subfeatures:{"forced-stops":{name:"Forced Stops",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},channels:{name:"Customer Channels",type:"optional",subfeatures:{awareness:{name:"Awareness",type:"optional",subfeatures:{"word-of-mouth":{name:"Word-of-Mouth",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"store-placement":{name:"Store Placement",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"facebook-groups":{name:"Facebook Groups",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"online-communities":{name:"Online Communities",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"social-media-ads":{name:"Social Media Ads",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"influencer-marketing":{name:"Influencer Marketing",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},evaluation:{name:"Evaluation",type:"optional",subfeatures:{freemium:{name:"Freemium",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"appstore-optimization":{name:"AppStore Optimization",type:"optional",subfeatures:{"review-reactions":{name:"Review Reactions",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"company-branding":{name:"Company Branding",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},purchase:{name:"Purchase",type:"mandatory",subfeatures:{"in-store-purchase":{name:"In-Store Purchase",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"out-of-store-purchase":{name:"Out-of-Store Purchase",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["payment-provider"],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"no-purchase":{name:"No Purchase",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},delivery:{name:"Delivery",type:"mandatory",subfeatures:{"in-store-delivery":{name:"In-Store Delivery",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"out-of-store-delivery":{name:"Out-of-Store Delivery",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"after-sales":{name:"After Sales",type:"optional",subfeatures:{"app-updates":{name:"App Updates",type:"optional",subfeatures:{"update-with-os":{name:"Update with OS",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"content-updates":{name:"Content Updates",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"included-in-os":{name:"Included in OS",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"key-partners":{name:"Key Partners",type:"optional",subfeatures:{"advertisement-partner":{name:"Advertisement Partner",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["advertisement"],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"app-developer":{name:"App Developer",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"content-provider":{name:"Content Provider",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"instrastructure-provider":{name:"Instrastructure Provider",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"manufacturing-provider":{name:"Manufacturing Provider",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"payment-provider":{name:"Payment Provider",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"store-provider":{name:"Store Provider",type:"mandatory",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"third-party-developer":{name:"Third-Party Developer",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["developer-api"],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},influencer:{name:"Influencer",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"key-activities":{name:"Key Activities",type:"optional",subfeatures:{"develop-hard--and-software":{name:"Develop Hard- and Software",type:"mandatory",subfeatures:{"develop-software":{name:"Develop Software",type:"mandatory",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"develop-hardware":{name:"Develop Hardware",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:["development"],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"negotiate-licsenses":{name:"Negotiate Licenses",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["licenses"],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"manage-infrastructure":{name:"Manage Infrastructure",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["infrastructure"],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"produce-content":{name:"Produce Content",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["production-"],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"plan-marketing-campaigns":{name:"Plan Marketing Campaigns",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["marketing"],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"support-customer":{name:"Support Customer",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["support"],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"key-resources":{name:"Key Resources",type:"optional",subfeatures:{algorithms:{name:"Algorithms",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},brands:{name:"Brands",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},content:{name:"Content",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"developer-licsense":{name:"Developer License",type:"mandatory",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},patents:{name:"Patents",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"infrastructure-1":{name:"Infrastructure",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["infrastructure"],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"developer-api":{name:"Developer API",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"revenue-streams":{name:"Revenue Streams",type:"optional",subfeatures:{advertisement:{name:"Advertisement",type:"optional",subfeatures:{"inn-app-ads":{name:"In-App Ads",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"personalized-ads":{name:"Personalized Ads",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},brokerage:{name:"Brokerage",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},donation:{name:"Donation",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},sale:{name:"Sale",type:"optional",subfeatures:{"app-purchase":{name:"App Purchase",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"in-app-purchase":{name:"In-App Purchase",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},subscription:{name:"Subscription",type:"optional",subfeatures:{"normal-account":{name:"Normal Account",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"professional-account":{name:"Professional Account",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"business-account":{name:"Business Account",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"cross-financed":{name:"Cross-Financed",type:"optional",subfeatures:{hardware:{name:"Hardware",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},software:{name:"Software",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:"or",relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"cost-structure":{name:"Cost Structure",type:"optional",subfeatures:{development:{name:"Development",type:"mandatory",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},infrastructure:{name:"Infrastructure",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},licenses:{name:"Licenses",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},marketing:{name:"Marketing",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"production-":{name:"Production ",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},support:{name:"Support",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},instances:[{name:"Market Analysis",type:"example",usedFeatures:["value-propositions","accessibility","anonymous-access","simplified-sign-in-servies","customization","personalized-recommendations","changeable-user-interfaces","design-/-usability","execution-step-reduction","design-pattern-usage","price","free-for-all","low-price-strategy","money-back-guarantee","network","quantity-network-size","quality-network-users","customer-segments","interaction-type","single-user","single-sided-market","multi-sided-market","market-size","niche-market","mass-market","target-group","user-type","private-user","professional-user","customer-relationships","customer-aquisition","advertisements","friend-invitation-system","customer-retention","locked-in","gamification","customer-support","boosting-sales","forced-stops","channels","awareness","word-of-mouth","store-placement","evaluation","freemium","appstore-optimization","purchase","in-store-purchase","out-of-store-purchase","delivery","in-store-delivery","out-of-store-delivery","after-sales","app-updates","content-updates","key-partners","advertisement-partner","app-developer","content-provider","instrastructure-provider","manufacturing-provider","payment-provider","store-provider","key-activities","develop-hard--and-software","develop-software","develop-hardware","negotiate-licsenses","manage-infrastructure","produce-content","plan-marketing-campaigns","support-customer","key-resources","algorithms","brands","content","developer-licsense","patents","infrastructure-1","revenue-streams","advertisement","inn-app-ads","personalized-ads","brokerage","donation","sale","app-purchase","in-app-purchase","subscription","cost-structure","development","infrastructure","licenses","marketing","production-","support"]},{name:"Competitor Analysis: Microsoft Todo",type:"example",usedFeatures:["value-propositions","accessibility","simplified-sign-in-servies","multi-os-access","customization","personalized-recommendations","function-scope","medium-scope","task-management","work-together","workflow-management","intelligent-flow-planer","customer-segments","interaction-type","single-sided-market","market-size","mass-market","user-type","private-user","professional-user","homing","multi-homed","customer-relationships","customer-aquisition","existing-customer-base","customer-retention","customer-support","free-usage","channels","awareness","word-of-mouth","evaluation","company-branding","purchase","in-store-purchase","delivery","in-store-delivery","after-sales","app-updates","key-partners","store-provider","key-activities","develop-hard--and-software","manage-infrastructure","plan-marketing-campaigns","support-customer","key-resources","developer-licsense","infrastructure-1","revenue-streams","cross-financed","cost-structure","development","infrastructure","marketing","support"]},{name:"Competitor Analysis: Wunderlist",type:"example",usedFeatures:["value-propositions","accessibility","simplified-sign-in-servies","multi-os-access","device-syncronisation","design-/-usability","design-pattern-usage","function-scope","maximized-scope","task-management","splitting-of-tasks","work-together","workflow-management","customer-segments","interaction-type","single-sided-market","market-size","mass-market","user-type","private-user","professional-user","homing","multi-homed","customer-relationships","customer-aquisition","advertisements","friend-invitation-system","customer-retention","customer-support","channels","awareness","word-of-mouth","store-placement","social-media-ads","evaluation","freemium","appstore-optimization","purchase","in-store-purchase","out-of-store-purchase","delivery","in-store-delivery","after-sales","app-updates","key-partners","instrastructure-provider","payment-provider","store-provider","third-party-developer","key-activities","develop-hard--and-software","develop-software","manage-infrastructure","plan-marketing-campaigns","support-customer","key-resources","algorithms","developer-licsense","infrastructure-1","developer-api","revenue-streams","subscription","normal-account","professional-account","cost-structure","development","infrastructure","marketing","support"]},{name:"Competitor Analysis: Any.do",type:"example",usedFeatures:["value-propositions","design-/-usability","execution-step-reduction","design-pattern-usage","function-scope","maximized-scope","task-management","splitting-of-tasks","work-together","workflow-management","connect-to-calender","customer-segments","interaction-type","single-sided-market","market-size","mass-market","user-type","private-user","professional-user","homing","multi-homed","customer-relationships","customer-aquisition","advertisements","friend-invitation-system","customer-retention","customer-support","channels","awareness","word-of-mouth","store-placement","social-media-ads","evaluation","freemium","purchase","in-store-purchase","out-of-store-purchase","delivery","in-store-delivery","after-sales","app-updates","key-partners","instrastructure-provider","payment-provider","store-provider","third-party-developer","key-activities","develop-hard--and-software","develop-software","manage-infrastructure","plan-marketing-campaigns","support-customer","key-resources","developer-licsense","infrastructure-1","developer-api","revenue-streams","subscription","normal-account","professional-account","business-account","cost-structure","development","infrastructure","marketing","support"]},{name:"Competitor Analysis: Todoist",type:"example",usedFeatures:["value-propositions","customization","changeable-user-interfaces","design-/-usability","design-pattern-usage","function-scope","maximized-scope","task-management","workflow-management","workflow-templates","productivity-analysis","light-weight-tooling","customer-segments","interaction-type","single-sided-market","market-size","mass-market","user-type","private-user","professional-user","homing","multi-homed","customer-relationships","customer-aquisition","advertisements","friend-invitation-system","customer-retention","locked-in","customer-support","channels","awareness","word-of-mouth","social-media-ads","evaluation","freemium","purchase","in-store-purchase","out-of-store-purchase","delivery","in-store-delivery","after-sales","app-updates","key-partners","instrastructure-provider","payment-provider","store-provider","third-party-developer","key-activities","develop-hard--and-software","develop-software","manage-infrastructure","plan-marketing-campaigns","support-customer","key-resources","developer-licsense","infrastructure-1","developer-api","revenue-streams","subscription","normal-account","business-account","cost-structure","development","infrastructure","marketing","support"]},{name:"Competitor Analysis: Apples iOS",type:"example",usedFeatures:["value-propositions","design-/-usability","design-pattern-usage","function-scope","minimized-scope","task-management","customer-segments","interaction-type","single-user","market-size","mass-market","user-type","private-user","homing","single-homed","customer-relationships","customer-aquisition","existing-customer-base","channels","included-in-os","key-partners","key-activities","develop-hard--and-software","develop-software","manage-infrastructure","support-customer","key-resources","infrastructure-1","revenue-streams","cross-financed","hardware","software","cost-structure","development","infrastructure","support"]},{name:"Competitor Analysis Googles Android",type:"example",usedFeatures:["value-propositions","design-/-usability","design-pattern-usage","function-scope","minimized-scope","task-management","customer-segments","interaction-type","single-user","market-size","mass-market","user-type","private-user","homing","single-homed","customer-relationships","customer-aquisition","existing-customer-base","channels","included-in-os","key-partners","key-activities","develop-hard--and-software","manage-infrastructure","support-customer","key-resources","infrastructure-1","revenue-streams","cross-financed","software","cost-structure","development","infrastructure","support"]},{name:"Niche Analysis",type:"example",usedFeatures:["value-propositions","segment-optimized-functions","general","automatic-task-breakdown","task-time-prediction","connect-to-friends","fitness-functions","time-to-sport","calories-tracker","work&life-balance","optimize-scheduling","optimize-concentration","business-functions","automatic-task-scheduling","workflow-tracking","customer-segments","target-group","fitness-improver","life-improver","business-improver","customer-relationships","customer-aquisition","online-communities-1","facebook-groups-1","customer-retention","gamification","progress-discovery","friend-challenges","channels","awareness","facebook-groups","online-communities","social-media-ads","influencer-marketing","key-partners","influencer","key-activities","key-resources","revenue-streams","cost-structure"]},{name:"Customer Analysis: Fitness Improver",type:"example",usedFeatures:["value-propositions","accessibility","anonymous-access","simplified-sign-in-servies","segment-optimized-functions","general","automatic-task-breakdown","connect-to-friends","fitness-functions","time-to-sport","calories-tracker","customer-segments","interaction-type","single-sided-market","market-size","niche-market","target-group","fitness-improver","user-type","private-user","homing","multi-homed","customer-relationships","customer-aquisition","friend-invitation-system","online-communities-1","facebook-groups-1","customer-retention","gamification","progress-discovery","friend-challenges","free-usage","channels","awareness","word-of-mouth","facebook-groups","online-communities","evaluation","appstore-optimization","purchase","in-store-purchase","delivery","in-store-delivery","after-sales","app-updates","content-updates","key-partners","advertisement-partner","content-provider","instrastructure-provider","store-provider","key-activities","develop-hard--and-software","develop-software","produce-content","plan-marketing-campaigns","support-customer","key-resources","algorithms","content","developer-licsense","infrastructure-1","revenue-streams","advertisement","inn-app-ads","cost-structure","development","infrastructure","marketing","production-","support"]},{name:"Customer Analysis: Work&Life Improver",type:"example",usedFeatures:["value-propositions","accessibility","simplified-sign-in-servies","task-management","splitting-of-tasks","productivity-analysis","productivity-optimization","segment-optimized-functions","general","automatic-task-breakdown","task-time-prediction","work&life-balance","optimize-scheduling","optimize-concentration","customer-segments","interaction-type","single-user","market-size","niche-market","target-group","life-improver","user-type","private-user","homing","multi-homed","customer-relationships","customer-aquisition","advertisements","friend-invitation-system","facebook-groups-1","customer-retention","locked-in","gamification","progress-discovery","channels","awareness","word-of-mouth","facebook-groups","social-media-ads","evaluation","freemium","appstore-optimization","purchase","in-store-purchase","delivery","in-store-delivery","after-sales","app-updates","content-updates","key-partners","instrastructure-provider","store-provider","key-activities","develop-hard--and-software","develop-software","manage-infrastructure","produce-content","plan-marketing-campaigns","support-customer","key-resources","algorithms","content","developer-licsense","infrastructure-1","revenue-streams","subscription","cost-structure","development","infrastructure","marketing","production-","support"]},{name:"Customer Analysis: Business Improver",type:"example",usedFeatures:["value-propositions","task-management","splitting-of-tasks","work-together","workflow-management","workflow-templates","workflow-tracker","intelligent-flow-planer","connect-to-calender","productivity-analysis","segment-optimized-functions","general","automatic-task-breakdown","task-time-prediction","business-functions","automatic-task-scheduling","workflow-tracking","customer-segments","interaction-type","single-sided-market","market-size","niche-market","target-group","business-improver","user-type","professional-user","homing","multi-homed","customer-relationships","customer-aquisition","advertisements","friend-invitation-system","online-communities-1","customer-retention","locked-in","gamification","progress-discovery","customer-support","channels","awareness","word-of-mouth","online-communities","social-media-ads","evaluation","freemium","appstore-optimization","purchase","in-store-purchase","out-of-store-purchase","delivery","in-store-delivery","after-sales","app-updates","key-partners","instrastructure-provider","payment-provider","store-provider","key-activities","develop-hard--and-software","manage-infrastructure","plan-marketing-campaigns","support-customer","key-resources","algorithms","developer-licsense","infrastructure-1","revenue-streams","subscription","professional-account","business-account","cost-structure","development","infrastructure","marketing","support"]}],expertModel:!1,expertModelTraces:{}},{name:"Mobile Apps",description:"An example of expert knowledge about mobile apps",version:"1.0.0",copyright:"MIT License",author:{name:"First Author",company:"XXX University",email:"xxxx@xxxx.xx",website:"xxxx.xx"},features:{"value-propositions":{name:"Value Propositions",type:"optional",subfeatures:{accessibility:{name:"Accessibility",description:"access strategy of the app",type:"optional",subfeatures:{"anonymous-access":{name:"Anonymous Access",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"simplified-sign-in-servies":{name:"Simplified Sign-In Servies",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"different-devices":{name:"Different Devices",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"paid-account":{name:"Paid Account",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"free-account":{name:"Free Account",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},customization:{name:"Customization",type:"optional",subfeatures:{"personalized-recommendations":{name:"Personalized Recommendations",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"changeable-user-interfaces":{name:"Changeable User Interfaces",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"design-/-usability":{name:"Design / Usability",type:"optional",subfeatures:{"execution-step-reduction":{name:"Execution Step Reduction",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"design-pattern-usage":{name:"Design Pattern Usage",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"easy-usability":{name:"Easy Usability",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"responsible-design":{name:"Responsible Design",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},price:{name:"Price",type:"optional",subfeatures:{"low-price-strategy":{name:"Low-Price Strategy",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"money-back-guarantee":{name:"Money-Back Guarantee",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"cancel-anytime":{name:"Cancel Anytime",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["membership"],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"freemium-1":{name:"Freemium",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"equal-price-strategy":{name:"Equal-Price-Strategy",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:"xor",relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},network:{name:"Network",type:"optional",subfeatures:{"quantity-network-size":{name:"Quantity Network Size",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"quality-network-users":{name:"Quality Network Users",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"share-content":{name:"Share Content",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"connect-with-other-users":{name:"Connect with other Users",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"share-playlists":{name:"Share Playlists",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"customer-segments":{name:"Customer Segment",type:"optional",subfeatures:{"interaction-type":{name:"Interaction Type",description:"interaction of a customer with other customers",type:"optional",subfeatures:{"single-user":{name:"Single-User",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:["network"],supports:[],hurts:[]},expertModelTrace:{}},"single-sided-market":{name:"Single-Sided-Market",description:"interacting with the same type of customer",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"multi-sided-market":{name:"Multi-Sided-Market",description:"interacting with customers of another type",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:"xor",relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"market-size":{name:"Market Size",type:"optional",subfeatures:{"niche-market":{name:"Niche Market",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"mass-market":{name:"Mass Market",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:"xor",relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"target-group":{name:"Target Group",type:"optional",subfeatures:{gender:{name:"Gender",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},interests:{name:"Interests",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},relationship:{name:"Relationship",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"content-consumer":{name:"Content-Consumer",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"content-creator":{name:"Content-Creator",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"user-type":{name:"User Type",type:"optional",subfeatures:{"private-user":{name:"Private User",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"professional-user":{name:"Professional User",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"customer-relationships":{name:"Customer Relationships",type:"optional",subfeatures:{"customer-aquisition":{name:"Customer Aquisition",description:"establishment of a relationship",type:"optional",subfeatures:{advertisements:{name:"Advertisements",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"friend-invitation-system":{name:"Friend Invitation System",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"single-sign-in":{name:"Single-Sign-In",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"customer-retention":{name:"Customer Retention",description:"maintain the relationship",type:"optional",subfeatures:{"locked-in":{name:"Locked-In",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},gamification:{name:"Gamification",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"customer-support":{name:"Customer Support",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"content-updates-1":{name:"Content-Updates",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"self-service":{name:"Self-Service",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"content-quantity":{name:"Content-Quantity",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"boosting-sales":{name:"Boosting Sales",description:"increase the revenue from existing customers",type:"optional",subfeatures:{"forced-stops":{name:"Forced Stops",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},channels:{name:"Customer Channels",type:"optional",subfeatures:{awareness:{name:"Awareness",description:"attract attention",type:"optional",subfeatures:{"word-of-mouth":{name:"Word-of-Mouth",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"store-placement":{name:"Store Placement",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"advertisement-1":{name:"Advertisement",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"store-position":{name:"Store Position",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"3rd-party-integration":{name:"3rd-Party-Integration",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"distributable-codes":{name:"Distributable Codes",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},evaluation:{name:"Evaluation",description:"customer should be able to evaluate benefits of the application",type:"optional",subfeatures:{freemium:{name:"Freemium",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"appstore-optimization":{name:"AppStore Optimization",type:"optional",subfeatures:{"review-reactions":{name:"Review Reactions",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},rating:{name:"Rating",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},reviews:{name:"Reviews",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"free-month":{name:"Free Month",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},purchase:{name:"Purchase",type:"mandatory",subfeatures:{"in-store-purchase":{name:"In-Store Purchase",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"out-of-store-purchase":{name:"Out-of-Store Purchase",type:"optional",subfeatures:{homepage:{name:"Homepage",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"app-1":{name:"App",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:["payment-provider"],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"no-purchase":{name:"No Purchase",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},delivery:{name:"Delivery",type:"mandatory",subfeatures:{"in-store-delivery":{name:"In-Store Delivery",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"out-of-store-delivery":{name:"Out-of-Store Delivery",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"after-sales":{name:"After Sales",description:"customer receives value after the purchase process",type:"optional",subfeatures:{"app-updates":{name:"App Updates",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"content-updates":{name:"Content Updates",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"push-notifications":{name:"Push-Notifications",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"key-partners":{name:"Key Partners",type:"optional",subfeatures:{"advertisement-partner":{name:"Advertisement Partner",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"app-developer":{name:"App Developer",type:"optional",subfeatures:{"no-sdk":{name:"No SDK",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"sdk-integration":{name:"SDK Integration",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"content-provider":{name:"Content Partner",type:"optional",subfeatures:{"movie-studios":{name:"Movie Studios",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"production-partner":{name:"Production Partner",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"content-creators":{name:"Content-Creators",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"record-labels":{name:"Record Labels",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"independent-musicians":{name:"Independent Musicians",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"instrastructure-provider":{name:"Instrastructure Provider",type:"optional",subfeatures:{"amazon-aws":{name:"Amazon AWS",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"google-cloud-platform":{name:"Google Cloud Platform",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"manufacturing-provider":{name:"Manufacturing Provider",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"payment-provider":{name:"Payment Provider",type:"optional",subfeatures:{"own-payment-provider-additional-to-store-provider":{name:"Own Payment Provider additional to Store Provider",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"store-provider":{name:"Store Provider",type:"mandatory",subfeatures:{"partner-for-developer-license-and-store-publishing":{name:"Partner for Developer License and Store Publishing",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"key-activities":{name:"Key Activities",type:"optional",subfeatures:{"develop-hard--and-software":{name:"Develop Hard- and Software",type:"mandatory",subfeatures:{},subfeatureConnections:null,relationships:{requires:["development"],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"negotiate-licsenses":{name:"Negotiate Licenses",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"manage-infrastructure":{name:"Manage Infrastructure",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"produce-content":{name:"Produce Content",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"plan-marketing-campaigns":{name:"Plan Marketing Campaigns",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"support-customer":{name:"Support Customer",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"key-resources":{name:"Key Resources",type:"optional",subfeatures:{algorithms:{name:"Algorithms",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},brands:{name:"Brands",type:"optional",subfeatures:{"youtube-originals":{name:"YouTube Originals",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"netflix-originals-1":{name:"Netflix Originals",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},podcasts:{name:"Podcasts",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},content:{name:"Content",type:"optional",subfeatures:{"netflix-originals":{name:"Netflix Originals",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"licensed-content":{name:"Licensed Content",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"youtube-originals-1":{name:"YouTube Originals",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"content-from-content-creators":{name:"Content from Content-Creators",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"exclusive-rights-for-some-podcast":{name:"Exclusive Rights for some Podcast",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"music-licenses":{name:"Music Licenses",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"developer-licsense":{name:"Developer License",type:"mandatory",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},patents:{name:"Patents",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"infrastructure-1":{name:"Infrastructure",type:"optional",subfeatures:{"external-infrastructure":{name:"External Infrastructure",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"internal-inrastructure":{name:"Internal Inrastructure",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"revenue-streams":{name:"Revenue Streams",type:"mandatory",subfeatures:{advertisement:{name:"Advertisement",type:"optional",subfeatures:{"inn-app-ads":{name:"In-App Ads",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"personalized-ads":{name:"Personalized Ads",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:["membership"],supports:[],hurts:[]},expertModelTrace:{}},"without-account":{name:"without Account",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"with-free-account":{name:"with Free Account",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:["advertisement-partner"],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},brokerage:{name:"Brokerage",description:"between different customers",type:"optional",subfeatures:{"money-for-content-creators":{name:"Money for Content Creators",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},donation:{name:"Donation",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},sale:{name:"Sale",type:"optional",subfeatures:{"app-purchase":{name:"App Purchase",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"in-app-purchase":{name:"In-App Purchase",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"sell-movies":{name:"Sell Movies",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"lend-movies":{name:"Lend Movies",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},subscription:{name:"Subscription",type:"optional",subfeatures:{membership:{name:"Membership",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:["personalized-ads"],supports:[],hurts:[]},expertModelTrace:{}},"premium-content":{name:"Premium Content",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"content-1":{name:"Content",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"premium-features":{name:"Premium Features",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:"or",relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"cost-structure":{name:"Cost Structure",type:"optional",subfeatures:{development:{name:"Development",type:"mandatory",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},infrastructure:{name:"Infrastructure",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},licenses:{name:"Licenses",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},marketing:{name:"Marketing",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"production-":{name:"Production ",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},support:{name:"Support",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},instances:[{id:0,name:"Netflix",type:"example",usedFeatures:["value-propositions","customer-segments","customer-relationships","channels","key-partners","key-activities","key-resources","revenue-streams","cost-structure","accessibility","paid-account","customization","design-/-usability","price","personalized-recommendations","easy-usability","responsible-design","low-price-strategy","interaction-type","market-size","user-type","target-group","single-user","mass-market","content-consumer","private-user","awareness","evaluation","purchase","delivery","after-sales","word-of-mouth","advertisement-1","store-position","rating","reviews","free-month","out-of-store-purchase","homepage","in-store-delivery","app-updates","content-updates","push-notifications","customer-aquisition","customer-retention","single-sign-in","friend-invitation-system","content-updates-1","self-service","subscription","app-developer","content-provider","instrastructure-provider","payment-provider","store-provider","no-sdk","movie-studios","production-partner","amazon-aws","own-payment-provider-additional-to-store-provider","partner-for-developer-license-and-store-publishing","algorithms","brands","developer-licsense","content","infrastructure-1","patents","external-infrastructure","netflix-originals","licensed-content","develop-hard--and-software","negotiate-licsenses","manage-infrastructure","produce-content","plan-marketing-campaigns","support-customer","development","infrastructure","licenses","marketing","production-","support","content-1","netflix-originals-1"]},{id:1,name:"YouTube",type:"example",usedFeatures:["value-propositions","customer-segments","customer-relationships","channels","key-partners","key-activities","key-resources","revenue-streams","cost-structure","accessibility","customization","design-/-usability","price","network","anonymous-access","free-account","paid-account","personalized-recommendations","responsible-design","easy-usability","freemium-1","quantity-network-size","share-content","connect-with-other-users","interaction-type","market-size","target-group","user-type","multi-sided-market","mass-market","content-consumer","content-creator","private-user","awareness","evaluation","purchase","delivery","after-sales","word-of-mouth","advertisement-1","store-position","3rd-party-integration","rating","reviews","free-month","out-of-store-purchase","homepage","app-1","in-store-delivery","app-updates","content-updates","push-notifications","customer-aquisition","customer-retention","friend-invitation-system","single-sign-in","locked-in","self-service","advertisement","brokerage","sale","subscription","without-account","with-free-account","money-for-content-creators","sell-movies","lend-movies","premium-content","advertisement-partner","app-developer","content-provider","instrastructure-provider","payment-provider","store-provider","partner-for-developer-license-and-store-publishing","own-payment-provider-additional-to-store-provider","google-cloud-platform","movie-studios","content-creators","sdk-integration","algorithms","brands","content","developer-licsense","infrastructure-1","patents","youtube-originals","youtube-originals-1","content-from-content-creators","internal-inrastructure","develop-hard--and-software","negotiate-licsenses","plan-marketing-campaigns","support-customer","produce-content","manage-infrastructure","development","infrastructure","licenses","marketing","production-","support"]},{id:2,name:"Spotify",type:"example",description:"",usedFeatures:["value-propositions","customer-segments","customer-relationships","channels","key-partners","key-activities","key-resources","revenue-streams","cost-structure","accessibility","customization","design-/-usability","price","network","free-account","paid-account","personalized-recommendations","responsible-design","easy-usability","connect-with-other-users","interaction-type","market-size","target-group","user-type","mass-market","content-consumer","private-user","awareness","evaluation","purchase","delivery","after-sales","word-of-mouth","advertisement-1","store-position","3rd-party-integration","rating","reviews","out-of-store-purchase","homepage","app-1","in-store-delivery","app-updates","content-updates","push-notifications","customer-aquisition","customer-retention","friend-invitation-system","single-sign-in","self-service","advertisement","subscription","with-free-account","advertisement-partner","app-developer","content-provider","instrastructure-provider","payment-provider","store-provider","partner-for-developer-license-and-store-publishing","own-payment-provider-additional-to-store-provider","google-cloud-platform","sdk-integration","algorithms","brands","content","developer-licsense","infrastructure-1","patents","develop-hard--and-software","negotiate-licsenses","plan-marketing-campaigns","support-customer","produce-content","manage-infrastructure","development","infrastructure","licenses","marketing","production-","support","equal-price-strategy","share-playlists","single-sided-market","distributable-codes","content-quantity","premium-features","record-labels","independent-musicians","podcasts","exclusive-rights-for-some-podcast","music-licenses","external-infrastructure"]}],_id:"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708",expertModel:!0,expertModelTraces:{},nextInstanceId:3},{name:"Simple Mobile Todo-Apps",description:"A simple example of expert knowledge about Mobile Todo-Apps",version:"1.0.0",copyright:"MIT License",author:{name:"First Author",company:"XXX University",email:"xxxx@xxxx.xx",website:"xxxx.xx"},features:{"value-propositions":{name:"Value Propositions",description:null,type:"mandatory",subfeatures:{"save-privacy":{name:"Save Privacy",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:["in-app-advertisement","free-for-all"],supports:[],hurts:[]},expertModelTrace:{}},"free-for-all":{name:"Free For All",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["in-app-advertisement"],excludes:["save-privacy"],supports:[],hurts:[]},expertModelTrace:{}},"collaborative-with-others":{name:"Collaborate With Others",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["license-subscription"],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:"or",relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"customer-segments":{name:"Customer Segment",description:null,type:"optional",subfeatures:{"private-user":{name:"Private User",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"professional-user":{name:"Professional User",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["save-privacy"],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:"xor",relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"customer-relationships":{name:"Customer Relationships",type:"optional",subfeatures:{"self-service":{name:"Self Service",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:["professional-user"]},expertModelTrace:{}},"phone-support":{name:"Phone Support",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:["professional-user"],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},channels:{name:"Customer Channels",type:"optional",subfeatures:{"facebook-ads":{name:"Facebook Ads",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["private-user"],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"linkedin-ads":{name:"LinkedIn Ads",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["professional-user"],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"key-partners":{name:"Key Partners",type:"optional",subfeatures:{"hosting-provider":{name:"Hosting Provider",type:"mandatory",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"social-networks":{name:"Social Networks",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"key-activities":{name:"Key Activities",type:"optional",subfeatures:{"develop-app":{name:"Develop App",type:"mandatory",subfeatures:{},subfeatureConnections:null,relationships:{requires:["development-costs"],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"plan-marketing":{name:"Plan Marketing",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["marketing-costs"],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"key-resources":{name:"Key Resources",type:"optional",subfeatures:{algorithms:{name:"Algorithms",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},infrastructure:{name:"Infrastructure",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"revenue-streams":{name:"Revenue Streams",description:null,type:"mandatory",subfeatures:{"in-app-advertisement":{name:"In-App Advertisement",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:["save-privacy"],supports:[],hurts:[]},expertModelTrace:{}},"license-purchase":{name:"License Purchase",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:["license-subscription"],supports:[],hurts:[]},expertModelTrace:{}},"license-subscription":{name:"License Subscription",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:["license-purchase"],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:"or",relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"cost-structure":{name:"Cost Structures",type:"optional",subfeatures:{"development-costs":{name:"Development Costs",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"marketing-costs":{name:"Marketing Costs",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"support-costs":{name:"Support Costs",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},instances:[],_id:"651e4909-ce3c-4853-b861-b0c0d58c2d43",expertModel:!0,expertModelTraces:{},nextInstanceId:1},{name:"Mobile Todo-Apps",description:"An example of expert knowledge about mobile Todo-Apps",version:"1.0.0",copyright:"MIT License",author:{name:"First Author",company:"XXX University",email:"xxxx@xxxx.xx",website:"xxxx.xx"},features:{"value-propositions":{name:"Value Propositions",type:"optional",subfeatures:{accessibility:{name:"Accessibility",type:"optional",subfeatures:{"anonymous-access":{name:"Anonymous Access",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:["personalized-recommendations"],supports:[],hurts:[]},expertModelTrace:{}},"simplified-sign-in-servies":{name:"Simplified Sign-In Servies",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"multi-os-access":{name:"Multi-OS Access",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:["single-homed"],supports:[],hurts:[]},expertModelTrace:{}},"device-syncronisation":{name:"Device Syncronisation",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},customization:{name:"Customization",type:"optional",subfeatures:{"personalized-recommendations":{name:"Personalized Recommendations",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:["anonymous-access"],supports:[],hurts:[]},expertModelTrace:{}},"changeable-user-interfaces":{name:"Changeable User Interfaces",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"design-/-usability":{name:"Design / Usability",type:"optional",subfeatures:{"execution-step-reduction":{name:"Execution Step Reduction",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"design-pattern-usage":{name:"Design Pattern Usage",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},price:{name:"Price",type:"optional",subfeatures:{"free-for-all":{name:"Free for All",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:["money-back-guarantee"],supports:[],hurts:[]},expertModelTrace:{}},"low-price-strategy":{name:"Low-Price Strategy",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"money-back-guarantee":{name:"Money-Back Guarantee",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:["free-for-all"],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},network:{name:"Network",type:"optional",subfeatures:{"quantity-network-size":{name:"Quantity Network Size",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"quality-network-users":{name:"Quality Network Users",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:["single-user"],supports:[],hurts:[]},expertModelTrace:{}},"function-scope":{name:"Function Scope",type:"optional",subfeatures:{"minimized-scope":{name:"Minimized Scope",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"maximized-scope":{name:"Maximized Scope",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"medium-scope":{name:"Medium Scope",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"task-management":{name:"Task Management",type:"optional",subfeatures:{"splitting-of-tasks":{name:"Splitting of Tasks",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"work-together":{name:"Work Together",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:["single-user"],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"workflow-management":{name:"Workflow Management",type:"optional",subfeatures:{"workflow-templates":{name:"Workflow Templates",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"workflow-tracker":{name:"Workflow Tracker",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"intelligent-flow-planer":{name:"Intelligent Flow Planer",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"connect-to-calender":{name:"Connect To Calender",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"productivity-analysis":{name:"Productivity Analysis",type:"optional",subfeatures:{"light-weight-tooling":{name:"Light-Weight Tooling",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"productivity-optimization":{name:"Productivity Optimization",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"segment-optimized-functions":{name:"Segment Optimized Functions",type:"optional",subfeatures:{general:{name:"General",type:"optional",subfeatures:{"automatic-task-breakdown":{name:"Automatic Task Breakdown",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"task-time-prediction":{name:"Task Time Prediction",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"connect-to-friends":{name:"Connect To Friends",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:["single-user"],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"fitness-functions":{name:"Fitness Functions",type:"optional",subfeatures:{"time-to-sport":{name:"Time To Sport",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"calories-tracker":{name:"Calories Tracker",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"work&life-balance":{name:"Work&Life Balance",type:"optional",subfeatures:{"optimize-scheduling":{name:"Optimize Scheduling",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"optimize-concentration":{name:"Optimize Concentration",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"business-functions":{name:"Business Functions",type:"optional",subfeatures:{"automatic-task-scheduling":{name:"Automatic Task Scheduling",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"workflow-tracking":{name:"Workflow Tracking",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"customer-segments":{name:"Customer Segment",type:"optional",subfeatures:{"interaction-type":{name:"Interaction Type",type:"optional",subfeatures:{"single-user":{name:"Single-User",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:["network","work-together","connect-to-friends","friend-challenges"],supports:[],hurts:[]},expertModelTrace:{}},"single-sided-market":{name:"Single-Sided-Market",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"multi-sided-market":{name:"Multi-Sided-Market",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:"xor",relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"market-size":{name:"Market Size",type:"optional",subfeatures:{"niche-market":{name:"Niche Market",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"mass-market":{name:"Mass Market",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:"xor",relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"target-group":{name:"Target Group",type:"optional",subfeatures:{"fitness-improver":{name:"Fitness Improver",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["fitness-functions"],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"life-improver":{name:"Life Improver",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["work&life-balance"],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"business-improver":{name:"Business Improver",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["business-functions"],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"user-type":{name:"User Type",type:"optional",subfeatures:{"private-user":{name:"Private User",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"professional-user":{name:"Professional User",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},homing:{name:"Homing",type:"optional",subfeatures:{"single-homed":{name:"Single-Homed",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:["multi-os-access"],supports:[],hurts:[]},expertModelTrace:{}},"multi-homed":{name:"Multi-Homed",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:"xor",relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"customer-relationships":{name:"Customer Relationships",type:"optional",subfeatures:{"customer-aquisition":{name:"Customer Aquisition",type:"optional",subfeatures:{advertisements:{name:"Advertisements",type:"optional",subfeatures:{"facbook-ads":{name:"Facbook Ads",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"friend-invitation-system":{name:"Friend Invitation System",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"existing-customer-base":{name:"Existing Customer Base",type:"optional",subfeatures:{"brand-customer-base":{name:"Brand Customer Base",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"os-customer-base":{name:"OS Customer Base",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"online-communities-1":{name:"Online Communities",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"facebook-groups-1":{name:"Facebook Groups",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["marketing"],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"customer-retention":{name:"Customer Retention",type:"optional",subfeatures:{"locked-in":{name:"Locked-In",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},gamification:{name:"Gamification",type:"optional",subfeatures:{"progress-discovery":{name:"Progress Discovery",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"friend-challenges":{name:"Friend Challenges",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:["single-user"],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"customer-support":{name:"Customer Support",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"free-usage":{name:"Free Usage",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"boosting-sales":{name:"Boosting Sales",type:"optional",subfeatures:{"forced-stops":{name:"Forced Stops",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},channels:{name:"Customer Channels",type:"optional",subfeatures:{awareness:{name:"Awareness",type:"optional",subfeatures:{"word-of-mouth":{name:"Word-of-Mouth",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"store-placement":{name:"Store Placement",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"facebook-groups":{name:"Facebook Groups",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"online-communities":{name:"Online Communities",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"social-media-ads":{name:"Social Media Ads",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"influencer-marketing":{name:"Influencer Marketing",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},evaluation:{name:"Evaluation",type:"optional",subfeatures:{freemium:{name:"Freemium",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"appstore-optimization":{name:"AppStore Optimization",type:"optional",subfeatures:{"review-reactions":{name:"Review Reactions",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"company-branding":{name:"Company Branding",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},purchase:{name:"Purchase",type:"mandatory",subfeatures:{"in-store-purchase":{name:"In-Store Purchase",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"out-of-store-purchase":{name:"Out-of-Store Purchase",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["payment-provider"],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"no-purchase":{name:"No Purchase",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},delivery:{name:"Delivery",type:"mandatory",subfeatures:{"in-store-delivery":{name:"In-Store Delivery",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"out-of-store-delivery":{name:"Out-of-Store Delivery",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"after-sales":{name:"After Sales",type:"optional",subfeatures:{"app-updates":{name:"App Updates",type:"optional",subfeatures:{"update-with-os":{name:"Update with OS",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"content-updates":{name:"Content Updates",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"included-in-os":{name:"Included in OS",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"key-partners":{name:"Key Partners",type:"optional",subfeatures:{"advertisement-partner":{name:"Advertisement Partner",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["advertisement"],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"app-developer":{name:"App Developer",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"content-provider":{name:"Content Provider",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"instrastructure-provider":{name:"Instrastructure Provider",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"manufacturing-provider":{name:"Manufacturing Provider",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"payment-provider":{name:"Payment Provider",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"store-provider":{name:"Store Provider",type:"mandatory",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"third-party-developer":{name:"Third-Party Developer",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["developer-api"],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},influencer:{name:"Influencer",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"key-activities":{name:"Key Activities",type:"optional",subfeatures:{"develop-hard--and-software":{name:"Develop Hard- and Software",type:"mandatory",subfeatures:{"develop-software":{name:"Develop Software",type:"mandatory",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"develop-hardware":{name:"Develop Hardware",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:["development"],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"negotiate-licsenses":{name:"Negotiate Licenses",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["licenses"],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"manage-infrastructure":{name:"Manage Infrastructure",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["infrastructure"],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"produce-content":{name:"Produce Content",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["production-"],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"plan-marketing-campaigns":{name:"Plan Marketing Campaigns",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["marketing"],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"support-customer":{name:"Support Customer",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["support"],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"key-resources":{name:"Key Resources",type:"optional",subfeatures:{algorithms:{name:"Algorithms",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},brands:{name:"Brands",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},content:{name:"Content",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"developer-licsense":{name:"Developer License",type:"mandatory",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},patents:{name:"Patents",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"infrastructure-1":{name:"Infrastructure",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["infrastructure"],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"developer-api":{name:"Developer API",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"revenue-streams":{name:"Revenue Streams",type:"optional",subfeatures:{advertisement:{name:"Advertisement",type:"optional",subfeatures:{"inn-app-ads":{name:"In-App Ads",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"personalized-ads":{name:"Personalized Ads",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},brokerage:{name:"Brokerage",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},donation:{name:"Donation",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},sale:{name:"Sale",type:"optional",subfeatures:{"app-purchase":{name:"App Purchase",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"in-app-purchase":{name:"In-App Purchase",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},subscription:{name:"Subscription",type:"optional",subfeatures:{"normal-account":{name:"Normal Account",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"professional-account":{name:"Professional Account",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"business-account":{name:"Business Account",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"cross-financed":{name:"Cross-Financed",type:"optional",subfeatures:{hardware:{name:"Hardware",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},software:{name:"Software",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:"or",relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"cost-structure":{name:"Cost Structure",type:"optional",subfeatures:{development:{name:"Development",type:"mandatory",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},infrastructure:{name:"Infrastructure",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},licenses:{name:"Licenses",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},marketing:{name:"Marketing",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},"production-":{name:"Production ",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}},support:{name:"Support",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{}}},instances:[{id:1,name:"Microsoft Todo",type:"example",description:"",usedFeatures:["value-propositions","accessibility","simplified-sign-in-servies","multi-os-access","customization","personalized-recommendations","function-scope","medium-scope","task-management","work-together","workflow-management","intelligent-flow-planer","customer-segments","interaction-type","single-sided-market","market-size","mass-market","user-type","private-user","professional-user","homing","multi-homed","customer-relationships","customer-aquisition","existing-customer-base","customer-retention","customer-support","free-usage","channels","awareness","word-of-mouth","evaluation","company-branding","purchase","in-store-purchase","delivery","in-store-delivery","after-sales","app-updates","key-partners","store-provider","key-activities","develop-hard--and-software","manage-infrastructure","plan-marketing-campaigns","support-customer","key-resources","developer-licsense","infrastructure-1","revenue-streams","cross-financed","cost-structure","development","infrastructure","marketing","support"]},{id:2,name:"Wunderlist",type:"example",description:"",usedFeatures:["value-propositions","accessibility","simplified-sign-in-servies","multi-os-access","device-syncronisation","design-/-usability","design-pattern-usage","function-scope","maximized-scope","task-management","splitting-of-tasks","work-together","workflow-management","customer-segments","interaction-type","single-sided-market","market-size","mass-market","user-type","private-user","professional-user","homing","multi-homed","customer-relationships","customer-aquisition","advertisements","friend-invitation-system","customer-retention","customer-support","channels","awareness","word-of-mouth","store-placement","social-media-ads","evaluation","freemium","appstore-optimization","purchase","in-store-purchase","out-of-store-purchase","delivery","in-store-delivery","after-sales","app-updates","key-partners","instrastructure-provider","payment-provider","store-provider","third-party-developer","key-activities","develop-hard--and-software","develop-software","manage-infrastructure","plan-marketing-campaigns","support-customer","key-resources","algorithms","developer-licsense","infrastructure-1","developer-api","revenue-streams","subscription","normal-account","professional-account","cost-structure","development","infrastructure","marketing","support"]},{id:3,name:"Any.do",type:"example",description:"",usedFeatures:["value-propositions","design-/-usability","execution-step-reduction","design-pattern-usage","function-scope","maximized-scope","task-management","splitting-of-tasks","work-together","workflow-management","connect-to-calender","customer-segments","interaction-type","single-sided-market","market-size","mass-market","user-type","private-user","professional-user","homing","multi-homed","customer-relationships","customer-aquisition","advertisements","friend-invitation-system","customer-retention","customer-support","channels","awareness","word-of-mouth","store-placement","social-media-ads","evaluation","freemium","purchase","in-store-purchase","out-of-store-purchase","delivery","in-store-delivery","after-sales","app-updates","key-partners","instrastructure-provider","payment-provider","store-provider","third-party-developer","key-activities","develop-hard--and-software","develop-software","manage-infrastructure","plan-marketing-campaigns","support-customer","key-resources","developer-licsense","infrastructure-1","developer-api","revenue-streams","subscription","normal-account","professional-account","business-account","cost-structure","development","infrastructure","marketing","support"]},{id:4,name:"Todoist",type:"example",description:"",usedFeatures:["value-propositions","customization","changeable-user-interfaces","design-/-usability","design-pattern-usage","function-scope","maximized-scope","task-management","workflow-management","workflow-templates","productivity-analysis","light-weight-tooling","customer-segments","interaction-type","single-sided-market","market-size","mass-market","user-type","private-user","professional-user","homing","multi-homed","customer-relationships","customer-aquisition","advertisements","friend-invitation-system","customer-retention","locked-in","customer-support","channels","awareness","word-of-mouth","social-media-ads","evaluation","freemium","purchase","in-store-purchase","out-of-store-purchase","delivery","in-store-delivery","after-sales","app-updates","key-partners","instrastructure-provider","payment-provider","store-provider","third-party-developer","key-activities","develop-hard--and-software","develop-software","manage-infrastructure","plan-marketing-campaigns","support-customer","key-resources","developer-licsense","infrastructure-1","developer-api","revenue-streams","subscription","normal-account","business-account","cost-structure","development","infrastructure","marketing","support"]},{id:5,name:"Apples iOS",type:"example",description:"",usedFeatures:["value-propositions","design-/-usability","design-pattern-usage","function-scope","minimized-scope","task-management","customer-segments","interaction-type","single-user","market-size","mass-market","user-type","private-user","homing","single-homed","customer-relationships","customer-aquisition","existing-customer-base","channels","included-in-os","key-partners","key-activities","develop-hard--and-software","develop-software","manage-infrastructure","support-customer","key-resources","infrastructure-1","revenue-streams","cross-financed","hardware","software","cost-structure","development","infrastructure","support"]},{id:6,name:"Googles Android",type:"example",description:"",usedFeatures:["value-propositions","design-/-usability","design-pattern-usage","function-scope","minimized-scope","task-management","customer-segments","interaction-type","single-user","market-size","mass-market","user-type","private-user","homing","single-homed","customer-relationships","customer-aquisition","existing-customer-base","channels","included-in-os","key-partners","key-activities","develop-hard--and-software","manage-infrastructure","support-customer","key-resources","infrastructure-1","revenue-streams","cross-financed","software","cost-structure","development","infrastructure","support"]}],_id:"66228982-71c3-4fb6-872b-ed96aaf84891",expertModel:!0,expertModelTraces:{},nextInstanceId:11},{name:"Mobile Todo-Apps",description:"An example of a company business knowledge model that combines expert knowledge",version:"1.0.0",copyright:"MIT License",author:{name:"First Author",company:"XXX University",email:"xxxx@xxxx.xx",website:"xxxx.xx"},features:{"value-propositions":{name:"Value Propositions",type:"optional",subfeatures:{accessibility:{name:"Accessibility",description:"access strategy of the app",type:"optional",subfeatures:{"anonymous-access":{name:"Anonymous Access",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:["personalized-recommendations"],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"anonymous-access","66228982-71c3-4fb6-872b-ed96aaf84891":"anonymous-access"}},"simplified-sign-in-servies":{name:"Simplified Sign-In Servies",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"simplified-sign-in-servies","66228982-71c3-4fb6-872b-ed96aaf84891":"simplified-sign-in-servies"}},"different-devices":{name:"Different Devices",description:null,type:"optional",subfeatures:{"multi-os-access":{name:"Multi-OS Access",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:["single-homed"],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"multi-os-access"}},"device-syncronisation":{name:"Device Syncronisation",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"device-syncronisation"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"different-devices"}},"paid-account":{name:"Paid Account",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"paid-account"}},"free-account":{name:"Free Account",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"free-account"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"accessibility","66228982-71c3-4fb6-872b-ed96aaf84891":"accessibility"}},customization:{name:"Customization",description:null,type:"optional",subfeatures:{"personalized-recommendations":{name:"Personalized Recommendations",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:["anonymous-access"],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"personalized-recommendations","66228982-71c3-4fb6-872b-ed96aaf84891":"personalized-recommendations"}},"changeable-user-interfaces":{name:"Changeable User Interfaces",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"changeable-user-interfaces","66228982-71c3-4fb6-872b-ed96aaf84891":"changeable-user-interfaces"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"customization","66228982-71c3-4fb6-872b-ed96aaf84891":"customization"}},"design-/-usability":{name:"Design / Usability",description:null,type:"optional",subfeatures:{"execution-step-reduction":{name:"Execution Step Reduction",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"execution-step-reduction","66228982-71c3-4fb6-872b-ed96aaf84891":"execution-step-reduction"}},"design-pattern-usage":{name:"Design Pattern Usage",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"design-pattern-usage","66228982-71c3-4fb6-872b-ed96aaf84891":"design-pattern-usage"}},"easy-usability":{name:"Easy Usability",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"easy-usability"}},"responsible-design":{name:"Responsible Design",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"responsible-design"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"design-/-usability","66228982-71c3-4fb6-872b-ed96aaf84891":"design-/-usability"}},price:{name:"Price",description:null,type:"optional",subfeatures:{"low-price-strategy":{name:"Low-Price Strategy",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"low-price-strategy","66228982-71c3-4fb6-872b-ed96aaf84891":"low-price-strategy"}},"money-back-guarantee":{name:"Money-Back Guarantee",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:["free-for-all"],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"money-back-guarantee","66228982-71c3-4fb6-872b-ed96aaf84891":"money-back-guarantee"}},"cancel-anytime":{name:"Cancel Anytime",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["membership"],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"cancel-anytime"}},freemium:{name:"Freemium",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"freemium-1"}},"equal-price-strategy":{name:"Equal-Price-Strategy",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"equal-price-strategy"}},"free-for-all":{name:"Free For All",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["in-app-ads"],excludes:["save-privacy","money-back-guarantee"],supports:[],hurts:[]},expertModelTrace:{"651e4909-ce3c-4853-b861-b0c0d58c2d43":"free-for-all","66228982-71c3-4fb6-872b-ed96aaf84891":"free-for-all"}}},subfeatureConnections:"xor",relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"price","66228982-71c3-4fb6-872b-ed96aaf84891":"price"}},network:{name:"Network",description:null,type:"optional",subfeatures:{"quantity-network-size":{name:"Quantity Network Size",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"quantity-network-size","66228982-71c3-4fb6-872b-ed96aaf84891":"quantity-network-size"}},"quality-network-users":{name:"Quality Network Users",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"quality-network-users","66228982-71c3-4fb6-872b-ed96aaf84891":"quality-network-users"}},"share-content":{name:"Share Content",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"share-content"}},"connect-with-other-users":{name:"Connect with other Users",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"connect-with-other-users"}},"share-playlists":{name:"Share Playlists",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"share-playlists"}},"collaborate-with-others":{name:"Collaborate With Others",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["subscription"],excludes:[],supports:[],hurts:[]},expertModelTrace:{"651e4909-ce3c-4853-b861-b0c0d58c2d43":"collaborative-with-others"}}},subfeatureConnections:null,relationships:{requires:[],excludes:["single-user"],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"network","66228982-71c3-4fb6-872b-ed96aaf84891":"network"}},"save-privacy":{name:"Save Privacy",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:["in-app-ads","free-for-all"],supports:[],hurts:[]},expertModelTrace:{"651e4909-ce3c-4853-b861-b0c0d58c2d43":"save-privacy"}},"function-scope":{name:"Function Scope",description:null,type:"optional",subfeatures:{"minimized-scope":{name:"Minimized Scope",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"minimized-scope"}},"maximized-scope":{name:"Maximized Scope",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"maximized-scope"}},"medium-scope":{name:"Medium Scope",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"medium-scope"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"function-scope"}},"task-management":{name:"Task Management",description:null,type:"optional",subfeatures:{"splitting-of-tasks":{name:"Splitting of Tasks",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"splitting-of-tasks"}},"work-together":{name:"Work Together",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:["single-user"],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"work-together"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"task-management"}},"workflow-management":{name:"Workflow Management",description:null,type:"optional",subfeatures:{"workflow-templates":{name:"Workflow Templates",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"workflow-templates"}},"workflow-tracker":{name:"Workflow Tracker",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"workflow-tracker"}},"intelligent-flow-planer":{name:"Intelligent Flow Planer",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"intelligent-flow-planer"}},"connect-to-calender":{name:"Connect To Calender",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"connect-to-calender"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"workflow-management"}},"productivity-analysis":{name:"Productivity Analysis",description:null,type:"optional",subfeatures:{"light-weight-tooling":{name:"Light-Weight Tooling",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"light-weight-tooling"}},"productivity-optimization":{name:"Productivity Optimization",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"productivity-optimization"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"productivity-analysis"}},"segment-optimized-functions":{name:"Segment Optimized Functions",description:null,type:"optional",subfeatures:{general:{name:"General",description:null,type:"optional",subfeatures:{"automatic-task-breakdown":{name:"Automatic Task Breakdown",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"automatic-task-breakdown"}},"task-time-prediction":{name:"Task Time Prediction",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"task-time-prediction"}},"connect-to-friends":{name:"Connect To Friends",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:["single-user"],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"connect-to-friends"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"general"}},"fitness-functions":{name:"Fitness Functions",description:null,type:"optional",subfeatures:{"time-to-sport":{name:"Time To Sport",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"time-to-sport"}},"calories-tracker":{name:"Calories Tracker",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"calories-tracker"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"fitness-functions"}},"work&life-balance":{name:"Work&Life Balance",description:null,type:"optional",subfeatures:{"optimize-scheduling":{name:"Optimize Scheduling",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"optimize-scheduling"}},"optimize-concentration":{name:"Optimize Concentration",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"optimize-concentration"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"work&life-balance"}},"business-functions":{name:"Business Functions",description:null,type:"optional",subfeatures:{"automatic-task-scheduling":{name:"Automatic Task Scheduling",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"automatic-task-scheduling"}},"workflow-tracking":{name:"Workflow Tracking",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"workflow-tracking"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"business-functions"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"segment-optimized-functions"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"value-propositions","651e4909-ce3c-4853-b861-b0c0d58c2d43":"value-propositions","66228982-71c3-4fb6-872b-ed96aaf84891":"value-propositions"}},"customer-segments":{name:"Customer Segment",type:"optional",subfeatures:{"interaction-type":{name:"Interaction Type",description:"interaction of a customer with other customers",type:"optional",subfeatures:{"single-user":{name:"Single-User",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:["network","work-together","connect-to-friends","friend-challenges"],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"single-user","66228982-71c3-4fb6-872b-ed96aaf84891":"single-user"}},"single-sided-market":{name:"Single-Sided-Market",description:"interacting with the same type of customer",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"single-sided-market","66228982-71c3-4fb6-872b-ed96aaf84891":"single-sided-market"}},"multi-sided-market":{name:"Multi-Sided-Market",description:"interacting with customers of another type",type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"multi-sided-market","66228982-71c3-4fb6-872b-ed96aaf84891":"multi-sided-market"}}},subfeatureConnections:"xor",relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"interaction-type","66228982-71c3-4fb6-872b-ed96aaf84891":"interaction-type"}},"market-size":{name:"Market Size",description:null,type:"optional",subfeatures:{"niche-market":{name:"Niche Market",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"niche-market","66228982-71c3-4fb6-872b-ed96aaf84891":"niche-market"}},"mass-market":{name:"Mass Market",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"mass-market","66228982-71c3-4fb6-872b-ed96aaf84891":"mass-market"}}},subfeatureConnections:"xor",relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"market-size","66228982-71c3-4fb6-872b-ed96aaf84891":"market-size"}},"target-group":{name:"Target Group",description:null,type:"optional",subfeatures:{gender:{name:"Gender",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"gender"}},interests:{name:"Interests",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"interests"}},relationship:{name:"Relationship",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"relationship"}},"content-consumer":{name:"Content-Consumer",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"content-consumer"}},"content-creator":{name:"Content-Creator",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"content-creator"}},"fitness-improver":{name:"Fitness Improver",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["fitness-functions"],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"fitness-improver"}},"life-improver":{name:"Life Improver",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["work&life-balance"],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"life-improver"}},"business-improver":{name:"Business Improver",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["business-functions"],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"business-improver"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"target-group","66228982-71c3-4fb6-872b-ed96aaf84891":"target-group"}},"user-type":{name:"User Type",description:null,type:"optional",subfeatures:{"private-user":{name:"Private User",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"private-user","651e4909-ce3c-4853-b861-b0c0d58c2d43":"private-user","66228982-71c3-4fb6-872b-ed96aaf84891":"private-user"}},"professional-user":{name:"Professional User",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["save-privacy"],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"professional-user","651e4909-ce3c-4853-b861-b0c0d58c2d43":"professional-user","66228982-71c3-4fb6-872b-ed96aaf84891":"professional-user"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"user-type","66228982-71c3-4fb6-872b-ed96aaf84891":"user-type"}},homing:{name:"Homing",description:null,type:"optional",subfeatures:{"single-homed":{name:"Single-Homed",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:["multi-os-access"],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"single-homed"}},"multi-homed":{name:"Multi-Homed",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"multi-homed"}}},subfeatureConnections:"xor",relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"homing"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"customer-segments","651e4909-ce3c-4853-b861-b0c0d58c2d43":"customer-segments","66228982-71c3-4fb6-872b-ed96aaf84891":"customer-segments"}},"customer-relationships":{name:"Customer Relationships",type:"optional",subfeatures:{"customer-aquisition":{name:"Customer Aquisition",description:"establishment of a relationship",type:"optional",subfeatures:{advertisements:{name:"Advertisements",description:null,type:"optional",subfeatures:{"facbook-ads":{name:"Facbook Ads",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"facbook-ads"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"advertisements","66228982-71c3-4fb6-872b-ed96aaf84891":"advertisements"}},"friend-invitation-system":{name:"Friend Invitation System",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"friend-invitation-system","66228982-71c3-4fb6-872b-ed96aaf84891":"friend-invitation-system"}},"single-sign-in":{name:"Single-Sign-In",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"single-sign-in"}},"existing-customer-base":{name:"Existing Customer Base",description:null,type:"optional",subfeatures:{"brand-customer-base":{name:"Brand Customer Base",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"brand-customer-base"}},"os-customer-base":{name:"OS Customer Base",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"os-customer-base"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"existing-customer-base"}},"online-communities":{name:"Online Communities",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"online-communities-1"}},"facebook-groups":{name:"Facebook Groups",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["marketing"],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"facebook-groups-1"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"customer-aquisition","66228982-71c3-4fb6-872b-ed96aaf84891":"customer-aquisition"}},"customer-retention":{name:"Customer Retention",description:"maintain the relationship",type:"optional",subfeatures:{"locked-in":{name:"Locked-In",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"locked-in","66228982-71c3-4fb6-872b-ed96aaf84891":"locked-in"}},gamification:{name:"Gamification",description:null,type:"optional",subfeatures:{"progress-discovery":{name:"Progress Discovery",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"progress-discovery"}},"friend-challenges":{name:"Friend Challenges",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:["single-user"],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"friend-challenges"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"gamification","66228982-71c3-4fb6-872b-ed96aaf84891":"gamification"}},"customer-support":{name:"Customer Support",description:null,type:"optional",subfeatures:{"phone-support":{name:"Phone Support",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:["professional-user"],hurts:[]},expertModelTrace:{"651e4909-ce3c-4853-b861-b0c0d58c2d43":"phone-support"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"customer-support","66228982-71c3-4fb6-872b-ed96aaf84891":"customer-support"}},"content-updates":{name:"Content-Updates",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"content-updates-1"}},"self-service":{name:"Self-Service",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:["professional-user"]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"self-service","651e4909-ce3c-4853-b861-b0c0d58c2d43":"self-service"}},"content-quantity":{name:"Content-Quantity",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"content-quantity"}},"free-usage":{name:"Free Usage",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"free-usage"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"customer-retention","66228982-71c3-4fb6-872b-ed96aaf84891":"customer-retention"}},"boosting-sales":{name:"Boosting Sales",description:"increase the revenue from existing customers",type:"optional",subfeatures:{"forced-stops":{name:"Forced Stops",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"forced-stops","66228982-71c3-4fb6-872b-ed96aaf84891":"forced-stops"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"boosting-sales","66228982-71c3-4fb6-872b-ed96aaf84891":"boosting-sales"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"customer-relationships","651e4909-ce3c-4853-b861-b0c0d58c2d43":"customer-relationships","66228982-71c3-4fb6-872b-ed96aaf84891":"customer-relationships"}},channels:{name:"Customer Channels",type:"optional",subfeatures:{awareness:{name:"Awareness",description:"attract attention",type:"optional",subfeatures:{"word-of-mouth":{name:"Word-of-Mouth",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"word-of-mouth","66228982-71c3-4fb6-872b-ed96aaf84891":"word-of-mouth"}},"store-placement":{name:"Store Placement",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"store-placement","66228982-71c3-4fb6-872b-ed96aaf84891":"store-placement"}},"advertisement-1":{name:"Advertisement",description:null,type:"optional",subfeatures:{"facebook-ads":{name:"Facebook Ads",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["private-user"],excludes:[],supports:[],hurts:[]},expertModelTrace:{"651e4909-ce3c-4853-b861-b0c0d58c2d43":"facebook-ads"}},"linkedin-ads":{name:"LinkedIn Ads",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["professional-user"],excludes:[],supports:[],hurts:[]},expertModelTrace:{"651e4909-ce3c-4853-b861-b0c0d58c2d43":"linkedin-ads"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"advertisement-1"}},"store-position":{name:"Store Position",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"store-position"}},"3rd-party-integration":{name:"3rd-Party-Integration",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"3rd-party-integration"}},"distributable-codes":{name:"Distributable Codes",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"distributable-codes"}},"facebook-groups-1":{name:"Facebook Groups",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"facebook-groups"}},"online-communities-1":{name:"Online Communities",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"online-communities"}},"social-media-ads":{name:"Social Media Ads",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"social-media-ads"}},"influencer-marketing":{name:"Influencer Marketing",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"influencer-marketing"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"awareness","66228982-71c3-4fb6-872b-ed96aaf84891":"awareness"}},evaluation:{name:"Evaluation",description:"customer should be able to evaluate benefits of the application",type:"optional",subfeatures:{"freemium-1":{name:"Freemium",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"freemium","66228982-71c3-4fb6-872b-ed96aaf84891":"freemium"}},"appstore-optimization":{name:"AppStore Optimization",description:null,type:"optional",subfeatures:{"review-reactions":{name:"Review Reactions",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"review-reactions","66228982-71c3-4fb6-872b-ed96aaf84891":"review-reactions"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"appstore-optimization","66228982-71c3-4fb6-872b-ed96aaf84891":"appstore-optimization"}},rating:{name:"Rating",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"rating"}},reviews:{name:"Reviews",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"reviews"}},"free-month":{name:"Free Month",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"free-month"}},"company-branding":{name:"Company Branding",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"company-branding"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"evaluation","66228982-71c3-4fb6-872b-ed96aaf84891":"evaluation"}},purchase:{name:"Purchase",description:null,type:"mandatory",subfeatures:{"in-store-purchase":{name:"In-Store Purchase",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"in-store-purchase","66228982-71c3-4fb6-872b-ed96aaf84891":"in-store-purchase"}},"out-of-store-purchase":{name:"Out-of-Store Purchase",description:null,type:"optional",subfeatures:{homepage:{name:"Homepage",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"homepage"}},"app-1":{name:"App",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"app-1"}}},subfeatureConnections:null,relationships:{requires:["payment-provider"],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"out-of-store-purchase","66228982-71c3-4fb6-872b-ed96aaf84891":"out-of-store-purchase"}},"no-purchase":{name:"No Purchase",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"no-purchase","66228982-71c3-4fb6-872b-ed96aaf84891":"no-purchase"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"purchase","66228982-71c3-4fb6-872b-ed96aaf84891":"purchase"}},delivery:{name:"Delivery",description:null,type:"mandatory",subfeatures:{"in-store-delivery":{name:"In-Store Delivery",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"in-store-delivery","66228982-71c3-4fb6-872b-ed96aaf84891":"in-store-delivery"}},"out-of-store-delivery":{name:"Out-of-Store Delivery",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"out-of-store-delivery","66228982-71c3-4fb6-872b-ed96aaf84891":"out-of-store-delivery"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"delivery","66228982-71c3-4fb6-872b-ed96aaf84891":"delivery"}},"after-sales":{name:"After Sales",description:"customer receives value after the purchase process",type:"optional",subfeatures:{"app-updates":{name:"App Updates",description:null,type:"optional",subfeatures:{"update-with-os":{name:"Update with OS",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"update-with-os"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"app-updates","66228982-71c3-4fb6-872b-ed96aaf84891":"app-updates"}},"content-updates-1":{name:"Content Updates",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"content-updates","66228982-71c3-4fb6-872b-ed96aaf84891":"content-updates"}},"push-notifications":{name:"Push-Notifications",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"push-notifications"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"after-sales","66228982-71c3-4fb6-872b-ed96aaf84891":"after-sales"}},"included-in-os":{name:"Included in OS",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"included-in-os"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"channels","651e4909-ce3c-4853-b861-b0c0d58c2d43":"channels","66228982-71c3-4fb6-872b-ed96aaf84891":"channels"}},"key-partners":{name:"Key Partners",type:"optional",subfeatures:{"advertisement-partner":{name:"Advertisement Partner",description:null,type:"optional",subfeatures:{"social-networks":{name:"Social Networks",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"651e4909-ce3c-4853-b861-b0c0d58c2d43":"social-networks"}}},subfeatureConnections:null,relationships:{requires:["advertisement-2"],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"advertisement-partner","66228982-71c3-4fb6-872b-ed96aaf84891":"advertisement-partner"}},"app-developer":{name:"App Developer",description:null,type:"optional",subfeatures:{"no-sdk":{name:"No SDK",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"no-sdk"}},"sdk-integration":{name:"SDK Integration",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"sdk-integration"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"app-developer","66228982-71c3-4fb6-872b-ed96aaf84891":"app-developer"}},"content-partner":{name:"Content Partner",description:null,type:"optional",subfeatures:{"movie-studios":{name:"Movie Studios",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"movie-studios"}},"production-partner":{name:"Production Partner",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"production-partner"}},"content-creators":{name:"Content-Creators",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"content-creators"}},"record-labels":{name:"Record Labels",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"record-labels"}},"independent-musicians":{name:"Independent Musicians",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"independent-musicians"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"content-provider","66228982-71c3-4fb6-872b-ed96aaf84891":"content-provider"}},"instrastructure-provider":{name:"Instrastructure Provider",description:null,type:"optional",subfeatures:{"amazon-aws":{name:"Amazon AWS",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"amazon-aws"}},"google-cloud-platform":{name:"Google Cloud Platform",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"google-cloud-platform"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"instrastructure-provider","651e4909-ce3c-4853-b861-b0c0d58c2d43":"hosting-provider","66228982-71c3-4fb6-872b-ed96aaf84891":"instrastructure-provider"}},"manufacturing-provider":{name:"Manufacturing Provider",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"manufacturing-provider","66228982-71c3-4fb6-872b-ed96aaf84891":"manufacturing-provider"}},"payment-provider":{name:"Payment Provider",description:null,type:"optional",subfeatures:{"own-payment-provider-additional-to-store-provider":{name:"Own Payment Provider additional to Store Provider",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"own-payment-provider-additional-to-store-provider"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"payment-provider","66228982-71c3-4fb6-872b-ed96aaf84891":"payment-provider"}},"store-provider":{name:"Store Provider",description:null,type:"mandatory",subfeatures:{"partner-for-developer-license-and-store-publishing":{name:"Partner for Developer License and Store Publishing",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"partner-for-developer-license-and-store-publishing"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"store-provider","66228982-71c3-4fb6-872b-ed96aaf84891":"store-provider"}},"third-party-developer":{name:"Third-Party Developer",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["developer-api"],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"third-party-developer"}},"influencer-1":{name:"Influencer",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"influencer"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"key-partners","651e4909-ce3c-4853-b861-b0c0d58c2d43":"key-partners","66228982-71c3-4fb6-872b-ed96aaf84891":"key-partners"}},"key-activities":{name:"Key Activities",type:"optional",subfeatures:{"develop-hard--and-software":{name:"Develop Hard- and Software",description:null,type:"mandatory",subfeatures:{"develop-software":{name:"Develop Software",description:null,type:"mandatory",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"develop-software"}},"develop-hardware":{name:"Develop Hardware",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"develop-hardware"}}},subfeatureConnections:null,relationships:{requires:["development"],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"develop-hard--and-software","651e4909-ce3c-4853-b861-b0c0d58c2d43":"develop-app","66228982-71c3-4fb6-872b-ed96aaf84891":"develop-hard--and-software"}},"negotiate-licenses":{name:"Negotiate Licenses",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["licenses"],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"negotiate-licsenses","66228982-71c3-4fb6-872b-ed96aaf84891":"negotiate-licsenses"}},"manage-infrastructure":{name:"Manage Infrastructure",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["infrastructure-1"],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"manage-infrastructure","66228982-71c3-4fb6-872b-ed96aaf84891":"manage-infrastructure"}},"produce-content":{name:"Produce Content",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["production--1"],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"produce-content","66228982-71c3-4fb6-872b-ed96aaf84891":"produce-content"}},"plan-marketing-campaigns":{name:"Plan Marketing Campaigns",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["marketing"],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"plan-marketing-campaigns","651e4909-ce3c-4853-b861-b0c0d58c2d43":"plan-marketing","66228982-71c3-4fb6-872b-ed96aaf84891":"plan-marketing-campaigns"}},"support-customer":{name:"Support Customer",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:["support-1"],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"support-customer","66228982-71c3-4fb6-872b-ed96aaf84891":"support-customer"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"key-activities","651e4909-ce3c-4853-b861-b0c0d58c2d43":"key-activities","66228982-71c3-4fb6-872b-ed96aaf84891":"key-activities"}},"key-resources":{name:"Key Resources",type:"optional",subfeatures:{algorithms:{name:"Algorithms",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"algorithms","651e4909-ce3c-4853-b861-b0c0d58c2d43":"algorithms","66228982-71c3-4fb6-872b-ed96aaf84891":"algorithms"}},brands:{name:"Brands",description:null,type:"optional",subfeatures:{"youtube-originals":{name:"YouTube Originals",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"youtube-originals"}},"netflix-originals":{name:"Netflix Originals",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"netflix-originals-1"}},podcasts:{name:"Podcasts",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"podcasts"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"brands","66228982-71c3-4fb6-872b-ed96aaf84891":"brands"}},"content-1":{name:"Content",description:null,type:"optional",subfeatures:{"netflix-originals-1":{name:"Netflix Originals",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"netflix-originals"}},"licensed-content":{name:"Licensed Content",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"licensed-content"}},"youtube-originals-1":{name:"YouTube Originals",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"youtube-originals-1"}},"content-from-content-creators":{name:"Content from Content-Creators",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"content-from-content-creators"}},"exclusive-rights-for-some-podcast":{name:"Exclusive Rights for some Podcast",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"exclusive-rights-for-some-podcast"}},"music-licenses":{name:"Music Licenses",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"music-licenses"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"content","66228982-71c3-4fb6-872b-ed96aaf84891":"content"}},"developer-license":{name:"Developer License",description:null,type:"mandatory",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"developer-licsense","66228982-71c3-4fb6-872b-ed96aaf84891":"developer-licsense"}},patents:{name:"Patents",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"patents","66228982-71c3-4fb6-872b-ed96aaf84891":"patents"}},infrastructure:{name:"Infrastructure",description:null,type:"optional",subfeatures:{"external-infrastructure":{name:"External Infrastructure",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"external-infrastructure"}},"internal-inrastructure":{name:"Internal Inrastructure",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"internal-inrastructure"}}},subfeatureConnections:null,relationships:{requires:["infrastructure-1"],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"infrastructure-1","651e4909-ce3c-4853-b861-b0c0d58c2d43":"infrastructure","66228982-71c3-4fb6-872b-ed96aaf84891":"infrastructure-1"}},"developer-api":{name:"Developer API",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"developer-api"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"key-resources","651e4909-ce3c-4853-b861-b0c0d58c2d43":"key-resources","66228982-71c3-4fb6-872b-ed96aaf84891":"key-resources"}},"revenue-streams":{name:"Revenue Streams",type:"optional",subfeatures:{"advertisement-2":{name:"Advertisement",description:null,type:"optional",subfeatures:{"in-app-ads":{name:"In-App Ads",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:["save-privacy"],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"inn-app-ads","651e4909-ce3c-4853-b861-b0c0d58c2d43":"in-app-advertisement","66228982-71c3-4fb6-872b-ed96aaf84891":"inn-app-ads"}},"personalized-ads":{name:"Personalized Ads",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:["membership"],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"personalized-ads","66228982-71c3-4fb6-872b-ed96aaf84891":"personalized-ads"}},"without-account":{name:"without Account",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"without-account"}},"with-free-account":{name:"with Free Account",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"with-free-account"}}},subfeatureConnections:null,relationships:{requires:["advertisement-partner"],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"advertisement","66228982-71c3-4fb6-872b-ed96aaf84891":"advertisement"}},brokerage:{name:"Brokerage",description:"between different customers",type:"optional",subfeatures:{"money-for-content-creators":{name:"Money for Content Creators",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"money-for-content-creators"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"brokerage","66228982-71c3-4fb6-872b-ed96aaf84891":"brokerage"}},donation:{name:"Donation",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"donation","66228982-71c3-4fb6-872b-ed96aaf84891":"donation"}},sale:{name:"Sale",description:null,type:"optional",subfeatures:{"app-purchase":{name:"App Purchase",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:["subscription"],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"app-purchase","651e4909-ce3c-4853-b861-b0c0d58c2d43":"license-purchase","66228982-71c3-4fb6-872b-ed96aaf84891":"app-purchase"}},"in-app-purchase":{name:"In-App Purchase",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"in-app-purchase","66228982-71c3-4fb6-872b-ed96aaf84891":"in-app-purchase"}},"sell-movies":{name:"Sell Movies",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"sell-movies"}},"lend-movies":{name:"Lend Movies",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"lend-movies"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"sale","66228982-71c3-4fb6-872b-ed96aaf84891":"sale"}},subscription:{name:"Subscription",description:null,type:"optional",subfeatures:{membership:{name:"Membership",description:null,type:"optional",subfeatures:{"normal-account":{name:"Normal Account",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"normal-account"}},"professional-account":{name:"Professional Account",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"professional-account"}},"business-account":{name:"Business Account",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"business-account"}}},subfeatureConnections:null,relationships:{requires:[],excludes:["personalized-ads"],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"membership"}},"premium-content":{name:"Premium Content",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"premium-content"}},"content-2":{name:"Content",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"content-1"}},"premium-features":{name:"Premium Features",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"premium-features"}}},subfeatureConnections:null,relationships:{requires:[],excludes:["app-purchase"],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"subscription","651e4909-ce3c-4853-b861-b0c0d58c2d43":"license-subscription","66228982-71c3-4fb6-872b-ed96aaf84891":"subscription"}},"cross-financed":{name:"Cross-Financed",description:null,type:"optional",subfeatures:{hardware:{name:"Hardware",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"hardware"}},software:{name:"Software",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"software"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"66228982-71c3-4fb6-872b-ed96aaf84891":"cross-financed"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"revenue-streams","651e4909-ce3c-4853-b861-b0c0d58c2d43":"revenue-streams","66228982-71c3-4fb6-872b-ed96aaf84891":"revenue-streams"}},"cost-structure":{name:"Cost Structure",type:"optional",subfeatures:{development:{name:"Development",description:null,type:"mandatory",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"development","651e4909-ce3c-4853-b861-b0c0d58c2d43":"development-costs","66228982-71c3-4fb6-872b-ed96aaf84891":"development"}},"infrastructure-1":{name:"Infrastructure",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"infrastructure","66228982-71c3-4fb6-872b-ed96aaf84891":"infrastructure"}},licenses:{name:"Licenses",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"licenses","66228982-71c3-4fb6-872b-ed96aaf84891":"licenses"}},marketing:{name:"Marketing",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"marketing","651e4909-ce3c-4853-b861-b0c0d58c2d43":"marketing-costs","66228982-71c3-4fb6-872b-ed96aaf84891":"marketing"}},"production--1":{name:"Production ",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"production-","66228982-71c3-4fb6-872b-ed96aaf84891":"production-"}},"support-1":{name:"Support",description:null,type:"optional",subfeatures:{},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"support","651e4909-ce3c-4853-b861-b0c0d58c2d43":"support-costs","66228982-71c3-4fb6-872b-ed96aaf84891":"support"}}},subfeatureConnections:null,relationships:{requires:[],excludes:[],supports:[],hurts:[]},expertModelTrace:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":"cost-structure","651e4909-ce3c-4853-b861-b0c0d58c2d43":"cost-structure","66228982-71c3-4fb6-872b-ed96aaf84891":"cost-structure"}}},instances:[{id:1,name:"Example TODO App Business Model",type:"example",usedFeatures:["value-propositions","customer-segments","customer-relationships","channels","key-partners","key-activities","key-resources","revenue-streams","cost-structure","store-provider","development","developer-license","purchase","delivery","user-type","professional-user","save-privacy","in-store-purchase","in-store-delivery","market-size","niche-market","interaction-type","single-sided-market","customer-aquisition","customer-retention","advertisements","customer-support","locked-in","subscription","membership","accessibility","paid-account","different-devices","customization","design-/-usability","price","network","money-back-guarantee","collaborate-with-others","easy-usability","changeable-user-interfaces","infrastructure-1","support-1","instrastructure-provider","self-service","business-account","function-scope","task-management","workflow-management","segment-optimized-functions","business-functions","work-together","maximized-scope","develop-hard--and-software"]}],expertModel:!1,expertModelTraces:{"5a1ece09-7cc6-4c8b-b6a0-96570cd6f708":{expertFeatureIdMap:{"value-propositions":"value-propositions","customer-segments":"customer-segments","customer-relationships":"customer-relationships",channels:"channels","key-partners":"key-partners","key-activities":"key-activities","key-resources":"key-resources","revenue-streams":"revenue-streams","cost-structure":"cost-structure",accessibility:"accessibility","anonymous-access":"anonymous-access","simplified-sign-in-servies":"simplified-sign-in-servies","different-devices":"different-devices","paid-account":"paid-account","free-account":"free-account",customization:"customization","personalized-recommendations":"personalized-recommendations","changeable-user-interfaces":"changeable-user-interfaces","design-/-usability":"design-/-usability","execution-step-reduction":"execution-step-reduction","design-pattern-usage":"design-pattern-usage","easy-usability":"easy-usability","responsible-design":"responsible-design",price:"price","low-price-strategy":"low-price-strategy","money-back-guarantee":"money-back-guarantee","cancel-anytime":"cancel-anytime","freemium-1":"freemium","equal-price-strategy":"equal-price-strategy",network:"network","quantity-network-size":"quantity-network-size","quality-network-users":"quality-network-users","share-content":"share-content","connect-with-other-users":"connect-with-other-users","share-playlists":"share-playlists","interaction-type":"interaction-type","single-user":"single-user","single-sided-market":"single-sided-market","multi-sided-market":"multi-sided-market","market-size":"market-size","niche-market":"niche-market","mass-market":"mass-market","target-group":"target-group",gender:"gender",interests:"interests",relationship:"relationship","content-consumer":"content-consumer","content-creator":"content-creator","user-type":"user-type","private-user":"private-user","professional-user":"professional-user","customer-aquisition":"customer-aquisition",advertisements:"advertisements","friend-invitation-system":"friend-invitation-system","single-sign-in":"single-sign-in","customer-retention":"customer-retention","locked-in":"locked-in",gamification:"gamification","customer-support":"customer-support","content-updates-1":"content-updates","self-service":"self-service","content-quantity":"content-quantity","boosting-sales":"boosting-sales","forced-stops":"forced-stops",awareness:"awareness","word-of-mouth":"word-of-mouth","store-placement":"store-placement","advertisement-1":"advertisement-1","store-position":"store-position","3rd-party-integration":"3rd-party-integration","distributable-codes":"distributable-codes",evaluation:"evaluation",freemium:"freemium-1","appstore-optimization":"appstore-optimization","review-reactions":"review-reactions",rating:"rating",reviews:"reviews","free-month":"free-month",purchase:"purchase","in-store-purchase":"in-store-purchase","out-of-store-purchase":"out-of-store-purchase",homepage:"homepage","app-1":"app-1","no-purchase":"no-purchase",delivery:"delivery","in-store-delivery":"in-store-delivery","out-of-store-delivery":"out-of-store-delivery","after-sales":"after-sales","app-updates":"app-updates","content-updates":"content-updates-1","push-notifications":"push-notifications","advertisement-partner":"advertisement-partner","app-developer":"app-developer","no-sdk":"no-sdk","sdk-integration":"sdk-integration","content-provider":"content-partner","movie-studios":"movie-studios","production-partner":"production-partner","content-creators":"content-creators","record-labels":"record-labels","independent-musicians":"independent-musicians","instrastructure-provider":"instrastructure-provider","amazon-aws":"amazon-aws","google-cloud-platform":"google-cloud-platform","manufacturing-provider":"manufacturing-provider","payment-provider":"payment-provider","own-payment-provider-additional-to-store-provider":"own-payment-provider-additional-to-store-provider","store-provider":"store-provider","partner-for-developer-license-and-store-publishing":"partner-for-developer-license-and-store-publishing","develop-hard--and-software":"develop-hard--and-software","negotiate-licsenses":"negotiate-licenses","manage-infrastructure":"manage-infrastructure","produce-content":"produce-content","plan-marketing-campaigns":"plan-marketing-campaigns","support-customer":"support-customer",algorithms:"algorithms",brands:"brands","youtube-originals":"youtube-originals","netflix-originals-1":"netflix-originals",podcasts:"podcasts",content:"content-1","netflix-originals":"netflix-originals-1","licensed-content":"licensed-content","youtube-originals-1":"youtube-originals-1","content-from-content-creators":"content-from-content-creators","exclusive-rights-for-some-podcast":"exclusive-rights-for-some-podcast","music-licenses":"music-licenses","developer-licsense":"developer-license",patents:"patents","infrastructure-1":"infrastructure","external-infrastructure":"external-infrastructure","internal-inrastructure":"internal-inrastructure",advertisement:"advertisement-2","inn-app-ads":"in-app-ads","personalized-ads":"personalized-ads","without-account":"without-account","with-free-account":"with-free-account",brokerage:"brokerage","money-for-content-creators":"money-for-content-creators",donation:"donation",sale:"sale","app-purchase":"app-purchase","in-app-purchase":"in-app-purchase","sell-movies":"sell-movies","lend-movies":"lend-movies",subscription:"subscription",membership:"membership","premium-content":"premium-content","content-1":"content-2","premium-features":"premium-features",development:"development",infrastructure:"infrastructure-1",licenses:"licenses",marketing:"marketing","production-":"production--1",support:"support-1"}},"651e4909-ce3c-4853-b861-b0c0d58c2d43":{expertFeatureIdMap:{"value-propositions":"value-propositions","customer-segments":"customer-segments","customer-relationships":"customer-relationships",channels:"channels","key-partners":"key-partners","key-activities":"key-activities","key-resources":"key-resources","revenue-streams":"revenue-streams","cost-structure":"cost-structure","collaborative-with-others":"collaborate-with-others","private-user":"private-user","professional-user":"professional-user","self-service":"self-service","phone-support":"phone-support","facebook-ads":"facebook-ads","linkedin-ads":"linkedin-ads","hosting-provider":"instrastructure-provider","social-networks":"social-networks","develop-app":"develop-hard--and-software","plan-marketing":"plan-marketing-campaigns",algorithms:"algorithms",infrastructure:"infrastructure","in-app-advertisement":"in-app-ads","license-purchase":"app-purchase","license-subscription":"subscription","development-costs":"development","marketing-costs":"marketing","support-costs":"support-1","free-for-all":"free-for-all","save-privacy":"save-privacy"}},"66228982-71c3-4fb6-872b-ed96aaf84891":{expertFeatureIdMap:{"value-propositions":"value-propositions","customer-segments":"customer-segments","customer-relationships":"customer-relationships",channels:"channels","key-partners":"key-partners","key-activities":"key-activities","key-resources":"key-resources","revenue-streams":"revenue-streams","cost-structure":"cost-structure",accessibility:"accessibility","anonymous-access":"anonymous-access","simplified-sign-in-servies":"simplified-sign-in-servies","multi-os-access":"multi-os-access","device-syncronisation":"device-syncronisation",customization:"customization","personalized-recommendations":"personalized-recommendations","changeable-user-interfaces":"changeable-user-interfaces","design-/-usability":"design-/-usability","execution-step-reduction":"execution-step-reduction","design-pattern-usage":"design-pattern-usage",price:"price","free-for-all":"free-for-all","low-price-strategy":"low-price-strategy","money-back-guarantee":"money-back-guarantee",network:"network","quantity-network-size":"quantity-network-size","quality-network-users":"quality-network-users","function-scope":"function-scope","minimized-scope":"minimized-scope","maximized-scope":"maximized-scope","medium-scope":"medium-scope","task-management":"task-management","splitting-of-tasks":"splitting-of-tasks","work-together":"work-together","workflow-management":"workflow-management","workflow-templates":"workflow-templates","workflow-tracker":"workflow-tracker","intelligent-flow-planer":"intelligent-flow-planer","connect-to-calender":"connect-to-calender","productivity-analysis":"productivity-analysis","light-weight-tooling":"light-weight-tooling","productivity-optimization":"productivity-optimization","segment-optimized-functions":"segment-optimized-functions",general:"general","automatic-task-breakdown":"automatic-task-breakdown","task-time-prediction":"task-time-prediction","connect-to-friends":"connect-to-friends","fitness-functions":"fitness-functions","time-to-sport":"time-to-sport","calories-tracker":"calories-tracker","work&life-balance":"work&life-balance","optimize-scheduling":"optimize-scheduling","optimize-concentration":"optimize-concentration","business-functions":"business-functions","automatic-task-scheduling":"automatic-task-scheduling","workflow-tracking":"workflow-tracking","interaction-type":"interaction-type","single-user":"single-user","single-sided-market":"single-sided-market","multi-sided-market":"multi-sided-market","market-size":"market-size","niche-market":"niche-market","mass-market":"mass-market","target-group":"target-group","fitness-improver":"fitness-improver","life-improver":"life-improver","business-improver":"business-improver","user-type":"user-type","private-user":"private-user","professional-user":"professional-user",homing:"homing","single-homed":"single-homed","multi-homed":"multi-homed","customer-aquisition":"customer-aquisition",advertisements:"advertisements","facbook-ads":"facbook-ads","friend-invitation-system":"friend-invitation-system","existing-customer-base":"existing-customer-base","brand-customer-base":"brand-customer-base","os-customer-base":"os-customer-base","online-communities-1":"online-communities","facebook-groups-1":"facebook-groups","customer-retention":"customer-retention","locked-in":"locked-in",gamification:"gamification","progress-discovery":"progress-discovery","friend-challenges":"friend-challenges","customer-support":"customer-support","free-usage":"free-usage","boosting-sales":"boosting-sales","forced-stops":"forced-stops",awareness:"awareness","word-of-mouth":"word-of-mouth","store-placement":"store-placement","facebook-groups":"facebook-groups-1","online-communities":"online-communities-1","social-media-ads":"social-media-ads","influencer-marketing":"influencer-marketing",evaluation:"evaluation",freemium:"freemium-1","appstore-optimization":"appstore-optimization","review-reactions":"review-reactions","company-branding":"company-branding",purchase:"purchase","in-store-purchase":"in-store-purchase","out-of-store-purchase":"out-of-store-purchase","no-purchase":"no-purchase",delivery:"delivery","in-store-delivery":"in-store-delivery","out-of-store-delivery":"out-of-store-delivery","after-sales":"after-sales","app-updates":"app-updates","update-with-os":"update-with-os","content-updates":"content-updates-1","included-in-os":"included-in-os","advertisement-partner":"advertisement-partner","app-developer":"app-developer","content-provider":"content-partner","instrastructure-provider":"instrastructure-provider","manufacturing-provider":"manufacturing-provider","payment-provider":"payment-provider","store-provider":"store-provider","third-party-developer":"third-party-developer",influencer:"influencer-1","develop-hard--and-software":"develop-hard--and-software","develop-software":"develop-software","develop-hardware":"develop-hardware","negotiate-licsenses":"negotiate-licenses","manage-infrastructure":"manage-infrastructure","produce-content":"produce-content","plan-marketing-campaigns":"plan-marketing-campaigns","support-customer":"support-customer",algorithms:"algorithms",brands:"brands",content:"content-1","developer-licsense":"developer-license",patents:"patents","infrastructure-1":"infrastructure","developer-api":"developer-api",advertisement:"advertisement-2","inn-app-ads":"in-app-ads","personalized-ads":"personalized-ads",brokerage:"brokerage",donation:"donation",sale:"sale","app-purchase":"app-purchase","in-app-purchase":"in-app-purchase",subscription:"subscription","normal-account":"normal-account","professional-account":"professional-account","business-account":"business-account","cross-financed":"cross-financed",hardware:"hardware",software:"software",development:"development",infrastructure:"infrastructure-1",licenses:"licenses",marketing:"marketing","production-":"production--1",support:"support-1"}}},nextInstanceId:2}]},P7XM:function(e,t){e.exports="function"==typeof Object.create?function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},RsDv:function(e){e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}},TbEC:function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",s=e.level,l=e.dataLevel,o=e.schema[t],i=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,a=!e.opts.allErrors,c="data"+(l||""),d="valid"+s,p="errs__"+s,h=e.util.copy(e),f="";h.level++;var m="valid"+h.level,g=h.baseId,v="prevValid"+s,b="passingSchemas"+s;r+="var "+p+" = errors , "+v+" = false , "+d+" = false , "+b+" = null; ";var y=e.compositeRule;e.compositeRule=h.compositeRule=!0;var w=o;if(w)for(var x,_=-1,C=w.length-1;_<C;)x=w[_+=1],(e.opts.strictKeywords?"object"==typeof x&&Object.keys(x).length>0||!1===x:e.util.schemaHasRules(x,e.RULES.all))?(h.schema=x,h.schemaPath=i+"["+_+"]",h.errSchemaPath=u+"/"+_,r+="  "+e.validate(h)+" ",h.baseId=g):r+=" var "+m+" = true; ",_&&(r+=" if ("+m+" && "+v+") { "+d+" = false; "+b+" = ["+b+", "+_+"]; } else { ",f+="}"),r+=" if ("+m+") { "+d+" = "+v+" = true; "+b+" = "+_+"; }";return e.compositeRule=h.compositeRule=y,r+=f+"if (!"+d+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { passingSchemas: "+b+" } ",!1!==e.opts.messages&&(r+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&a&&(r+=e.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),r+="} else {  errors = "+p+"; if (vErrors !== null) { if ("+p+") vErrors.length = "+p+"; else vErrors = null; }",e.opts.allErrors&&(r+=" } "),r}},ThTW:function(e,t,n){!function(e){"use strict";function t(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>1){t[0]=t[0].slice(0,-1);for(var r=t.length-1,s=1;s<r;++s)t[s]=t[s].slice(1,-1);return t[r]=t[r].slice(1),t.join("")}return t[0]}function n(e){return"(?:"+e+")"}function r(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function s(e){return e.toUpperCase()}function l(e){var r=t("[0-9]","[A-Fa-f]"),s=n(n("%[EFef]"+r+"%"+r+r+"%"+r+r)+"|"+n("%[89A-Fa-f]"+r+"%"+r+r)+"|"+n("%"+r+r)),l="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",o=t("[\\:\\/\\?\\#\\[\\]\\@]",l),i=e?"[\\uE000-\\uF8FF]":"[]",u=t("[A-Za-z]","[0-9]","[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),a=n("[A-Za-z]"+t("[A-Za-z]","[0-9]","[\\+\\-\\.]")+"*"),c=n(n(s+"|"+t(u,l,"[\\:]"))+"*"),d=(n(n("25[0-5]")+"|"+n("2[0-4][0-9]")+"|"+n("1[0-9][0-9]")+"|"+n("[1-9][0-9]")+"|[0-9]"),n(n("25[0-5]")+"|"+n("2[0-4][0-9]")+"|"+n("1[0-9][0-9]")+"|"+n("0?[1-9][0-9]")+"|0?0?[0-9]")),p=n(d+"\\."+d+"\\."+d+"\\."+d),h=n(r+"{1,4}"),f=n(n(h+"\\:"+h)+"|"+p),m=n(n(h+"\\:")+"{6}"+f),g=n("\\:\\:"+n(h+"\\:")+"{5}"+f),v=n(n(h)+"?\\:\\:"+n(h+"\\:")+"{4}"+f),b=n(n(n(h+"\\:")+"{0,1}"+h)+"?\\:\\:"+n(h+"\\:")+"{3}"+f),y=n(n(n(h+"\\:")+"{0,2}"+h)+"?\\:\\:"+n(h+"\\:")+"{2}"+f),w=n(n(n(h+"\\:")+"{0,3}"+h)+"?\\:\\:"+h+"\\:"+f),x=n(n(n(h+"\\:")+"{0,4}"+h)+"?\\:\\:"+f),_=n(n(n(h+"\\:")+"{0,5}"+h)+"?\\:\\:"+h),C=n(n(n(h+"\\:")+"{0,6}"+h)+"?\\:\\:"),k=n([m,g,v,b,y,w,x,_,C].join("|")),M=n(n(u+"|"+s)+"+"),S=(n(k+"\\%25"+M),n(k+n("\\%25|\\%(?!"+r+"{2})")+M)),T=n("[vV]"+r+"+\\."+t(u,l,"[\\:]")+"+"),E=n("\\["+n(S+"|"+k+"|"+T)+"\\]"),I=n(n(s+"|"+t(u,l))+"*"),F=n(E+"|"+p+"(?!"+I+")|"+I),P=n("[0-9]*"),D=n(n(c+"@")+"?"+F+n("\\:"+P)+"?"),O=n(s+"|"+t(u,l,"[\\:\\@]")),A=n(O+"*"),q=n(O+"+"),R=n(n(s+"|"+t(u,l,"[\\@]"))+"+"),N=n(n("\\/"+A)+"*"),$=n("\\/"+n(q+N)+"?"),j=n(R+N),L=n(q+N),V="(?!"+O+")",U=(n(N+"|"+$+"|"+j+"|"+L+"|"+V),n(n(O+"|"+t("[\\/\\?]",i))+"*")),B=n(n(O+"|[\\/\\?]")+"*"),z=n(n("\\/\\/"+D+N)+"|"+$+"|"+L+"|"+V),H=n(a+"\\:"+z+n("\\?"+U)+"?"+n("\\#"+B)+"?"),W=n(n("\\/\\/"+D+N)+"|"+$+"|"+j+"|"+V),K=n(W+n("\\?"+U)+"?"+n("\\#"+B)+"?");return n(H+"|"+K),n(a+"\\:"+z+n("\\?"+U)+"?"),n(n("\\/\\/("+n("("+c+")@")+"?("+F+")"+n("\\:("+P+")")+"?)")+"?("+N+"|"+$+"|"+L+"|"+V+")"),n("\\?("+U+")"),n("\\#("+B+")"),n(n("\\/\\/("+n("("+c+")@")+"?("+F+")"+n("\\:("+P+")")+"?)")+"?("+N+"|"+$+"|"+j+"|"+V+")"),n("\\?("+U+")"),n("\\#("+B+")"),n(n("\\/\\/("+n("("+c+")@")+"?("+F+")"+n("\\:("+P+")")+"?)")+"?("+N+"|"+$+"|"+L+"|"+V+")"),n("\\?("+U+")"),n("\\#("+B+")"),n("("+c+")@"),n("\\:("+P+")"),{NOT_SCHEME:new RegExp(t("[^]","[A-Za-z]","[0-9]","[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",u,l),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",u,l),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",u,l),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",u,l),"g"),NOT_QUERY:new RegExp(t("[^\\%]",u,l,"[\\:\\@\\/\\?]",i),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",u,l,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",u,l),"g"),UNRESERVED:new RegExp(u,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",u,o),"g"),PCT_ENCODED:new RegExp(s,"g"),IPV4ADDRESS:new RegExp("^("+p+")$"),IPV6ADDRESS:new RegExp("^\\[?("+k+")"+n(n("\\%25|\\%(?!"+r+"{2})")+"("+M+")")+"?\\]?$")}}var o=l(!1),i=l(!0),u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,s=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){s=!0,l=u}finally{try{!r&&i.return&&i.return()}finally{if(s)throw l}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=2147483647,c=/^xn--/,d=/[^\0-\x7E]/,p=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=Math.floor,m=String.fromCharCode;function g(e){throw new RangeError(h[e])}function v(e,t){var n=e.split("@"),r="";n.length>1&&(r=n[0]+"@",e=n[1]);var s=function(e,t){for(var n=[],r=e.length;r--;)n[r]=t(e[r]);return n}((e=e.replace(p,".")).split("."),t).join(".");return r+s}var b=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},y=function(e,t,n){var r=0;for(e=n?f(e/700):e>>1,e+=f(e/t);e>455;r+=36)e=f(e/35);return f(r+36*e/(e+38))},w=function(e){return v(e,(function(e){return d.test(e)?"xn--"+function(e){var t=[],n=(e=function(e){for(var t=[],n=0,r=e.length;n<r;){var s=e.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var l=e.charCodeAt(n++);56320==(64512&l)?t.push(((1023&s)<<10)+(1023&l)+65536):(t.push(s),n--)}else t.push(s)}return t}(e)).length,r=128,s=0,l=72,o=!0,i=!1,u=void 0;try{for(var c,d=e[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){var p=c.value;p<128&&t.push(m(p))}}catch(j){i=!0,u=j}finally{try{!o&&d.return&&d.return()}finally{if(i)throw u}}var h=t.length,v=h;for(h&&t.push("-");v<n;){var w=a,x=!0,_=!1,C=void 0;try{for(var k,M=e[Symbol.iterator]();!(x=(k=M.next()).done);x=!0){var S=k.value;S>=r&&S<w&&(w=S)}}catch(j){_=!0,C=j}finally{try{!x&&M.return&&M.return()}finally{if(_)throw C}}var T=v+1;w-r>f((a-s)/T)&&g("overflow"),s+=(w-r)*T,r=w;var E=!0,I=!1,F=void 0;try{for(var P,D=e[Symbol.iterator]();!(E=(P=D.next()).done);E=!0){var O=P.value;if(O<r&&++s>a&&g("overflow"),O==r){for(var A=s,q=36;;q+=36){var R=q<=l?1:q>=l+26?26:q-l;if(A<R)break;var N=A-R,$=36-R;t.push(m(b(R+N%$,0))),A=f(N/$)}t.push(m(b(A,0))),l=y(s,T,v==h),s=0,++v}}}catch(j){I=!0,F=j}finally{try{!E&&D.return&&D.return()}finally{if(I)throw F}}++s,++r}return t.join("")}(e):e}))},x=function(e){return v(e,(function(e){return c.test(e)?function(e){var t,n=[],r=e.length,s=0,l=128,o=72,i=e.lastIndexOf("-");i<0&&(i=0);for(var u=0;u<i;++u)e.charCodeAt(u)>=128&&g("not-basic"),n.push(e.charCodeAt(u));for(var c=i>0?i+1:0;c<r;){for(var d=s,p=1,h=36;;h+=36){c>=r&&g("invalid-input");var m=(t=e.charCodeAt(c++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:36;(m>=36||m>f((a-s)/p))&&g("overflow"),s+=m*p;var v=h<=o?1:h>=o+26?26:h-o;if(m<v)break;var b=36-v;p>f(a/b)&&g("overflow"),p*=b}var w=n.length+1;o=y(s-d,w,0==d),f(s/w)>a-l&&g("overflow"),l+=f(s/w),s%=w,n.splice(s++,0,l)}return String.fromCodePoint.apply(String,n)}(e.slice(4).toLowerCase()):e}))},_={};function C(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function k(e){for(var t="",n=0,r=e.length;n<r;){var s=parseInt(e.substr(n+1,2),16);if(s<128)t+=String.fromCharCode(s),n+=3;else if(s>=194&&s<224){if(r-n>=6){var l=parseInt(e.substr(n+4,2),16);t+=String.fromCharCode((31&s)<<6|63&l)}else t+=e.substr(n,6);n+=6}else if(s>=224){if(r-n>=9){var o=parseInt(e.substr(n+4,2),16),i=parseInt(e.substr(n+7,2),16);t+=String.fromCharCode((15&s)<<12|(63&o)<<6|63&i)}else t+=e.substr(n,9);n+=9}else t+=e.substr(n,3),n+=3}return t}function M(e,t){function n(e){var n=k(e);return n.match(t.UNRESERVED)?n:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,n).replace(t.NOT_USERINFO,C).replace(t.PCT_ENCODED,s)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_HOST,C).replace(t.PCT_ENCODED,s)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,n).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,C).replace(t.PCT_ENCODED,s)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,n).replace(t.NOT_QUERY,C).replace(t.PCT_ENCODED,s)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,n).replace(t.NOT_FRAGMENT,C).replace(t.PCT_ENCODED,s)),e}function S(e){return e.replace(/^0*(.*)/,"$1")||"0"}function T(e,t){var n=e.match(t.IPV4ADDRESS)||[],r=u(n,2)[1];return r?r.split(".").map(S).join("."):e}function E(e,t){var n=e.match(t.IPV6ADDRESS)||[],r=u(n,3),s=r[1],l=r[2];if(s){for(var o=s.toLowerCase().split("::").reverse(),i=u(o,2),a=i[0],c=i[1],d=c?c.split(":").map(S):[],p=a.split(":").map(S),h=t.IPV4ADDRESS.test(p[p.length-1]),f=h?7:8,m=p.length-f,g=Array(f),v=0;v<f;++v)g[v]=d[v]||p[m+v]||"";h&&(g[f-1]=T(g[f-1],t));var b=g.reduce((function(e,t,n){if(!t||"0"===t){var r=e[e.length-1];r&&r.index+r.length===n?r.length++:e.push({index:n,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],y=void 0;if(b&&b.length>1){var w=g.slice(0,b.index),x=g.slice(b.index+b.length);y=w.join(":")+"::"+x.join(":")}else y=g.join(":");return l&&(y+="%"+l),y}return e}var I=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,F=void 0==="".match(/(){0}/)[1];function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},r=!1!==t.iri?i:o;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var s=e.match(I);if(s){F?(n.scheme=s[1],n.userinfo=s[3],n.host=s[4],n.port=parseInt(s[5],10),n.path=s[6]||"",n.query=s[7],n.fragment=s[8],isNaN(n.port)&&(n.port=s[5])):(n.scheme=s[1]||void 0,n.userinfo=-1!==e.indexOf("@")?s[3]:void 0,n.host=-1!==e.indexOf("//")?s[4]:void 0,n.port=parseInt(s[5],10),n.path=s[6]||"",n.query=-1!==e.indexOf("?")?s[7]:void 0,n.fragment=-1!==e.indexOf("#")?s[8]:void 0,isNaN(n.port)&&(n.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?s[4]:void 0)),n.host&&(n.host=E(T(n.host,r),r)),n.reference=void 0!==n.scheme||void 0!==n.userinfo||void 0!==n.host||void 0!==n.port||n.path||void 0!==n.query?void 0===n.scheme?"relative":void 0===n.fragment?"absolute":"uri":"same-document",t.reference&&"suffix"!==t.reference&&t.reference!==n.reference&&(n.error=n.error||"URI is not a "+t.reference+" reference.");var l=_[(t.scheme||n.scheme||"").toLowerCase()];if(t.unicodeSupport||l&&l.unicodeSupport)M(n,r);else{if(n.host&&(t.domainHost||l&&l.domainHost))try{n.host=w(n.host.replace(r.PCT_ENCODED,k).toLowerCase())}catch(u){n.error=n.error||"Host's domain name can not be converted to ASCII via punycode: "+u}M(n,o)}l&&l.parse&&l.parse(n,t)}else n.error=n.error||"URI can not be parsed.";return n}function D(e,t){var n=!1!==t.iri?i:o,r=[];return void 0!==e.userinfo&&(r.push(e.userinfo),r.push("@")),void 0!==e.host&&r.push(E(T(String(e.host),n),n).replace(n.IPV6ADDRESS,(function(e,t,n){return"["+t+(n?"%25"+n:"")+"]"}))),"number"==typeof e.port&&(r.push(":"),r.push(e.port.toString(10))),r.length?r.join(""):void 0}var O=/^\.\.?\//,A=/^\/\.(\/|$)/,q=/^\/\.\.(\/|$)/,R=/^\/?(?:.|\n)*?(?=\/|$)/;function N(e){for(var t=[];e.length;)if(e.match(O))e=e.replace(O,"");else if(e.match(A))e=e.replace(A,"/");else if(e.match(q))e=e.replace(q,"/"),t.pop();else if("."===e||".."===e)e="";else{var n=e.match(R);if(!n)throw new Error("Unexpected dot segment condition");var r=n[0];e=e.slice(r.length),t.push(r)}return t.join("")}function $(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.iri?i:o,r=[],s=_[(t.scheme||e.scheme||"").toLowerCase()];if(s&&s.serialize&&s.serialize(e,t),e.host)if(n.IPV6ADDRESS.test(e.host));else if(t.domainHost||s&&s.domainHost)try{e.host=t.iri?x(e.host):w(e.host.replace(n.PCT_ENCODED,k).toLowerCase())}catch(a){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+a}M(e,n),"suffix"!==t.reference&&e.scheme&&(r.push(e.scheme),r.push(":"));var l=D(e,t);if(void 0!==l&&("suffix"!==t.reference&&r.push("//"),r.push(l),e.path&&"/"!==e.path.charAt(0)&&r.push("/")),void 0!==e.path){var u=e.path;t.absolutePath||s&&s.absolutePath||(u=N(u)),void 0===l&&(u=u.replace(/^\/\//,"/%2F")),r.push(u)}return void 0!==e.query&&(r.push("?"),r.push(e.query)),void 0!==e.fragment&&(r.push("#"),r.push(e.fragment)),r.join("")}function j(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3],s={};return r||(e=P($(e,n),n),t=P($(t,n),n)),!(n=n||{}).tolerant&&t.scheme?(s.scheme=t.scheme,s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=N(t.path||""),s.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=N(t.path||""),s.query=t.query):(t.path?("/"===t.path.charAt(0)?s.path=N(t.path):(s.path=void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:t.path:"/"+t.path,s.path=N(s.path)),s.query=t.query):(s.path=e.path,s.query=void 0!==t.query?t.query:e.query),s.userinfo=e.userinfo,s.host=e.host,s.port=e.port),s.scheme=e.scheme),s.fragment=t.fragment,s}function L(e,t){return e&&e.toString().replace(t&&t.iri?i.PCT_ENCODED:o.PCT_ENCODED,k)}var V={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){return e.port!==("https"!==String(e.scheme).toLowerCase()?80:443)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},U={scheme:"https",domainHost:V.domainHost,parse:V.parse,serialize:V.serialize},B={},z="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",H="[0-9A-Fa-f]",W=n(n("%[EFef]"+H+"%"+H+H+"%"+H+H)+"|"+n("%[89A-Fa-f]"+H+"%"+H+H)+"|"+n("%"+H+H)),K=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),G=new RegExp(z,"g"),Q=new RegExp(W,"g"),Z=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',K),"g"),J=new RegExp(t("[^]",z,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),Y=J;function X(e){var t=k(e);return t.match(G)?t:e}var ee={scheme:"mailto",parse:function(e,t){var n=e,r=n.to=n.path?n.path.split(","):[];if(n.path=void 0,n.query){for(var s=!1,l={},o=n.query.split("&"),i=0,u=o.length;i<u;++i){var a=o[i].split("=");switch(a[0]){case"to":for(var c=a[1].split(","),d=0,p=c.length;d<p;++d)r.push(c[d]);break;case"subject":n.subject=L(a[1],t);break;case"body":n.body=L(a[1],t);break;default:s=!0,l[L(a[0],t)]=L(a[1],t)}}s&&(n.headers=l)}n.query=void 0;for(var h=0,f=r.length;h<f;++h){var m=r[h].split("@");if(m[0]=L(m[0]),t.unicodeSupport)m[1]=L(m[1],t).toLowerCase();else try{m[1]=w(L(m[1],t).toLowerCase())}catch(g){n.error=n.error||"Email address's domain name can not be converted to ASCII via punycode: "+g}r[h]=m.join("@")}return n},serialize:function(e,t){var n,r=e,l=null!=(n=e.to)?n instanceof Array?n:"number"!=typeof n.length||n.split||n.setInterval||n.call?[n]:Array.prototype.slice.call(n):[];if(l){for(var o=0,i=l.length;o<i;++o){var u=String(l[o]),a=u.lastIndexOf("@"),c=u.slice(0,a).replace(Q,X).replace(Q,s).replace(Z,C),d=u.slice(a+1);try{d=t.iri?x(d):w(L(d,t).toLowerCase())}catch(m){r.error=r.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+m}l[o]=c+"@"+d}r.path=l.join(",")}var p=e.headers=e.headers||{};e.subject&&(p.subject=e.subject),e.body&&(p.body=e.body);var h=[];for(var f in p)p[f]!==B[f]&&h.push(f.replace(Q,X).replace(Q,s).replace(J,C)+"="+p[f].replace(Q,X).replace(Q,s).replace(Y,C));return h.length&&(r.query=h.join("&")),r}},te=/^([^\:]+)\:(.*)/,ne={scheme:"urn",parse:function(e,t){var n=e.path&&e.path.match(te),r=e;if(n){var s=t.scheme||r.scheme||"urn",l=n[1].toLowerCase(),o=n[2],i=_[s+":"+(t.nid||l)];r.nid=l,r.nss=o,r.path=void 0,i&&(r=i.parse(r,t))}else r.error=r.error||"URN can not be parsed.";return r},serialize:function(e,t){var n=e.nid,r=_[(t.scheme||e.scheme||"urn")+":"+(t.nid||n)];r&&(e=r.serialize(e,t));var s=e;return s.path=(n||t.nid)+":"+e.nss,s}},re=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,se={scheme:"urn:uuid",parse:function(e,t){var n=e;return n.uuid=n.nss,n.nss=void 0,t.tolerant||n.uuid&&n.uuid.match(re)||(n.error=n.error||"UUID is not valid."),n},serialize:function(e,t){var n=e;return n.nss=(e.uuid||"").toLowerCase(),n}};_[V.scheme]=V,_[U.scheme]=U,_[ee.scheme]=ee,_[ne.scheme]=ne,_[se.scheme]=se,e.SCHEMES=_,e.pctEncChar=C,e.pctDecChars=k,e.parse=P,e.removeDotSegments=N,e.serialize=$,e.resolveComponents=j,e.resolve=function(e,t,n){var r=function(e,t){var n={scheme:"null"};if(t)for(var r in t)n[r]=t[r];return n}(0,n);return $(j(P(e,r),P(t,r),r,!0),r)},e.normalize=function(e,t){return"string"==typeof e?e=$(P(e,t),t):"object"===r(e)&&(e=P($(e,t),t)),e},e.equal=function(e,t,n){return"string"==typeof e?e=$(P(e,n),n):"object"===r(e)&&(e=$(e,n)),"string"==typeof t?t=$(P(t,n),n):"object"===r(t)&&(t=$(t,n)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?i.ESCAPE:o.ESCAPE,C)},e.unescapeComponent=L,Object.defineProperty(e,"__esModule",{value:!0})}(t)},UoTg:function(e,t,n){"use strict";t.test=function(){return!global.setImmediate&&void 0!==global.MessageChannel},t.install=function(e){var t=new global.MessageChannel;return t.port1.onmessage=e,function(){t.port2.postMessage(0)}}},XD0j:function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",s=e.errSchemaPath+"/"+t,l=e.util.toQuotedString(e.schema[t]);return!0===e.opts.$comment?r+=" console.log("+l+");":"function"==typeof e.opts.$comment&&(r+=" self._opts.$comment("+l+", "+e.util.toQuotedString(s)+", validate.root.schema);"),r}},XPXQ:function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",s=e.level,l=e.dataLevel,o=e.schema[t],i=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,a=!e.opts.allErrors,c="data"+(l||""),d="valid"+s,p="errs__"+s,h=e.util.copy(e);h.level++;var f="valid"+h.level,m="i"+s,g=h.dataLevel=e.dataLevel+1,v="data"+g,b=e.baseId,y=e.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0||!1===o:e.util.schemaHasRules(o,e.RULES.all);if(r+="var "+p+" = errors;var "+d+";",y){var w=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.schema=o,h.schemaPath=i,h.errSchemaPath=u,r+=" var "+f+" = false; for (var "+m+" = 0; "+m+" < "+c+".length; "+m+"++) { ",h.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);var x=c+"["+m+"]";h.dataPathArr[g]=m;var _=e.validate(h);h.baseId=b,e.util.varOccurences(_,v)<2?r+=" "+e.util.varReplace(_,v,x)+" ":r+=" var "+v+" = "+x+"; "+_+" ",r+=" if ("+f+") break; }  ",e.compositeRule=h.compositeRule=w,r+="  if (!"+f+") {"}else r+=" if ("+c+".length == 0) {";var C=C||[];C.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should contain a valid item' "),e.opts.verbose&&(r+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var k=r;return r=C.pop(),r+=!e.compositeRule&&a?e.async?" throw new ValidationError(["+k+"]); ":" validate.errors = ["+k+"]; return false; ":" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { ",y&&(r+="  errors = "+p+"; if (vErrors !== null) { if ("+p+") vErrors.length = "+p+"; else vErrors = null; } "),e.opts.allErrors&&(r+=" } "),r}},Y3YA:function(e,t,n){"use strict";e.exports={$ref:n("bvhh"),allOf:n("6gcW"),anyOf:n("YPXT"),$comment:n("XD0j"),const:n("AwJw"),contains:n("XPXQ"),dependencies:n("uSCx"),enum:n("6MIY"),format:n("AK1u"),if:n("3ZNU"),items:n("eY4P"),maximum:n("v43d"),minimum:n("v43d"),maxItems:n("2jsQ"),minItems:n("2jsQ"),maxLength:n("mQYA"),minLength:n("mQYA"),maxProperties:n("d+r/"),minProperties:n("d+r/"),multipleOf:n("qTHO"),not:n("APWh"),oneOf:n("TbEC"),pattern:n("cUtX"),properties:n("vVvC"),propertyNames:n("bWPq"),required:n("t+aO"),uniqueItems:n("0w4r"),validate:n("1QhW")}},YPXT:function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",s=e.level,l=e.dataLevel,o=e.schema[t],i=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,a=!e.opts.allErrors,c="data"+(l||""),d="valid"+s,p="errs__"+s,h=e.util.copy(e),f="";h.level++;var m="valid"+h.level;if(o.every((function(t){return e.opts.strictKeywords?"object"==typeof t&&Object.keys(t).length>0||!1===t:e.util.schemaHasRules(t,e.RULES.all)}))){var g=h.baseId;r+=" var "+p+" = errors; var "+d+" = false;  ";var v=e.compositeRule;e.compositeRule=h.compositeRule=!0;var b=o;if(b)for(var y,w=-1,x=b.length-1;w<x;)y=b[w+=1],h.schema=y,h.schemaPath=i+"["+w+"]",h.errSchemaPath=u+"/"+w,r+="  "+e.validate(h)+" ",h.baseId=g,r+=" "+d+" = "+d+" || "+m+"; if (!"+d+") { ",f+="}";e.compositeRule=h.compositeRule=v,r+=" "+f+" if (!"+d+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&a&&(r+=e.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),r+=" } else {  errors = "+p+"; if (vErrors !== null) { if ("+p+") vErrors.length = "+p+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else a&&(r+=" if (true) { ");return r}},ZsDt:function(e,t,n){"use strict";var r=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];e.exports=function(e,t){for(var n=0;n<t.length;n++){e=JSON.parse(JSON.stringify(e));var s,l=t[n].split("/"),o=e;for(s=1;s<l.length;s++)o=o[l[s]];for(s=0;s<r.length;s++){var i=r[s],u=o[i];u&&(o[i]={anyOf:[u,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return e}},aaBP:function(e,t,n){e.exports=function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(e,t){var n=e[0],r=e[1],s=e[2],l=e[3];r=((r+=((s=((s+=((l=((l+=((n=((n+=(r&s|~r&l)+t[0]-680876936|0)<<7|n>>>25)+r|0)&r|~n&s)+t[1]-389564586|0)<<12|l>>>20)+n|0)&n|~l&r)+t[2]+606105819|0)<<17|s>>>15)+l|0)&l|~s&n)+t[3]-1044525330|0)<<22|r>>>10)+s|0,r=((r+=((s=((s+=((l=((l+=((n=((n+=(r&s|~r&l)+t[4]-176418897|0)<<7|n>>>25)+r|0)&r|~n&s)+t[5]+1200080426|0)<<12|l>>>20)+n|0)&n|~l&r)+t[6]-1473231341|0)<<17|s>>>15)+l|0)&l|~s&n)+t[7]-45705983|0)<<22|r>>>10)+s|0,r=((r+=((s=((s+=((l=((l+=((n=((n+=(r&s|~r&l)+t[8]+1770035416|0)<<7|n>>>25)+r|0)&r|~n&s)+t[9]-1958414417|0)<<12|l>>>20)+n|0)&n|~l&r)+t[10]-42063|0)<<17|s>>>15)+l|0)&l|~s&n)+t[11]-1990404162|0)<<22|r>>>10)+s|0,r=((r+=((s=((s+=((l=((l+=((n=((n+=(r&s|~r&l)+t[12]+1804603682|0)<<7|n>>>25)+r|0)&r|~n&s)+t[13]-40341101|0)<<12|l>>>20)+n|0)&n|~l&r)+t[14]-1502002290|0)<<17|s>>>15)+l|0)&l|~s&n)+t[15]+1236535329|0)<<22|r>>>10)+s|0,r=((r+=((s=((s+=((l=((l+=((n=((n+=(r&l|s&~l)+t[1]-165796510|0)<<5|n>>>27)+r|0)&s|r&~s)+t[6]-1069501632|0)<<9|l>>>23)+n|0)&r|n&~r)+t[11]+643717713|0)<<14|s>>>18)+l|0)&n|l&~n)+t[0]-373897302|0)<<20|r>>>12)+s|0,r=((r+=((s=((s+=((l=((l+=((n=((n+=(r&l|s&~l)+t[5]-701558691|0)<<5|n>>>27)+r|0)&s|r&~s)+t[10]+38016083|0)<<9|l>>>23)+n|0)&r|n&~r)+t[15]-660478335|0)<<14|s>>>18)+l|0)&n|l&~n)+t[4]-405537848|0)<<20|r>>>12)+s|0,r=((r+=((s=((s+=((l=((l+=((n=((n+=(r&l|s&~l)+t[9]+568446438|0)<<5|n>>>27)+r|0)&s|r&~s)+t[14]-1019803690|0)<<9|l>>>23)+n|0)&r|n&~r)+t[3]-187363961|0)<<14|s>>>18)+l|0)&n|l&~n)+t[8]+1163531501|0)<<20|r>>>12)+s|0,r=((r+=((s=((s+=((l=((l+=((n=((n+=(r&l|s&~l)+t[13]-1444681467|0)<<5|n>>>27)+r|0)&s|r&~s)+t[2]-51403784|0)<<9|l>>>23)+n|0)&r|n&~r)+t[7]+1735328473|0)<<14|s>>>18)+l|0)&n|l&~n)+t[12]-1926607734|0)<<20|r>>>12)+s|0,r=((r+=((s=((s+=((l=((l+=((n=((n+=(r^s^l)+t[5]-378558|0)<<4|n>>>28)+r|0)^r^s)+t[8]-2022574463|0)<<11|l>>>21)+n|0)^n^r)+t[11]+1839030562|0)<<16|s>>>16)+l|0)^l^n)+t[14]-35309556|0)<<23|r>>>9)+s|0,r=((r+=((s=((s+=((l=((l+=((n=((n+=(r^s^l)+t[1]-1530992060|0)<<4|n>>>28)+r|0)^r^s)+t[4]+1272893353|0)<<11|l>>>21)+n|0)^n^r)+t[7]-155497632|0)<<16|s>>>16)+l|0)^l^n)+t[10]-1094730640|0)<<23|r>>>9)+s|0,r=((r+=((s=((s+=((l=((l+=((n=((n+=(r^s^l)+t[13]+681279174|0)<<4|n>>>28)+r|0)^r^s)+t[0]-358537222|0)<<11|l>>>21)+n|0)^n^r)+t[3]-722521979|0)<<16|s>>>16)+l|0)^l^n)+t[6]+76029189|0)<<23|r>>>9)+s|0,r=((r+=((s=((s+=((l=((l+=((n=((n+=(r^s^l)+t[9]-640364487|0)<<4|n>>>28)+r|0)^r^s)+t[12]-421815835|0)<<11|l>>>21)+n|0)^n^r)+t[15]+530742520|0)<<16|s>>>16)+l|0)^l^n)+t[2]-995338651|0)<<23|r>>>9)+s|0,r=((r+=((l=((l+=(r^((n=((n+=(s^(r|~l))+t[0]-198630844|0)<<6|n>>>26)+r|0)|~s))+t[7]+1126891415|0)<<10|l>>>22)+n|0)^((s=((s+=(n^(l|~r))+t[14]-1416354905|0)<<15|s>>>17)+l|0)|~n))+t[5]-57434055|0)<<21|r>>>11)+s|0,r=((r+=((l=((l+=(r^((n=((n+=(s^(r|~l))+t[12]+1700485571|0)<<6|n>>>26)+r|0)|~s))+t[3]-1894986606|0)<<10|l>>>22)+n|0)^((s=((s+=(n^(l|~r))+t[10]-1051523|0)<<15|s>>>17)+l|0)|~n))+t[1]-2054922799|0)<<21|r>>>11)+s|0,r=((r+=((l=((l+=(r^((n=((n+=(s^(r|~l))+t[8]+1873313359|0)<<6|n>>>26)+r|0)|~s))+t[15]-30611744|0)<<10|l>>>22)+n|0)^((s=((s+=(n^(l|~r))+t[6]-1560198380|0)<<15|s>>>17)+l|0)|~n))+t[13]+1309151649|0)<<21|r>>>11)+s|0,r=((r+=((l=((l+=(r^((n=((n+=(s^(r|~l))+t[4]-145523070|0)<<6|n>>>26)+r|0)|~s))+t[11]-1120210379|0)<<10|l>>>22)+n|0)^((s=((s+=(n^(l|~r))+t[2]+718787259|0)<<15|s>>>17)+l|0)|~n))+t[9]-343485551|0)<<21|r>>>11)+s|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=s+e[2]|0,e[3]=l+e[3]|0}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function s(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function l(e){var t,s,l,o,i,u,a=e.length,c=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=a;t+=64)n(c,r(e.substring(t-64,t)));for(s=(e=e.substring(t-64)).length,l=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<s;t+=1)l[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(l[t>>2]|=128<<(t%4<<3),t>55)for(n(c,l),t=0;t<16;t+=1)l[t]=0;return o=(o=8*a).toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(o[2],16),u=parseInt(o[1],16)||0,l[14]=i,l[15]=u,n(c,l),c}function o(e){var n,r="";for(n=0;n<4;n+=1)r+=t[e>>8*n+4&15]+t[e>>8*n&15];return r}function i(e){var t;for(t=0;t<e.length;t+=1)e[t]=o(e[t]);return e.join("")}function u(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function a(e){var t,n=[],r=e.length;for(t=0;t<r-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function c(){this.reset()}return i(l("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function e(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(t,n){var r,s,l,o,i=this.byteLength,u=e(t,i),a=i;return void 0!==n&&(a=e(n,i)),u>a?new ArrayBuffer(0):(r=a-u,s=new ArrayBuffer(r),l=new Uint8Array(s),o=new Uint8Array(this,u,r),l.set(o),s)}}(),c.prototype.append=function(e){return this.appendBinary(u(e)),this},c.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,s=this._buff.length;for(t=64;t<=s;t+=64)n(this._hash,r(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},c.prototype.end=function(e){var t,n,r=this._buff,s=r.length,l=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<s;t+=1)l[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(l,s),n=i(this._hash),e&&(n=a(n)),this.reset(),n},c.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},c.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},c.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},c.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},c.prototype._finish=function(e,t){var r,s,l,o=t;if(e[o>>2]|=128<<(o%4<<3),o>55)for(n(this._hash,e),o=0;o<16;o+=1)e[o]=0;r=(r=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(r[2],16),l=parseInt(r[1],16)||0,e[14]=s,e[15]=l,n(this._hash,e)},c.hash=function(e,t){return c.hashBinary(u(e),t)},c.hashBinary=function(e,t){var n=i(l(e));return t?a(n):n},(c.ArrayBuffer=function(){this.reset()}).prototype.append=function(e){var t,r,l,o,i=(r=this._buff.buffer,l=e,(o=new Uint8Array(r.byteLength+l.byteLength)).set(new Uint8Array(r)),o.set(new Uint8Array(l),r.byteLength),o),u=i.length;for(this._length+=e.byteLength,t=64;t<=u;t+=64)n(this._hash,s(i.subarray(t-64,t)));return this._buff=t-64<u?new Uint8Array(i.buffer.slice(t-64)):new Uint8Array(0),this},c.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,s=r.length,l=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<s;t+=1)l[t>>2]|=r[t]<<(t%4<<3);return this._finish(l,s),n=i(this._hash),e&&(n=a(n)),this.reset(),n},c.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},c.ArrayBuffer.prototype.getState=function(){var e=c.prototype.getState.call(this);return e.buff=String.fromCharCode.apply(null,new Uint8Array(e.buff)),e},c.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,t){var n,r=e.length,s=new ArrayBuffer(r),l=new Uint8Array(s);for(n=0;n<r;n+=1)l[n]=e.charCodeAt(n);return l}(e.buff),c.prototype.setState.call(this,e)},c.ArrayBuffer.prototype.destroy=c.prototype.destroy,c.ArrayBuffer.prototype._finish=c.prototype._finish,c.ArrayBuffer.hash=function(e,t){var r=i(function(e){var t,r,l,o,i,u,a=e.length,c=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=a;t+=64)n(c,s(e.subarray(t-64,t)));for(r=(e=t-64<a?e.subarray(t-64):new Uint8Array(0)).length,l=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)l[t>>2]|=e[t]<<(t%4<<3);if(l[t>>2]|=128<<(t%4<<3),t>55)for(n(c,l),t=0;t<16;t+=1)l[t]=0;return o=(o=8*a).toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(o[2],16),u=parseInt(o[1],16)||0,l[14]=i,l[15]=u,n(c,l),c}(new Uint8Array(e)));return t?a(r):r},c}()},bWPq:function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",s=e.level,l=e.dataLevel,o=e.schema[t],i=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,a=!e.opts.allErrors,c="data"+(l||""),d="errs__"+s,p=e.util.copy(e);p.level++;var h="valid"+p.level;if(r+="var "+d+" = errors;",e.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0||!1===o:e.util.schemaHasRules(o,e.RULES.all)){p.schema=o,p.schemaPath=i,p.errSchemaPath=u;var f="key"+s,m="idx"+s,g="i"+s,v="' + "+f+" + '",b="data"+(p.dataLevel=e.dataLevel+1),y="dataProperties"+s,w=e.opts.ownProperties,x=e.baseId;w&&(r+=" var "+y+" = undefined; "),r+=w?" "+y+" = "+y+" || Object.keys("+c+"); for (var "+m+"=0; "+m+"<"+y+".length; "+m+"++) { var "+f+" = "+y+"["+m+"]; ":" for (var "+f+" in "+c+") { ",r+=" var startErrs"+s+" = errors; ";var _=f,C=e.compositeRule;e.compositeRule=p.compositeRule=!0;var k=e.validate(p);p.baseId=x,e.util.varOccurences(k,b)<2?r+=" "+e.util.varReplace(k,b,_)+" ":r+=" var "+b+" = "+_+"; "+k+" ",e.compositeRule=p.compositeRule=C,r+=" if (!"+h+") { for (var "+g+"=startErrs"+s+"; "+g+"<errors; "+g+"++) { vErrors["+g+"].propertyName = "+f+"; }   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { propertyName: '"+v+"' } ",!1!==e.opts.messages&&(r+=" , message: 'property name \\'"+v+"\\' is invalid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&a&&(r+=e.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),a&&(r+=" break; "),r+=" } }"}return a&&(r+="  if ("+d+" == errors) {"),r}},bnbC:function(e){e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}},bvhh:function(e,t,n){"use strict";e.exports=function(e,t,n){var r,s,l=" ",o=e.dataLevel,i=e.schema[t],u=e.errSchemaPath+"/"+t,a=!e.opts.allErrors,c="data"+(o||""),d="valid"+e.level;if("#"==i||"#/"==i)e.isRoot?(r=e.async,s="validate"):(r=!0===e.root.schema.$async,s="root.refVal[0]");else{var p=e.resolveRef(e.baseId,i,e.isRoot);if(void 0===p){var h=e.MissingRefError.message(e.baseId,i);if("fail"==e.opts.missingRefs){e.logger.error(h),(v=v||[]).push(l),l="",!1!==e.createErrors?(l+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { ref: '"+e.util.escapeQuotes(i)+"' } ",!1!==e.opts.messages&&(l+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(i)+"' "),e.opts.verbose&&(l+=" , schema: "+e.util.toQuotedString(i)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),l+=" } "):l+=" {} ";var f=l;l=v.pop(),l+=!e.compositeRule&&a?e.async?" throw new ValidationError(["+f+"]); ":" validate.errors = ["+f+"]; return false; ":" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a&&(l+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,i,h);e.logger.warn(h),a&&(l+=" if (true) { ")}}else if(p.inline){var m=e.util.copy(e);m.level++;var g="valid"+m.level;m.schema=p.schema,m.schemaPath="",m.errSchemaPath=i,l+=" "+e.validate(m).replace(/validate\.schema/g,p.code)+" ",a&&(l+=" if ("+g+") { ")}else r=!0===p.$async||e.async&&!1!==p.$async,s=p.code}if(s){var v;(v=v||[]).push(l),l="",l+=e.opts.passContext?" "+s+".call(this, ":" "+s+"( ",l+=" "+c+", (dataPath || '')",'""'!=e.errorPath&&(l+=" + "+e.errorPath);var b=l+=" , "+(o?"data"+(o-1||""):"parentData")+" , "+(o?e.dataPathArr[o]:"parentDataProperty")+", rootData)  ";if(l=v.pop(),r){if(!e.async)throw new Error("async schema referenced by sync schema");a&&(l+=" var "+d+"; "),l+=" try { await "+b+"; ",a&&(l+=" "+d+" = true; "),l+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",a&&(l+=" "+d+" = false; "),l+=" } ",a&&(l+=" if ("+d+") { ")}else l+=" if (!"+b+") { if (vErrors === null) vErrors = "+s+".errors; else vErrors = vErrors.concat("+s+".errors); errors = vErrors.length; } ",a&&(l+=" else { ")}return l}},byjP:function(e,t,n){"use strict";function r(e,t,n){var r=n[n.length-1];e===r.element&&(n.pop(),r=n[n.length-1]);var s=r.element,l=r.index;Array.isArray(s)?s.push(e):l===t.length-2?s[t.pop()]=e:t.push(e)}t.stringify=function(e){var t=[];t.push({obj:e});for(var n,r,s,l,o,i,u,a,c,d="";n=t.pop();)if(r=n.obj,d+=n.prefix||"",s=n.val||"")d+=s;else if("object"!=typeof r)d+=void 0===r?null:JSON.stringify(r);else if(null===r)d+="null";else if(Array.isArray(r)){for(t.push({val:"]"}),l=r.length-1;l>=0;l--)t.push({obj:r[l],prefix:0===l?"":","});t.push({val:"["})}else{for(i in o=[],r)r.hasOwnProperty(i)&&o.push(i);for(t.push({val:"}"}),l=o.length-1;l>=0;l--)a=r[u=o[l]],c=l>0?",":"",c+=JSON.stringify(u)+":",t.push({obj:a,prefix:c});t.push({val:"{"})}return d},t.parse=function(e){for(var t,n,s,l,o,i,u,a,c,d=[],p=[],h=0;;)if("}"!==(t=e[h++])&&"]"!==t&&void 0!==t)switch(t){case" ":case"\t":case"\n":case":":case",":break;case"n":h+=3,r(null,d,p);break;case"t":h+=3,r(!0,d,p);break;case"f":h+=4,r(!1,d,p);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(n="",h--;;){if(s=e[h++],!/[\d\.\-e\+]/.test(s)){h--;break}n+=s}r(parseFloat(n),d,p);break;case'"':for(l="",o=void 0,i=0;'"'!==(u=e[h++])||"\\"===o&&i%2==1;)l+=u,"\\"===(o=u)?i++:i=0;r(JSON.parse('"'+l+'"'),d,p);break;case"[":d.push((a={element:[],index:d.length}).element),p.push(a);break;case"{":d.push((c={element:{},index:d.length}).element),p.push(c);break;default:throw new Error("unexpectedly reached end of input: "+t)}else{if(1===d.length)return d.pop();r(d.pop(),d,p)}}},cUtX:function(e,t,n){"use strict";e.exports=function(e,t,n){var r,s=" ",l=e.level,o=e.dataLevel,i=e.schema[t],u=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,d="data"+(o||""),p=e.opts.$data&&i&&i.$data;p?(s+=" var schema"+l+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",r="schema"+l):r=i;var h=p?"(new RegExp("+r+"))":e.usePattern(i);s+="if ( ",p&&(s+=" ("+r+" !== undefined && typeof "+r+" != 'string') || ");var f=f||[];f.push(s+=" !"+h+".test("+d+") ) {   "),s="",!1!==e.createErrors?(s+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { pattern:  ",s+=p?""+r:""+e.util.toQuotedString(i),s+="  } ",!1!==e.opts.messages&&(s+=" , message: 'should match pattern \"",s+=p?"' + "+r+" + '":""+e.util.escapeQuotes(i),s+="\"' "),e.opts.verbose&&(s+=" , schema:  ",s+=p?"validate.schema"+u:""+e.util.toQuotedString(i),s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var m=s;return s=f.pop(),s+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+m+"]); ":" validate.errors = ["+m+"]; return false; ":" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",c&&(s+=" else { "),s}},cjZW:function(e,t,n){"use strict";e.exports=function(e,t,n){var r,s,l=" ",o=e.level,i=e.dataLevel,u=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,p="data"+(i||""),h="valid"+o,f="errs__"+o,m=e.opts.$data&&u&&u.$data;m?(l+=" var schema"+o+" = "+e.util.getData(u.$data,i,e.dataPathArr)+"; ",s="schema"+o):s=u;var g,v,b,y,w,x="definition"+o,_=this.definition,C="";if(m&&_.$data){var k=_.validateSchema;l+=" var "+x+" = RULES.custom['"+t+"'].definition; var "+(w="keywordValidate"+o)+" = "+x+".validate;"}else{if(!(y=e.useCustomRule(this,u,e.schema,e)))return;s="validate.schema"+a,w=y.code,g=_.compile,v=_.inline,b=_.macro}var M=w+".errors",S="i"+o,T="ruleErr"+o,E=_.async;if(E&&!e.async)throw new Error("async keyword in sync schema");if(v||b||(l+=M+" = null;"),l+="var "+f+" = errors;var "+h+";",m&&_.$data&&(C+="}",l+=" if ("+s+" === undefined) { "+h+" = true; } else { ",k&&(C+="}",l+=" "+h+" = "+x+".validateSchema("+s+"); if ("+h+") { ")),v)l+=_.statements?" "+y.validate+" ":" "+h+" = "+y.validate+"; ";else if(b){var I=e.util.copy(e);C="",I.level++;var F="valid"+I.level;I.schema=y.validate,I.schemaPath="";var P=e.compositeRule;e.compositeRule=I.compositeRule=!0;var D=e.validate(I).replace(/validate\.schema/g,w);e.compositeRule=I.compositeRule=P,l+=" "+D}else{(R=R||[]).push(l),l="",l+="  "+w+".call( ",l+=e.opts.passContext?"this":"self",l+=g||!1===_.schema?" , "+p+" ":" , "+s+" , "+p+" , validate.schema"+e.schemaPath+" ",l+=" , (dataPath || '')",'""'!=e.errorPath&&(l+=" + "+e.errorPath);var O=i?"data"+(i-1||""):"parentData",A=i?e.dataPathArr[i]:"parentDataProperty",q=l+=" , "+O+" , "+A+" , rootData )  ";l=R.pop(),!1===_.errors?(l+=" "+h+" = ",E&&(l+="await "),l+=q+"; "):l+=E?" var "+(M="customErrors"+o)+" = null; try { "+h+" = await "+q+"; } catch (e) { "+h+" = false; if (e instanceof ValidationError) "+M+" = e.errors; else throw e; } ":" "+M+" = null; "+h+" = "+q+"; "}if(_.modifying&&(l+=" if ("+O+") "+p+" = "+O+"["+A+"];"),l+=""+C,_.valid)d&&(l+=" if (true) { ");else{var R;l+=" if ( ",void 0===_.valid?(l+=" !",l+=b?""+F:""+h):l+=" "+!_.valid+" ",r=this.keyword,(R=R||[]).push(l+=") { "),(R=R||[]).push(l=""),l="",!1!==e.createErrors?(l+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(l+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(l+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),l+=" } "):l+=" {} ";var N=l;l=R.pop();var $=l+=!e.compositeRule&&d?e.async?" throw new ValidationError(["+N+"]); ":" validate.errors = ["+N+"]; return false; ":" var err = "+N+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";l=R.pop(),v?_.errors?"full"!=_.errors&&(l+="  for (var "+S+"="+f+"; "+S+"<errors; "+S+"++) { var "+T+" = vErrors["+S+"]; if ("+T+".dataPath === undefined) "+T+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+T+".schemaPath === undefined) { "+T+'.schemaPath = "'+c+'"; } ',e.opts.verbose&&(l+=" "+T+".schema = "+s+"; "+T+".data = "+p+"; "),l+=" } "):!1===_.errors?l+=" "+$+" ":(l+=" if ("+f+" == errors) { "+$+" } else {  for (var "+S+"="+f+"; "+S+"<errors; "+S+"++) { var "+T+" = vErrors["+S+"]; if ("+T+".dataPath === undefined) "+T+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+T+".schemaPath === undefined) { "+T+'.schemaPath = "'+c+'"; } ',e.opts.verbose&&(l+=" "+T+".schema = "+s+"; "+T+".data = "+p+"; "),l+=" } } "):b?(l+="   var err =   ",!1!==e.createErrors?(l+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(l+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(l+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),l+=" } "):l+=" {} ",l+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&d&&(l+=e.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; ")):!1===_.errors?l+=" "+$+" ":(l+=" if (Array.isArray("+M+")) { if (vErrors === null) vErrors = "+M+"; else vErrors = vErrors.concat("+M+"); errors = vErrors.length;  for (var "+S+"="+f+"; "+S+"<errors; "+S+"++) { var "+T+" = vErrors["+S+"]; if ("+T+".dataPath === undefined) "+T+".dataPath = (dataPath || '') + "+e.errorPath+";  "+T+'.schemaPath = "'+c+'";  ',e.opts.verbose&&(l+=" "+T+".schema = "+s+"; "+T+".data = "+p+"; "),l+=" } } else { "+$+" } "),l+=" } ",d&&(l+=" else { ")}return l}},"d+r/":function(e,t,n){"use strict";e.exports=function(e,t,n){var r,s=" ",l=e.level,o=e.dataLevel,i=e.schema[t],u=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,d="data"+(o||""),p=e.opts.$data&&i&&i.$data;if(p?(s+=" var schema"+l+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",r="schema"+l):r=i,!p&&"number"!=typeof i)throw new Error(t+" must be number");s+="if ( ",p&&(s+=" ("+r+" !== undefined && typeof "+r+" != 'number') || ");var h=t,f=f||[];f.push(s+=" Object.keys("+d+").length "+("maxProperties"==t?">":"<")+" "+r+") { "),s="",!1!==e.createErrors?(s+=" { keyword: '"+(h||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(s+=" , message: 'should NOT have ",s+="maxProperties"==t?"more":"fewer",s+=" than ",s+=p?"' + "+r+" + '":""+i,s+=" properties' "),e.opts.verbose&&(s+=" , schema:  ",s+=p?"validate.schema"+u:""+i,s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var m=s;return s=f.pop(),s+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+m+"]); ":" validate.errors = ["+m+"]; return false; ":" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",c&&(s+=" else { "),s}},"d17/":function(e,t,n){"use strict";e.exports=function(e){for(var t,n=0,r=e.length,s=0;s<r;)n++,(t=e.charCodeAt(s++))>=55296&&t<=56319&&s<r&&56320==(64512&(t=e.charCodeAt(s)))&&s++;return n}},eDuk:function(e,t,n){"use strict";var r=n("jQLo"),s=n("qXHa"),l=n("6pwk"),o=n("ugD5"),i=n("9x6x"),u=n("n+SQ"),a=n("wXyd"),c=n("ZsDt"),d=n("+9rK");e.exports=v,v.prototype.validate=function(e,t){var n;if("string"==typeof e){if(!(n=this.getSchema(e)))throw new Error('no schema with key or ref "'+e+'"')}else{var r=this._addSchema(e);n=r.validate||this._compile(r)}var s=n(t);return!0!==n.$async&&(this.errors=n.errors),s},v.prototype.compile=function(e,t){var n=this._addSchema(e,void 0,t);return n.validate||this._compile(n)},v.prototype.addSchema=function(e,t,n,r){if(Array.isArray(e)){for(var l=0;l<e.length;l++)this.addSchema(e[l],void 0,n,r);return this}var o=this._getId(e);if(void 0!==o&&"string"!=typeof o)throw new Error("schema id must be string");return C(this,t=s.normalizeId(t||o)),this._schemas[t]=this._addSchema(e,n,r,!0),this},v.prototype.addMetaSchema=function(e,t,n){return this.addSchema(e,t,n,!0),this},v.prototype.validateSchema=function(e,t){var n=e.$schema;if(void 0!==n&&"string"!=typeof n)throw new Error("$schema must be a string");if(!(n=n||this._opts.defaultMeta||function(e){var t=e._opts.meta;return e._opts.defaultMeta="object"==typeof t?e._getId(t)||t:e.getSchema(f)?f:void 0,e._opts.defaultMeta}(this)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var r=this.validate(n,e);if(!r&&t){var s="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(s);this.logger.error(s)}return r},v.prototype.getSchema=function(e){var t=b(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return function(e,t){var n=s.schema.call(e,{schema:{}},t);if(n){var l=n.schema,i=n.root,u=n.baseId,a=r.call(e,l,i,void 0,u);return e._fragments[t]=new o({ref:t,fragment:!0,schema:l,root:i,baseId:u,validate:a}),a}}(this,e)}},v.prototype.removeSchema=function(e){if(e instanceof RegExp)return y(this,this._schemas,e),y(this,this._refs,e),this;switch(typeof e){case"undefined":return y(this,this._schemas),y(this,this._refs),this._cache.clear(),this;case"string":var t=b(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var n=this._opts.serialize,r=n?n(e):e;this._cache.del(r);var l=this._getId(e);l&&(l=s.normalizeId(l),delete this._schemas[l],delete this._refs[l])}return this},v.prototype.addFormat=function(e,t){return"string"==typeof t&&(t=new RegExp(t)),this._formats[e]=t,this},v.prototype.errorsText=function(e,t){if(!(e=e||this.errors))return"No errors";for(var n=void 0===(t=t||{}).separator?", ":t.separator,r=void 0===t.dataVar?"data":t.dataVar,s="",l=0;l<e.length;l++){var o=e[l];o&&(s+=r+o.dataPath+" "+o.message+n)}return s.slice(0,-n.length)},v.prototype._addSchema=function(e,t,n,r){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var l=this._opts.serialize,i=l?l(e):e,u=this._cache.get(i);if(u)return u;r=r||!1!==this._opts.addUsedSchema;var a=s.normalizeId(this._getId(e));a&&r&&C(this,a);var c,d=!1!==this._opts.validateSchema&&!t;d&&!(c=a&&a==s.normalizeId(e.$schema))&&this.validateSchema(e,!0);var p=s.ids.call(this,e),h=new o({id:a,schema:e,localRefs:p,cacheKey:i,meta:n});return"#"!=a[0]&&r&&(this._refs[a]=h),this._cache.put(i,h),d&&c&&this.validateSchema(e,!0),h},v.prototype._compile=function(e,t){if(e.compiling)return e.validate=l,l.schema=e.schema,l.errors=null,l.root=t||l,!0===e.schema.$async&&(l.$async=!0),l;var n,s;e.compiling=!0,e.meta&&(n=this._opts,this._opts=this._metaOpts);try{s=r.call(this,e.schema,t,e.localRefs)}catch(o){throw delete e.validate,o}finally{e.compiling=!1,e.meta&&(this._opts=n)}return e.validate=s,e.refs=s.refs,e.refVal=s.refVal,e.root=s.root,s;function l(){var t=e.validate,n=t.apply(this,arguments);return l.errors=t.errors,n}},v.prototype.compileAsync=n("sagP");var p=n("//Jx");v.prototype.addKeyword=p.add,v.prototype.getKeyword=p.get,v.prototype.removeKeyword=p.remove,v.prototype.validateKeyword=p.validate;var h=n("iZoB");v.ValidationError=h.Validation,v.MissingRefError=h.MissingRef,v.$dataMetaSchema=c;var f="http://json-schema.org/draft-07/schema",m=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],g=["/properties"];function v(e){if(!(this instanceof v))return new v(e);e=this._opts=d.copy(e)||{},function(e){var t=e._opts.logger;if(!1===t)e.logger={log:k,warn:k,error:k};else{if(void 0===t&&(t=console),!("object"==typeof t&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=u(e.format),this._cache=e.cache||new l,this._loadingSchemas={},this._compilations=[],this.RULES=a(),this._getId=function(e){switch(e.schemaId){case"auto":return _;case"id":return w;default:return x}}(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=i),this._metaOpts=function(e){for(var t=d.copy(e._opts),n=0;n<m.length;n++)delete t[m[n]];return t}(this),e.formats&&function(e){for(var t in e._opts.formats)e.addFormat(t,e._opts.formats[t])}(this),e.keywords&&function(e){for(var t in e._opts.keywords)e.addKeyword(t,e._opts.keywords[t])}(this),function(e){var t;if(e._opts.$data&&(t=n("RsDv"),e.addMetaSchema(t,t.$id,!0)),!1!==e._opts.meta){var r=n("bnbC");e._opts.$data&&(r=c(r,g)),e.addMetaSchema(r,f,!0),e._refs["http://json-schema.org/schema"]=f}}(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),function(e){var t=e._opts.schemas;if(t)if(Array.isArray(t))e.addSchema(t);else for(var n in t)e.addSchema(t[n],n)}(this)}function b(e,t){return t=s.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function y(e,t,n){for(var r in t){var s=t[r];s.meta||n&&!n.test(r)||(e._cache.del(s.cacheKey),delete t[r])}}function w(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function x(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function _(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function C(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function k(){}},eXaU:function(e,t,n){"use strict";var r=n("bnbC");e.exports={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:r.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:r.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}},eY4P:function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",s=e.level,l=e.dataLevel,o=e.schema[t],i=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,a=!e.opts.allErrors,c="data"+(l||""),d="valid"+s,p="errs__"+s,h=e.util.copy(e),f="";h.level++;var m="valid"+h.level,g="i"+s,v=h.dataLevel=e.dataLevel+1,b="data"+v,y=e.baseId;if(r+="var "+p+" = errors;var "+d+";",Array.isArray(o)){var w=e.schema.additionalItems;if(!1===w){r+=" "+d+" = "+c+".length <= "+o.length+"; ";var x=u;u=e.errSchemaPath+"/additionalItems";var _=_||[];_.push(r+="  if (!"+d+") {   "),r="",!1!==e.createErrors?(r+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+o.length+" } ",!1!==e.opts.messages&&(r+=" , message: 'should NOT have more than "+o.length+" items' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var C=r;r=_.pop(),r+=!e.compositeRule&&a?e.async?" throw new ValidationError(["+C+"]); ":" validate.errors = ["+C+"]; return false; ":" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",u=x,a&&(f+="}",r+=" else { ")}var k=o;if(k)for(var M,S=-1,T=k.length-1;S<T;)if(M=k[S+=1],e.opts.strictKeywords?"object"==typeof M&&Object.keys(M).length>0||!1===M:e.util.schemaHasRules(M,e.RULES.all)){r+=" "+m+" = true; if ("+c+".length > "+S+") { ";var E=c+"["+S+"]";h.schema=M,h.schemaPath=i+"["+S+"]",h.errSchemaPath=u+"/"+S,h.errorPath=e.util.getPathExpr(e.errorPath,S,e.opts.jsonPointers,!0),h.dataPathArr[v]=S;var I=e.validate(h);h.baseId=y,e.util.varOccurences(I,b)<2?r+=" "+e.util.varReplace(I,b,E)+" ":r+=" var "+b+" = "+E+"; "+I+" ",r+=" }  ",a&&(r+=" if ("+m+") { ",f+="}")}"object"==typeof w&&(e.opts.strictKeywords?"object"==typeof w&&Object.keys(w).length>0||!1===w:e.util.schemaHasRules(w,e.RULES.all))&&(h.schema=w,h.schemaPath=e.schemaPath+".additionalItems",h.errSchemaPath=e.errSchemaPath+"/additionalItems",r+=" "+m+" = true; if ("+c+".length > "+o.length+") {  for (var "+g+" = "+o.length+"; "+g+" < "+c+".length; "+g+"++) { ",h.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0),E=c+"["+g+"]",h.dataPathArr[v]=g,I=e.validate(h),h.baseId=y,e.util.varOccurences(I,b)<2?r+=" "+e.util.varReplace(I,b,E)+" ":r+=" var "+b+" = "+E+"; "+I+" ",a&&(r+=" if (!"+m+") break; "),r+=" } }  ",a&&(r+=" if ("+m+") { ",f+="}"))}else(e.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0||!1===o:e.util.schemaHasRules(o,e.RULES.all))&&(h.schema=o,h.schemaPath=i,h.errSchemaPath=u,r+="  for (var "+g+" = 0; "+g+" < "+c+".length; "+g+"++) { ",h.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0),E=c+"["+g+"]",h.dataPathArr[v]=g,I=e.validate(h),h.baseId=y,e.util.varOccurences(I,b)<2?r+=" "+e.util.varReplace(I,b,E)+" ":r+=" var "+b+" = "+E+"; "+I+" ",a&&(r+=" if (!"+m+") break; "),r+=" }");return a&&(r+=" "+f+" if ("+p+" == errors) {"),r}},g2dr:function(e,t,n){"use strict";t.test=function(){return"document"in global&&"onreadystatechange"in global.document.createElement("script")},t.install=function(e){return function(){var t=global.document.createElement("script");return t.onreadystatechange=function(){e(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},global.document.documentElement.appendChild(t),e}}},iZoB:function(e,t,n){"use strict";var r=n("qXHa");function s(e,t,n){this.message=n||s.message(e,t),this.missingRef=r.url(e,t),this.missingSchema=r.normalizeId(r.fullPath(this.missingRef))}function l(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}e.exports={Validation:l((function(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0})),MissingRef:l(s)},s.message=function(e,t){return"can't resolve reference "+t+" from id "+e}},ialn:function(e,t,n){"use strict";var r=e.exports=function(e,t,n){"function"==typeof t&&(n=t,t={}),function e(t,n,s,l,o,i,u,a,c,d){if(l&&"object"==typeof l&&!Array.isArray(l)){for(var p in n(l,o,i,u,a,c,d),l){var h=l[p];if(Array.isArray(h)){if(p in r.arrayKeywords)for(var f=0;f<h.length;f++)e(t,n,s,h[f],o+"/"+p+"/"+f,i,o,p,l,f)}else if(p in r.propsKeywords){if(h&&"object"==typeof h)for(var m in h)e(t,n,s,h[m],o+"/"+p+"/"+m.replace(/~/g,"~0").replace(/\//g,"~1"),i,o,p,l,m)}else(p in r.keywords||t.allKeys&&!(p in r.skipKeywords))&&e(t,n,s,h,o+"/"+p,i,o,p,l)}s(l,o,i,u,a,c,d)}}(t,"function"==typeof(n=t.cb||n)?n:n.pre||function(){},n.post||function(){},e,"",e)};r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},jQLo:function(e,t,n){"use strict";var r=n("qXHa"),s=n("+9rK"),l=n("iZoB"),o=n("9x6x"),i=n("1QhW"),u=s.ucs2length,a=n("tgdo"),c=l.Validation;function d(e,t,n){var r=h.call(this,e,t,n);return r>=0?{index:r,compiling:!0}:(this._compilations[r=this._compilations.length]={schema:e,root:t,baseId:n},{index:r,compiling:!1})}function p(e,t,n){var r=h.call(this,e,t,n);r>=0&&this._compilations.splice(r,1)}function h(e,t,n){for(var r=0;r<this._compilations.length;r++){var s=this._compilations[r];if(s.schema==e&&s.root==t&&s.baseId==n)return r}return-1}function f(e,t){return"var pattern"+e+" = new RegExp("+s.toQuotedString(t[e])+");"}function m(e){return"var default"+e+" = defaults["+e+"];"}function g(e,t){return void 0===t[e]?"":"var refVal"+e+" = refVal["+e+"];"}function v(e){return"var customRule"+e+" = customRules["+e+"];"}function b(e,t){if(!e.length)return"";for(var n="",r=0;r<e.length;r++)n+=t(r,e);return n}e.exports=function e(t,n,h,y){var w=this,x=this._opts,_=[void 0],C={},k=[],M={},S=[],T={},E=[],I=d.call(this,t,n=n||{schema:t,refVal:_,refs:C},y),F=this._compilations[I.index];if(I.compiling)return F.callValidate=function e(){var t=F.validate,n=t.apply(this,arguments);return e.errors=t.errors,n};var P=this._formats,D=this.RULES;try{var O=q(t,n,h,y);F.validate=O;var A=F.callValidate;return A&&(A.schema=O.schema,A.errors=null,A.refs=O.refs,A.refVal=O.refVal,A.root=O.root,A.$async=O.$async,x.sourceCode&&(A.source=O.source)),O}finally{p.call(this,t,n,y)}function q(t,o,d,p){var h=!o||o&&o.schema==t;if(o.schema!=n.schema)return e.call(w,t,o,d,p);var y,M=!0===t.$async,T=i({isTop:!0,schema:t,isRoot:h,baseId:p,root:o,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:l.MissingRef,RULES:D,validate:i,util:s,resolve:r,resolveRef:R,usePattern:j,useDefault:L,useCustomRule:V,opts:x,formats:P,logger:w.logger,self:w});T=b(_,g)+b(k,f)+b(S,m)+b(E,v)+T,x.processCode&&(T=x.processCode(T,t));try{y=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",T)(w,D,P,n,_,S,E,a,u,c),_[0]=y}catch(I){throw w.logger.error("Error compiling schema, function code:",T),I}return y.schema=t,y.errors=null,y.refs=C,y.refVal=_,y.root=h?y:o,M&&(y.$async=!0),!0===x.sourceCode&&(y.source={code:T,patterns:k,defaults:S}),y}function R(t,s,l){s=r.url(t,s);var o,i,u=C[s];if(void 0!==u)return $(o=_[u],i="refVal["+u+"]");if(!l&&n.refs){var a=n.refs[s];if(void 0!==a)return $(o=n.refVal[a],i=N(s,o))}i=N(s);var c=r.call(w,q,n,s);if(void 0===c){var d=h&&h[s];d&&(c=r.inlineRef(d,x.inlineRefs)?d:e.call(w,d,n,h,t))}if(void 0!==c)return function(e,t){_[C[e]]=t}(s,c),$(c,i);!function(e){delete C[e]}(s)}function N(e,t){var n=_.length;return _[n]=t,C[e]=n,"refVal"+n}function $(e,t){return"object"==typeof e||"boolean"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&!!e.$async}}function j(e){var t=M[e];return void 0===t&&(t=M[e]=k.length,k[t]=e),"pattern"+t}function L(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return s.toQuotedString(e);case"object":if(null===e)return"null";var t=o(e),n=T[t];return void 0===n&&(n=T[t]=S.length,S[n]=e),"default"+n}}function V(e,t,n,r){if(!1!==w._opts.validateSchema){var s=e.definition.dependencies;if(s&&!s.every((function(e){return Object.prototype.hasOwnProperty.call(n,e)})))throw new Error("parent schema must have all required keywords: "+s.join(","));var l=e.definition.validateSchema;if(l&&!l(t)){var o="keyword schema is invalid: "+w.errorsText(l.errors);if("log"!=w._opts.validateSchema)throw new Error(o);w.logger.error(o)}}var i,u=e.definition.compile,a=e.definition.inline,c=e.definition.macro;if(u)i=u.call(w,t,n,r);else if(c)i=c.call(w,t,n,r),!1!==x.validateSchema&&w.validateSchema(i,!0);else if(a)i=a.call(w,r,e.keyword,t,n);else if(!(i=e.definition.validate))return;if(void 0===i)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var d=E.length;return E[d]=i,{code:"customRule"+d,validate:i}}}},mBn5:function(e,t,n){"use strict";t.test=function(){return"document"in global&&"onreadystatechange"in global.document.createElement("script")},t.install=function(e){return function(){var t=global.document.createElement("script");return t.onreadystatechange=function(){e(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},global.document.documentElement.appendChild(t),e}}},mQYA:function(e,t,n){"use strict";e.exports=function(e,t,n){var r,s=" ",l=e.level,o=e.dataLevel,i=e.schema[t],u=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,d="data"+(o||""),p=e.opts.$data&&i&&i.$data;if(p?(s+=" var schema"+l+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",r="schema"+l):r=i,!p&&"number"!=typeof i)throw new Error(t+" must be number");s+="if ( ",p&&(s+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),s+=!1===e.opts.unicode?" "+d+".length ":" ucs2length("+d+") ";var h=t,f=f||[];f.push(s+=" "+("maxLength"==t?">":"<")+" "+r+") { "),s="",!1!==e.createErrors?(s+=" { keyword: '"+(h||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(s+=" , message: 'should NOT be ",s+="maxLength"==t?"longer":"shorter",s+=" than ",s+=p?"' + "+r+" + '":""+i,s+=" characters' "),e.opts.verbose&&(s+=" , schema:  ",s+=p?"validate.schema"+u:""+i,s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var m=s;return s=f.pop(),s+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+m+"]); ":" validate.errors = ["+m+"]; return false; ":" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",c&&(s+=" else { "),s}},"n+SQ":function(e,t,n){"use strict";var r=n("+9rK"),s=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,l=[0,31,28,31,30,31,30,31,31,30,31,30,31],o=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,i=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,u=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,a=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,c=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,d=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,p=/^(?:\/(?:[^~/]|~0|~1)*)*$/,h=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,f=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;function m(e){return r.copy(m[e="full"==e?"full":"fast"])}function g(e){var t=e.match(s);if(!t)return!1;var n,r=+t[2],o=+t[3];return r>=1&&r<=12&&o>=1&&o<=(2!=r||(n=+t[1])%4!=0||n%100==0&&n%400!=0?l[r]:29)}function v(e,t){var n=e.match(o);if(!n)return!1;var r=n[1],s=n[2],l=n[3];return(r<=23&&s<=59&&l<=59||23==r&&59==s&&60==l)&&(!t||n[5])}e.exports=m,m.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":a,url:c,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:x,uuid:d,"json-pointer":p,"json-pointer-uri-fragment":h,"relative-json-pointer":f},m.full={date:g,time:v,"date-time":function(e){var t=e.split(b);return 2==t.length&&g(t[0])&&v(t[1],!0)},uri:function(e){return y.test(e)&&u.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":a,url:c,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:x,uuid:d,"json-pointer":p,"json-pointer-uri-fragment":h,"relative-json-pointer":f};var b=/t|\s/i,y=/\/|:/,w=/[^\\]\\Z/;function x(e){if(w.test(e))return!1;try{return new RegExp(e),!0}catch(t){return!1}}},qTHO:function(e,t,n){"use strict";e.exports=function(e,t,n){var r,s=" ",l=e.level,o=e.dataLevel,i=e.schema[t],u=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,d="data"+(o||""),p=e.opts.$data&&i&&i.$data;if(p?(s+=" var schema"+l+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",r="schema"+l):r=i,!p&&"number"!=typeof i)throw new Error(t+" must be number");s+="var division"+l+";if (",p&&(s+=" "+r+" !== undefined && ( typeof "+r+" != 'number' || "),s+=" (division"+l+" = "+d+" / "+r+", ",s+=e.opts.multipleOfPrecision?" Math.abs(Math.round(division"+l+") - division"+l+") > 1e-"+e.opts.multipleOfPrecision+" ":" division"+l+" !== parseInt(division"+l+") ",s+=" ) ",p&&(s+="  )  ");var h=h||[];h.push(s+=" ) {   "),s="",!1!==e.createErrors?(s+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { multipleOf: "+r+" } ",!1!==e.opts.messages&&(s+=" , message: 'should be multiple of ",s+=p?"' + "+r:r+"'"),e.opts.verbose&&(s+=" , schema:  ",s+=p?"validate.schema"+u:""+i,s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var f=s;return s=h.pop(),s+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+f+"]); ":" validate.errors = ["+f+"]; return false; ":" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",c&&(s+=" else { "),s}},qXHa:function(e,t,n){"use strict";var r=n("ThTW"),s=n("tgdo"),l=n("+9rK"),o=n("ugD5"),i=n("ialn");function u(e,t,n){var r=this._refs[n];if("string"==typeof r){if(!this._refs[r])return u.call(this,e,t,r);r=this._refs[r]}if((r=r||this._schemas[n])instanceof o)return f(r.schema,this._opts.inlineRefs)?r.schema:r.validate||this._compile(r);var s,l,i,c=a.call(this,t,n);return c&&(s=c.schema,t=c.root,i=c.baseId),s instanceof o?l=s.validate||e.call(this,s.schema,t,void 0,i):void 0!==s&&(l=f(s,this._opts.inlineRefs)?s:e.call(this,s,t,void 0,i)),l}function a(e,t){var n=r.parse(t),s=g(n),l=m(this._getId(e.schema));if(0===Object.keys(e.schema).length||s!==l){var i=b(s),u=this._refs[i];if("string"==typeof u)return c.call(this,e,u,n);if(u instanceof o)u.validate||this._compile(u),e=u;else{if(!((u=this._schemas[i])instanceof o))return;if(u.validate||this._compile(u),i==b(t))return{schema:u,root:e,baseId:l};e=u}if(!e.schema)return;l=m(this._getId(e.schema))}return p.call(this,n,l,e.schema,e)}function c(e,t,n){var r=a.call(this,e,t);if(r){var s=r.schema,l=r.baseId;e=r.root;var o=this._getId(s);return o&&(l=y(l,o)),p.call(this,n,l,s,e)}}e.exports=u,u.normalizeId=b,u.fullPath=m,u.url=y,u.ids=function(e){var t=b(this._getId(e)),n={"":t},o={"":m(t,!1)},u={},a=this;return i(e,{allKeys:!0},(function(e,t,i,c,d,p,h){if(""!==t){var f=a._getId(e),m=n[c],g=o[c]+"/"+d;if(void 0!==h&&(g+="/"+("number"==typeof h?h:l.escapeFragment(h))),"string"==typeof f){f=m=b(m?r.resolve(m,f):f);var v=a._refs[f];if("string"==typeof v&&(v=a._refs[v]),v&&v.schema){if(!s(e,v.schema))throw new Error('id "'+f+'" resolves to more than one schema')}else if(f!=b(g))if("#"==f[0]){if(u[f]&&!s(e,u[f]))throw new Error('id "'+f+'" resolves to more than one schema');u[f]=e}else a._refs[f]=g}n[t]=m,o[t]=g}})),u},u.inlineRef=f,u.schema=a;var d=l.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function p(e,t,n,r){if(e.fragment=e.fragment||"","/"==e.fragment.slice(0,1)){for(var s=e.fragment.split("/"),o=1;o<s.length;o++){var i=s[o];if(i){if(void 0===(n=n[i=l.unescapeFragment(i)]))break;var u;if(!d[i]&&((u=this._getId(n))&&(t=y(t,u)),n.$ref)){var c=y(t,n.$ref),p=a.call(this,r,c);p&&(n=p.schema,r=p.root,t=p.baseId)}}}return void 0!==n&&n!==r.schema?{schema:n,root:r,baseId:t}:void 0}}var h=l.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function f(e,t){return!1!==t&&(void 0===t||!0===t?function e(t){var n;if(Array.isArray(t)){for(var r=0;r<t.length;r++)if("object"==typeof(n=t[r])&&!e(n))return!1}else for(var s in t){if("$ref"==s)return!1;if("object"==typeof(n=t[s])&&!e(n))return!1}return!0}(e):t?function e(t){var n,r=0;if(Array.isArray(t)){for(var s=0;s<t.length;s++)if("object"==typeof(n=t[s])&&(r+=e(n)),r==1/0)return 1/0}else for(var l in t){if("$ref"==l)return 1/0;if(h[l])r++;else if("object"==typeof(n=t[l])&&(r+=e(n)+1),r==1/0)return 1/0}return r}(e)<=t:void 0)}function m(e,t){return!1!==t&&(e=b(e)),g(r.parse(e))}function g(e){return r.serialize(e).split("#")[0]+"#"}var v=/#\/?$/;function b(e){return e?e.replace(v,""):""}function y(e,t){return t=b(t),r.resolve(e,t)}},sagP:function(e,t,n){"use strict";var r=n("iZoB").MissingRef;e.exports=function e(t,n,s){var l=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof n&&(s=n,n=void 0);var o=i(t).then((function(){var e=l._addSchema(t,void 0,n);return e.validate||function e(t){try{return l._compile(t)}catch(s){if(s instanceof r)return function(r){var s=r.missingSchema;if(a(s))throw new Error("Schema "+s+" is loaded but "+r.missingRef+" cannot be resolved");var o=l._loadingSchemas[s];return o||(o=l._loadingSchemas[s]=l._opts.loadSchema(s)).then(u,u),o.then((function(e){if(!a(s))return i(e).then((function(){a(s)||l.addSchema(e,s,void 0,n)}))})).then((function(){return e(t)}));function u(){delete l._loadingSchemas[s]}function a(e){return l._refs[e]||l._schemas[e]}}(s);throw s}}(e)}));return s&&o.then((function(e){s(null,e)}),s),o;function i(t){var n=t.$schema;return n&&!l.getSchema(n)?e.call(l,{$ref:n},!0):Promise.resolve()}}},"t+aO":function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",s=e.level,l=e.dataLevel,o=e.schema[t],i=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,a=!e.opts.allErrors,c="data"+(l||""),d="valid"+s,p=e.opts.$data&&o&&o.$data;p&&(r+=" var schema"+s+" = "+e.util.getData(o.$data,l,e.dataPathArr)+"; ");var h="schema"+s;if(!p)if(o.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var f=[],m=o;if(m)for(var g,v=-1,b=m.length-1;v<b;){g=m[v+=1];var y=e.schema.properties[g];y&&(e.opts.strictKeywords?"object"==typeof y&&Object.keys(y).length>0||!1===y:e.util.schemaHasRules(y,e.RULES.all))||(f[f.length]=g)}}else f=o;if(p||f.length){var w=e.errorPath,x=p||f.length>=e.opts.loopRequired,_=e.opts.ownProperties;if(a)if(r+=" var missing"+s+"; ",x){p||(r+=" var "+h+" = validate.schema"+i+"; ");var C="' + "+(I="schema"+s+"["+(T="i"+s)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(w,I,e.opts.jsonPointers)),r+=" var "+d+" = true; ",p&&(r+=" if (schema"+s+" === undefined) "+d+" = true; else if (!Array.isArray(schema"+s+")) "+d+" = false; else {"),r+=" for (var "+T+" = 0; "+T+" < "+h+".length; "+T+"++) { "+d+" = "+c+"["+h+"["+T+"]] !== undefined ",_&&(r+=" &&   Object.prototype.hasOwnProperty.call("+c+", "+h+"["+T+"]) "),r+="; if (!"+d+") break; } ",p&&(r+="  }  "),(M=M||[]).push(r+="  if (!"+d+") {   "),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+C+"' } ",!1!==e.opts.messages&&(r+=" , message: '",r+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+C+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var k=r;r=M.pop(),r+=!e.compositeRule&&a?e.async?" throw new ValidationError(["+k+"]); ":" validate.errors = ["+k+"]; return false; ":" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else{r+=" if ( ";var M,S=f;if(S)for(var T=-1,E=S.length-1;T<E;)P=S[T+=1],T&&(r+=" || "),r+=" ( ( "+(q=c+(A=e.util.getProperty(P)))+" === undefined ",_&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(P)+"') "),r+=") && (missing"+s+" = "+e.util.toQuotedString(e.opts.jsonPointers?P:A)+") ) ";r+=") {  ",C="' + "+(I="missing"+s)+" + '",e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(w,I,!0):w+" + "+I),(M=M||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+C+"' } ",!1!==e.opts.messages&&(r+=" , message: '",r+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+C+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",k=r,r=M.pop(),r+=!e.compositeRule&&a?e.async?" throw new ValidationError(["+k+"]); ":" validate.errors = ["+k+"]; return false; ":" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else if(x){var I;p||(r+=" var "+h+" = validate.schema"+i+"; "),C="' + "+(I="schema"+s+"["+(T="i"+s)+"]")+" + '",e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(w,I,e.opts.jsonPointers)),p&&(r+=" if ("+h+" && !Array.isArray("+h+")) {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+C+"' } ",!1!==e.opts.messages&&(r+=" , message: '",r+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+C+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+h+" !== undefined) { "),r+=" for (var "+T+" = 0; "+T+" < "+h+".length; "+T+"++) { if ("+c+"["+h+"["+T+"]] === undefined ",_&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", "+h+"["+T+"]) "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+C+"' } ",!1!==e.opts.messages&&(r+=" , message: '",r+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+C+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",p&&(r+="  }  ")}else{var F=f;if(F)for(var P,D=-1,O=F.length-1;D<O;){P=F[D+=1];var A=e.util.getProperty(P),q=(C=e.util.escapeQuotes(P),c+A);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(w,P,e.opts.jsonPointers)),r+=" if ( "+q+" === undefined ",_&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(P)+"') "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+C+"' } ",!1!==e.opts.messages&&(r+=" , message: '",r+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+C+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=w}else a&&(r+=" if (true) {");return r}},tgdo:function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,s,l;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(s=r;0!=s--;)if(!e(t[s],n[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(l=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(s=r;0!=s--;)if(!Object.prototype.hasOwnProperty.call(n,l[s]))return!1;for(s=r;0!=s--;){var o=l[s];if(!e(t[o],n[o]))return!1}return!0}return t!=t&&n!=n}},uSCx:function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",s=e.level,l=e.dataLevel,o=e.schema[t],i=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,a=!e.opts.allErrors,c="data"+(l||""),d="errs__"+s,p=e.util.copy(e),h="";p.level++;var f="valid"+p.level,m={},g={},v=e.opts.ownProperties;for(x in o)if("__proto__"!=x){var b=o[x],y=Array.isArray(b)?g:m;y[x]=b}r+="var "+d+" = errors;";var w=e.errorPath;for(var x in r+="var missing"+s+";",g)if((y=g[x]).length){if(r+=" if ( "+c+e.util.getProperty(x)+" !== undefined ",v&&(r+=" && Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(x)+"') "),a){r+=" && ( ";var _=y;if(_)for(var C=-1,k=_.length-1;C<k;)F=_[C+=1],C&&(r+=" || "),r+=" ( ( "+(A=c+(O=e.util.getProperty(F)))+" === undefined ",v&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(F)+"') "),r+=") && (missing"+s+" = "+e.util.toQuotedString(e.opts.jsonPointers?F:O)+") ) ";r+=")) {  ";var M="missing"+s,S="' + "+M+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(w,M,!0):w+" + "+M);var T=T||[];T.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { property: '"+e.util.escapeQuotes(x)+"', missingProperty: '"+S+"', depsCount: "+y.length+", deps: '"+e.util.escapeQuotes(1==y.length?y[0]:y.join(", "))+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should have ",r+=1==y.length?"property "+e.util.escapeQuotes(y[0]):"properties "+e.util.escapeQuotes(y.join(", ")),r+=" when property "+e.util.escapeQuotes(x)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var E=r;r=T.pop(),r+=!e.compositeRule&&a?e.async?" throw new ValidationError(["+E+"]); ":" validate.errors = ["+E+"]; return false; ":" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{r+=" ) { ";var I=y;if(I)for(var F,P=-1,D=I.length-1;P<D;){F=I[P+=1];var O=e.util.getProperty(F),A=(S=e.util.escapeQuotes(F),c+O);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(w,F,e.opts.jsonPointers)),r+=" if ( "+A+" === undefined ",v&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(F)+"') "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { property: '"+e.util.escapeQuotes(x)+"', missingProperty: '"+S+"', depsCount: "+y.length+", deps: '"+e.util.escapeQuotes(1==y.length?y[0]:y.join(", "))+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should have ",r+=1==y.length?"property "+e.util.escapeQuotes(y[0]):"properties "+e.util.escapeQuotes(y.join(", ")),r+=" when property "+e.util.escapeQuotes(x)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r+=" }   ",a&&(h+="}",r+=" else { ")}e.errorPath=w;var q=p.baseId;for(var x in m)b=m[x],(e.opts.strictKeywords?"object"==typeof b&&Object.keys(b).length>0||!1===b:e.util.schemaHasRules(b,e.RULES.all))&&(r+=" "+f+" = true; if ( "+c+e.util.getProperty(x)+" !== undefined ",v&&(r+=" && Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(x)+"') "),r+=") { ",p.schema=b,p.schemaPath=i+e.util.getProperty(x),p.errSchemaPath=u+"/"+e.util.escapeFragment(x),r+="  "+e.validate(p)+" ",p.baseId=q,r+=" }  ",a&&(r+=" if ("+f+") { ",h+="}"));return a&&(r+="   "+h+" if ("+d+" == errors) {"),r}},ugD5:function(e,t,n){"use strict";var r=n("+9rK");e.exports=function(e){r.copy(e,this)}},v43d:function(e,t,n){"use strict";e.exports=function(e,t,n){var r,s=" ",l=e.level,o=e.dataLevel,i=e.schema[t],u=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,d="data"+(o||""),p=e.opts.$data&&i&&i.$data;p?(s+=" var schema"+l+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",r="schema"+l):r=i;var h="maximum"==t,f=h?"exclusiveMaximum":"exclusiveMinimum",m=e.schema[f],g=e.opts.$data&&m&&m.$data,v=h?"<":">",b=h?">":"<",y=void 0;if(!p&&"number"!=typeof i&&void 0!==i)throw new Error(t+" must be number");if(!g&&void 0!==m&&"number"!=typeof m&&"boolean"!=typeof m)throw new Error(f+" must be number or boolean");if(g){var w,x=e.util.getData(m.$data,o,e.dataPathArr),_="exclusive"+l,C="exclType"+l,k="exclIsNumber"+l,M="' + "+(T="op"+l)+" + '";s+=" var schemaExcl"+l+" = "+x+"; ",y=f,(w=w||[]).push(s+=" var "+_+"; var "+C+" = typeof "+(x="schemaExcl"+l)+"; if ("+C+" != 'boolean' && "+C+" != 'undefined' && "+C+" != 'number') { "),s="",!1!==e.createErrors?(s+=" { keyword: '"+(y||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: {} ",!1!==e.opts.messages&&(s+=" , message: '"+f+" should be boolean' "),e.opts.verbose&&(s+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var S=s;s=w.pop(),s+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+S+"]); ":" validate.errors = ["+S+"]; return false; ":" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } else if ( ",p&&(s+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),s+=" "+C+" == 'number' ? ( ("+_+" = "+r+" === undefined || "+x+" "+v+"= "+r+") ? "+d+" "+b+"= "+x+" : "+d+" "+b+" "+r+" ) : ( ("+_+" = "+x+" === true) ? "+d+" "+b+"= "+r+" : "+d+" "+b+" "+r+" ) || "+d+" !== "+d+") { var op"+l+" = "+_+" ? '"+v+"' : '"+v+"='; ",void 0===i&&(y=f,a=e.errSchemaPath+"/"+f,r=x,p=g)}else if(M=v,(k="number"==typeof m)&&p){var T="'"+M+"'";s+=" if ( ",p&&(s+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),s+=" ( "+r+" === undefined || "+m+" "+v+"= "+r+" ? "+d+" "+b+"= "+m+" : "+d+" "+b+" "+r+" ) || "+d+" !== "+d+") { "}else k&&void 0===i?(_=!0,y=f,a=e.errSchemaPath+"/"+f,r=m,b+="="):(k&&(r=Math[h?"min":"max"](m,i)),m===(!k||r)?(_=!0,y=f,a=e.errSchemaPath+"/"+f,b+="="):(_=!1,M+="=")),T="'"+M+"'",s+=" if ( ",p&&(s+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),s+=" "+d+" "+b+" "+r+" || "+d+" !== "+d+") { ";return y=y||t,(w=w||[]).push(s),s="",!1!==e.createErrors?(s+=" { keyword: '"+(y||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { comparison: "+T+", limit: "+r+", exclusive: "+_+" } ",!1!==e.opts.messages&&(s+=" , message: 'should be "+M+" ",s+=p?"' + "+r:r+"'"),e.opts.verbose&&(s+=" , schema:  ",s+=p?"validate.schema"+u:""+i,s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ",S=s,s=w.pop(),s+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+S+"]); ":" validate.errors = ["+S+"]; return false; ":" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } ",c&&(s+=" else { "),s}},vVvC:function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",s=e.level,l=e.dataLevel,o=e.schema[t],i=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,a=!e.opts.allErrors,c="data"+(l||""),d="errs__"+s,p=e.util.copy(e),h="";p.level++;var f="valid"+p.level,m="key"+s,g="idx"+s,v=p.dataLevel=e.dataLevel+1,b="data"+v,y="dataProperties"+s,w=Object.keys(o||{}).filter(O),x=e.schema.patternProperties||{},_=Object.keys(x).filter(O),C=e.schema.additionalProperties,k=w.length||_.length,M=!1===C,S="object"==typeof C&&Object.keys(C).length,T=e.opts.removeAdditional,E=M||S||T,I=e.opts.ownProperties,F=e.baseId,P=e.schema.required;if(P&&(!e.opts.$data||!P.$data)&&P.length<e.opts.loopRequired)var D=e.util.toHash(P);function O(e){return"__proto__"!==e}if(r+="var "+d+" = errors;var "+f+" = true;",I&&(r+=" var "+y+" = undefined;"),E){if(r+=I?" "+y+" = "+y+" || Object.keys("+c+"); for (var "+g+"=0; "+g+"<"+y+".length; "+g+"++) { var "+m+" = "+y+"["+g+"]; ":" for (var "+m+" in "+c+") { ",k){if(r+=" var isAdditional"+s+" = !(false ",w.length)if(w.length>8)r+=" || validate.schema"+i+".hasOwnProperty("+m+") ";else{var A=w;if(A)for(var q=-1,R=A.length-1;q<R;)Q=A[q+=1],r+=" || "+m+" == "+e.util.toQuotedString(Q)+" "}if(_.length){var N=_;if(N)for(var $=-1,j=N.length-1;$<j;)le=N[$+=1],r+=" || "+e.usePattern(le)+".test("+m+") "}r+=" ); if (isAdditional"+s+") { "}if("all"==T)r+=" delete "+c+"["+m+"]; ";else{var L=e.errorPath,V="' + "+m+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers)),M)if(T)r+=" delete "+c+"["+m+"]; ";else{var U=u;u=e.errSchemaPath+"/additionalProperties",(ne=ne||[]).push(r+=" "+f+" = false; "),r="",!1!==e.createErrors?(r+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { additionalProperty: '"+V+"' } ",!1!==e.opts.messages&&(r+=" , message: '",r+=e.opts._errorDataPathProperty?"is an invalid additional property":"should NOT have additional properties",r+="' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var B=r;r=ne.pop(),r+=!e.compositeRule&&a?e.async?" throw new ValidationError(["+B+"]); ":" validate.errors = ["+B+"]; return false; ":" var err = "+B+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=U,a&&(r+=" break; ")}else if(S)if("failing"==T){r+=" var "+d+" = errors;  ";var z=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.schema=C,p.schemaPath=e.schemaPath+".additionalProperties",p.errSchemaPath=e.errSchemaPath+"/additionalProperties",p.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);var H=c+"["+m+"]";p.dataPathArr[v]=m;var W=e.validate(p);p.baseId=F,e.util.varOccurences(W,b)<2?r+=" "+e.util.varReplace(W,b,H)+" ":r+=" var "+b+" = "+H+"; "+W+" ",r+=" if (!"+f+") { errors = "+d+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+c+"["+m+"]; }  ",e.compositeRule=p.compositeRule=z}else p.schema=C,p.schemaPath=e.schemaPath+".additionalProperties",p.errSchemaPath=e.errSchemaPath+"/additionalProperties",p.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers),H=c+"["+m+"]",p.dataPathArr[v]=m,W=e.validate(p),p.baseId=F,e.util.varOccurences(W,b)<2?r+=" "+e.util.varReplace(W,b,H)+" ":r+=" var "+b+" = "+H+"; "+W+" ",a&&(r+=" if (!"+f+") break; ");e.errorPath=L}k&&(r+=" } "),r+=" }  ",a&&(r+=" if ("+f+") { ",h+="}")}var K=e.opts.useDefaults&&!e.compositeRule;if(w.length){var G=w;if(G)for(var Q,Z=-1,J=G.length-1;Z<J;){var Y=o[Q=G[Z+=1]];if(e.opts.strictKeywords?"object"==typeof Y&&Object.keys(Y).length>0||!1===Y:e.util.schemaHasRules(Y,e.RULES.all)){var X=e.util.getProperty(Q),ee=(H=c+X,K&&void 0!==Y.default);if(p.schema=Y,p.schemaPath=i+X,p.errSchemaPath=u+"/"+e.util.escapeFragment(Q),p.errorPath=e.util.getPath(e.errorPath,Q,e.opts.jsonPointers),p.dataPathArr[v]=e.util.toQuotedString(Q),W=e.validate(p),p.baseId=F,e.util.varOccurences(W,b)<2){W=e.util.varReplace(W,b,H);var te=H}else te=b,r+=" var "+b+" = "+H+"; ";if(ee)r+=" "+W+" ";else{if(D&&D[Q]){r+=" if ( "+te+" === undefined ",I&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(Q)+"') "),r+=") { "+f+" = false; ",L=e.errorPath,U=u;var ne,re=e.util.escapeQuotes(Q);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(L,Q,e.opts.jsonPointers)),u=e.errSchemaPath+"/required",(ne=ne||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+re+"' } ",!1!==e.opts.messages&&(r+=" , message: '",r+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+re+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",B=r,r=ne.pop(),r+=!e.compositeRule&&a?e.async?" throw new ValidationError(["+B+"]); ":" validate.errors = ["+B+"]; return false; ":" var err = "+B+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=U,e.errorPath=L,r+=" } else { "}else a?(r+=" if ( "+te+" === undefined ",I&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(Q)+"') "),r+=") { "+f+" = true; } else { "):(r+=" if ("+te+" !== undefined ",I&&(r+=" &&   Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(Q)+"') "),r+=" ) { ");r+=" "+W+" } "}}a&&(r+=" if ("+f+") { ",h+="}")}}if(_.length){var se=_;if(se)for(var le,oe=-1,ie=se.length-1;oe<ie;)Y=x[le=se[oe+=1]],(e.opts.strictKeywords?"object"==typeof Y&&Object.keys(Y).length>0||!1===Y:e.util.schemaHasRules(Y,e.RULES.all))&&(p.schema=Y,p.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(le),p.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(le),r+=I?" "+y+" = "+y+" || Object.keys("+c+"); for (var "+g+"=0; "+g+"<"+y+".length; "+g+"++) { var "+m+" = "+y+"["+g+"]; ":" for (var "+m+" in "+c+") { ",r+=" if ("+e.usePattern(le)+".test("+m+")) { ",p.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers),H=c+"["+m+"]",p.dataPathArr[v]=m,W=e.validate(p),p.baseId=F,e.util.varOccurences(W,b)<2?r+=" "+e.util.varReplace(W,b,H)+" ":r+=" var "+b+" = "+H+"; "+W+" ",a&&(r+=" if (!"+f+") break; "),r+=" } ",a&&(r+=" else "+f+" = true; "),r+=" }  ",a&&(r+=" if ("+f+") { ",h+="}"))}return a&&(r+=" "+h+" if ("+d+" == errors) {"),r}},wXyd:function(e,t,n){"use strict";var r=n("Y3YA"),s=n("+9rK").toHash;e.exports=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"];return e.all=s(t),e.types=s(["number","integer","string","array","object","boolean","null"]),e.forEach((function(n){n.rules=n.rules.map((function(n){var s;if("object"==typeof n){var l=Object.keys(n)[0];s=n[l],n=l,s.forEach((function(n){t.push(n),e.all[n]=!0}))}return t.push(n),e.all[n]={keyword:n,code:r[n],implements:s}})),e.all.$comment={keyword:"$comment",code:r.$comment},n.type&&(e.types[n.type]=n)})),e.keywords=s(t.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),e.custom={},e}},xTGW:function(e,t,n){"use strict";var r,s,l,o=[n(2),n("/D/v"),n("/FlN"),n("UoTg"),n("g2dr"),n("DqC7")],i=-1,u=[],a=!1;function c(){r&&s&&(r=!1,s.length?u=s.concat(u):i=-1,u.length&&d())}function d(){if(!r){a=!1,r=!0;for(var e=u.length,t=setTimeout(c);e;){for(s=u,u=[];s&&++i<e;)s[i].run();i=-1,e=u.length}s=null,i=-1,r=!1,clearTimeout(t)}}for(var p=-1,h=o.length;++p<h;)if(o[p]&&o[p].test&&o[p].test()){l=o[p].install(d);break}function f(e,t){this.fun=e,this.array=t}f.prototype.run=function(){var e=this.fun,t=this.array;switch(t.length){case 0:return e();case 1:return e(t[0]);case 2:return e(t[0],t[1]);case 3:return e(t[0],t[1],t[2]);default:return e.apply(null,t)}},e.exports=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new f(e,t)),a||r||(a=!0,l())}},yXWi:function(e,t,n){"use strict";var r=global.MutationObserver||global.WebKitMutationObserver;t.test=function(){return r},t.install=function(e){var t=0,n=new r(e),s=global.document.createTextNode("");return n.observe(s,{characterData:!0}),function(){s.data=t=++t%2}}},zUnb:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.r(t);let s=!1;const l={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){s=e},get useDeprecatedSynchronousErrorHandling(){return s}};function o(e){setTimeout(()=>{throw e})}const i={closed:!0,next(e){},error(e){if(l.useDeprecatedSynchronousErrorHandling)throw e;o(e)},complete(){}},u=Array.isArray||(e=>e&&"number"==typeof e.length);function a(e){return null!==e&&"object"==typeof e}function c(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}c.prototype=Object.create(Error.prototype);const d=c;let p=(()=>{class e{constructor(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}unsubscribe(){let e,t=!1;if(this.closed)return;let{_parent:n,_parents:s,_unsubscribe:l,_subscriptions:o}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let i=-1,c=s?s.length:0;for(;n;)n.remove(this),n=++i<c&&s[i]||null;if(r(l))try{l.call(this)}catch(p){t=!0,e=p instanceof d?h(p.errors):[p]}if(u(o))for(i=-1,c=o.length;++i<c;){const n=o[i];if(a(n))try{n.unsubscribe()}catch(p){t=!0,e=e||[],p instanceof d?e=e.concat(h(p.errors)):e.push(p)}}if(t)throw new d(e)}add(t){let n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){const t=n;n=new e,n._subscriptions=[t]}break;default:if(!t)return e.EMPTY;throw new Error("unrecognized teardown "+t+" added to Subscription.")}if(n._addParent(this)){const e=this._subscriptions;e?e.push(n):this._subscriptions=[n]}return n}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}_addParent(e){let{_parent:t,_parents:n}=this;return t!==e&&(t?n?-1===n.indexOf(e)&&(n.push(e),!0):(this._parents=[e],!0):(this._parent=e,!0))}}return e.EMPTY=function(e){return e.closed=!0,e}(new e),e})();function h(e){return e.reduce((e,t)=>e.concat(t instanceof d?t.errors:t),[])}const f="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class m extends p{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i;break;case 1:if(!e){this.destination=i;break}if("object"==typeof e){e instanceof m?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,e,t,n)}}[f](){return this}static create(e,t,n){const r=new m(e,t,n);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:e,_parents:t}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this}}class g extends m{constructor(e,t,n,s){let l;super(),this._parentSubscriber=e;let o=this;r(t)?l=t:t&&(l=t.next,n=t.error,s=t.complete,t!==i&&(o=Object.create(t),r(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=l,this._error=n,this._complete=s}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;l.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=l;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):o(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;o(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);l.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),l.useDeprecatedSynchronousErrorHandling)throw n;o(n)}}__tryOrSetError(e,t,n){if(!l.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return l.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(o(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const v="function"==typeof Symbol&&Symbol.observable||"@@observable";function b(){}function y(...e){return w(e)}function w(e){return e?1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)}:b}let x=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:r}=this,s=function(e,t,n){if(e){if(e instanceof m)return e;if(e[f])return e[f]()}return e||t||n?new m(e,t,n):new m(i)}(e,t,n);if(s.add(r?r.call(s,this.source):this.source||l.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),l.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}_trySubscribe(e){try{return this._subscribe(e)}catch(t){l.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:r}=e;if(t||r)return!1;e=n&&n instanceof m?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=_(t))((t,n)=>{let r;r=this.subscribe(t=>{try{e(t)}catch(s){n(s),r&&r.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[v](){return this}pipe(...e){return 0===e.length?this:w(e)(this)}toPromise(e){return new(e=_(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function _(e){if(e||(e=l.Promise||Promise),!e)throw new Error("no Promise impl found");return e}function C(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}C.prototype=Object.create(Error.prototype);const k=C;class M extends p{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}class S extends m{constructor(e){super(e),this.destination=e}}let T=(()=>{class e extends x{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[f](){return new S(this)}lift(e){const t=new E(this,this);return t.operator=e,t}next(e){if(this.closed)throw new k;if(!this.isStopped){const{observers:t}=this,n=t.length,r=t.slice();for(let s=0;s<n;s++)r[s].next(e)}}error(e){if(this.closed)throw new k;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,r=t.slice();for(let s=0;s<n;s++)r[s].error(e);this.observers.length=0}complete(){if(this.closed)throw new k;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let r=0;r<t;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new k;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new k;return this.hasError?(e.error(this.thrownError),p.EMPTY):this.isStopped?(e.complete(),p.EMPTY):(this.observers.push(e),new M(this,e))}asObservable(){const e=new x;return e.source=this,e}}return e.create=(e,t)=>new E(e,t),e})();class E extends T{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):p.EMPTY}}function I(e){return e&&"function"==typeof e.schedule}class F extends m{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const P=e=>t=>{for(let n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.closed||t.complete()},D=e=>t=>(e.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,o),t);function O(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const A=O(),q=e=>t=>{const n=e[A]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t},R=e=>t=>{const n=e[v]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)},N=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function $(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}const j=e=>{if(e instanceof x)return t=>e._isScalar?(t.next(e.value),void t.complete()):e.subscribe(t);if(e&&"function"==typeof e[v])return R(e);if(N(e))return P(e);if($(e))return D(e);if(e&&"function"==typeof e[A])return q(e);{const t=a(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}};function L(e,t,n,r,s=new F(e,n,r)){if(!s.closed)return j(t)(s)}class V extends m{notifyNext(e,t,n,r,s){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}function U(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new B(e,t))}}class B{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new z(e,this.project,this.thisArg))}}class z extends m{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}function H(e,t){return new x(t?n=>{const r=new p;let s=0;return r.add(t.schedule((function(){s!==e.length?(n.next(e[s++]),n.closed||r.add(this.schedule())):n.complete()}))),r}:P(e))}function W(e,t){if(!t)return e instanceof x?e:new x(j(e));if(null!=e){if(function(e){return e&&"function"==typeof e[v]}(e))return function(e,t){return new x(t?n=>{const r=new p;return r.add(t.schedule(()=>{const s=e[v]();r.add(s.subscribe({next(e){r.add(t.schedule(()=>n.next(e)))},error(e){r.add(t.schedule(()=>n.error(e)))},complete(){r.add(t.schedule(()=>n.complete()))}}))})),r}:R(e))}(e,t);if($(e))return function(e,t){return new x(t?n=>{const r=new p;return r.add(t.schedule(()=>e.then(e=>{r.add(t.schedule(()=>{n.next(e),r.add(t.schedule(()=>n.complete()))}))},e=>{r.add(t.schedule(()=>n.error(e)))}))),r}:D(e))}(e,t);if(N(e))return H(e,t);if(function(e){return e&&"function"==typeof e[A]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new x(t?n=>{const r=new p;let s;return r.add(()=>{s&&"function"==typeof s.return&&s.return()}),r.add(t.schedule(()=>{s=e[A](),r.add(t.schedule((function(){if(n.closed)return;let e,t;try{const n=s.next();e=n.value,t=n.done}catch(r){return void n.error(r)}t?n.complete():(n.next(e),this.schedule())})))})),r}:q(e))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}function K(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?r=>r.pipe(K((n,r)=>W(e(n,r)).pipe(U((e,s)=>t(n,e,r,s))),n)):("number"==typeof t&&(n=t),t=>t.lift(new G(e,n)))}class G{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new Q(e,this.project,this.concurrent))}}class Q extends V{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)}_innerSub(e,t,n){const r=new F(this,void 0,void 0);this.destination.add(r),L(this,e,t,n,r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e,t,n,r,s){this.destination.next(t)}notifyComplete(e){const t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Z(e){return e}function J(e=Number.POSITIVE_INFINITY){return K(Z,e)}function Y(...e){let t=Number.POSITIVE_INFINITY,n=null,r=e[e.length-1];return I(r)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof r&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof x?e[0]:J(t)(H(e,n))}function X(){return function(e){return e.lift(new ee(e))}}class ee{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const r=new te(e,n),s=t.subscribe(r);return r.closed||(r.connection=n.connect()),s}}class te extends m{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}const ne=class extends x{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new p,e.add(this.source.subscribe(new se(this.getSubject(),this))),e.closed?(this._connection=null,e=p.EMPTY):this._connection=e),e}refCount(){return X()(this)}}.prototype,re={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:ne._subscribe},_isComplete:{value:ne._isComplete,writable:!0},getSubject:{value:ne.getSubject},connect:{value:ne.connect},refCount:{value:ne.refCount}};class se extends S{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function le(){return new T}function oe(e,t,n){const r=function(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}(t);function s(...e){if(this instanceof s)return r.apply(this,e),this;const t=new s(...e);return n.annotation=t,n;function n(e,n,r){const s=e.hasOwnProperty("__parameters__")?e.__parameters__:Object.defineProperty(e,"__parameters__",{value:[]}).__parameters__;for(;s.length<=r;)s.push(null);return(s[r]=s[r]||[]).push(t),e}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s}const ie=oe("Inject",e=>({token:e})),ue=oe("Optional"),ae=oe("Self"),ce=oe("SkipSelf");var de=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function pe(e){for(let t in e)if(e[t]===pe)return t;throw Error("Could not find renamed property on target object.")}function he(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function fe(e){const t=e[me];return t&&t.token===e?t:null}const me=pe({ngInjectableDef:pe});function ge(e){if("string"==typeof e)return e;if(e instanceof Array)return"["+e.map(ge).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}const ve=pe({__forward_ref__:pe});function be(e){return e.__forward_ref__=be,e.toString=function(){return ge(this())},e}function ye(e){const t=e;return"function"==typeof t&&t.hasOwnProperty(ve)&&t.__forward_ref__===be?t():e}const we="undefined"!=typeof globalThis&&globalThis,xe="undefined"!=typeof window&&window,_e="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ce="undefined"!=typeof global&&global,ke=we||Ce||xe||_e;class Me{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.ngInjectableDef=he({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return"InjectionToken "+this._desc}}const Se=new Me("INJECTOR",-1),Te=new Object,Ee=/\n/gm,Ie=pe({provide:String,useValue:pe});let Fe=void 0;function Pe(e){const t=Fe;return Fe=e,t}function De(e,t=de.Default){return function(e,t=de.Default){if(void 0===Fe)throw new Error("inject() must be called from an injection context");return null===Fe?function(e,t,n){const r=fe(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&de.Optional)return null;throw new Error(`Injector: NOT_FOUND [${ge(e)}]`)}(e,0,t):Fe.get(e,t&de.Optional?null:void 0,t)}(e,t)}class Oe{get(e,t=Te){if(t===Te){const t=new Error(`NullInjectorError: No provider for ${ge(e)}!`);throw t.name="NullInjectorError",t}return t}}function Ae(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let s=ge(t);if(t instanceof Array)s=t.map(ge).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push(n+":"+("string"==typeof r?JSON.stringify(r):ge(r)))}s=`{${e.join(", ")}}`}return`${n}${r?"("+r+")":""}[${s}]: ${e.replace(Ee,"\n  ")}`}const qe=new Me("The presence of this token marks an injector as being the root injector."),Re=function(e,t,n){return new Ue(e,t,n)};let Ne=(()=>{class e{static create(e,t){return Array.isArray(e)?Re(e,t,""):Re(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=Te,e.NULL=new Oe,e.ngInjectableDef=he({token:e,providedIn:"any",factory:()=>De(Se)}),e.__NG_ELEMENT_ID__=-1,e})();const $e=function(e){return e},je=[],Le=$e,Ve=function(){return Array.prototype.slice.call(arguments)};class Ue{constructor(e,t=Ne.NULL,n=null){this.parent=t,this.source=n;const r=this._records=new Map;r.set(Ne,{token:Ne,fn:$e,deps:je,value:this,useNew:!1}),r.set(Se,{token:Se,fn:$e,deps:je,value:this,useNew:!1}),function e(t,n){if(n)if((n=ye(n))instanceof Array)for(let r=0;r<n.length;r++)e(t,n[r]);else{if("function"==typeof n)throw ze("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw ze("Unexpected provider",n);{let e=ye(n.provide);const r=function(e){const t=function(e){let t=je;const n=e.deps;if(n&&n.length){t=[];for(let e=0;e<n.length;e++){let r=6,s=ye(n[e]);if(s instanceof Array)for(let e=0,t=s;e<t.length;e++){const n=t[e];n instanceof ue||n==ue?r|=1:n instanceof ce||n==ce?r&=-3:n instanceof ae||n==ae?r&=-5:s=n instanceof ie?n.token:ye(n)}t.push({token:s,options:r})}}else if(e.useExisting)t=[{token:ye(e.useExisting),options:6}];else if(!n&&!(Ie in e))throw ze("'deps' required",e);return t}(e);let n=$e,r=je,s=!1,l=ye(e.provide);if(Ie in e)r=e.useValue;else if(e.useFactory)n=e.useFactory;else if(e.useExisting);else if(e.useClass)s=!0,n=ye(e.useClass);else{if("function"!=typeof l)throw ze("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",e);s=!0,n=l}return{deps:t,fn:n,useNew:s,value:r}}(n);if(!0===n.multi){let r=t.get(e);if(r){if(r.fn!==Ve)throw Be(e)}else t.set(e,r={token:n.provide,deps:[],useNew:!1,fn:Ve,value:je});e=n,r.deps.push({token:e,options:6})}const s=t.get(e);if(s&&s.fn==Ve)throw Be(e);t.set(e,r)}}}(r,e)}get(e,t,n=de.Default){const r=this._records.get(e);try{return function e(t,n,r,s,l,o){try{return function(t,n,r,s,l,o){let i;if(!n||o&de.SkipSelf)o&de.Self||(i=s.get(t,l,de.Default));else{if(i=n.value,i==Le)throw Error("\u0275Circular dependency");if(i===je){n.value=Le;let t=void 0,l=n.useNew,o=n.fn,u=n.deps,a=je;if(u.length){a=[];for(let t=0;t<u.length;t++){const n=u[t],l=n.options,o=2&l?r.get(n.token):void 0;a.push(e(n.token,o,r,o||4&l?s:Ne.NULL,1&l?null:Ne.THROW_IF_NOT_FOUND,de.Default))}}n.value=i=l?new o(...a):o.apply(t,a)}}return i}(t,n,r,s,l,o)}catch(i){throw i instanceof Error||(i=new Error(i)),(i.ngTempTokenPath=i.ngTempTokenPath||[]).unshift(t),n&&n.value==Le&&(n.value=je),i}}(e,r,this._records,this.parent,t,n)}catch(s){return function(e,t,n,r){const s=e.ngTempTokenPath;throw t.__source&&s.unshift(t.__source),e.message=Ae("\n"+e.message,s,"StaticInjectorError",r),e.ngTokenPath=s,e.ngTempTokenPath=null,e}(s,e,0,this.source)}}toString(){const e=[];return this._records.forEach((t,n)=>e.push(ge(n))),`StaticInjector[${e.join(", ")}]`}}function Be(e){return ze("Cannot mix multi providers and regular providers",e)}function ze(e,t){return new Error(Ae(e,t,"StaticInjectorError"))}const He=new Me("AnalyzeForEntryComponents"),We=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),Ke=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ke))();let Ge=!0,Qe=!1;function Ze(){return Qe=!0,Ge}class Je{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(r){return null}const t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);const n=t.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(e){e="<body><remove></remove>"+e+"</body>";try{const t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(t){return null}}getInertBodyElement_InertDocument(e){const t=this.inertDocument.createElement("template");return"content"in t?(t.innerHTML=e,t):(this.inertBodyElement.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const n=t.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Ye=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Xe=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function et(e){return(e=String(e)).match(Ye)||e.match(Xe)?e:(Ze()&&console.warn(`WARNING: sanitizing unsafe URL value ${e} (see http://g.co/ng/security#xss)`),"unsafe:"+e)}function tt(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function nt(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const rt=tt("area,br,col,hr,img,wbr"),st=tt("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),lt=tt("rp,rt"),ot=nt(lt,st),it=nt(rt,nt(st,tt("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),nt(lt,tt("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ot),ut=tt("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),at=tt("srcset"),ct=nt(ut,at,tt("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),tt("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),dt=tt("script,style,template");class pt{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!it.hasOwnProperty(t))return this.sanitizedSomething=!0,!dt.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let s=0;s<n.length;s++){const e=n.item(s),t=e.name,l=t.toLowerCase();if(!ct.hasOwnProperty(l)){this.sanitizedSomething=!0;continue}let o=e.value;ut[l]&&(o=et(o)),at[l]&&(r=o,o=(r=String(r)).split(",").map(e=>et(e.trim())).join(", ")),this.buf.push(" ",t,'="',mt(o),'"')}var r;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();it.hasOwnProperty(t)&&!rt.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(mt(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+e.outerHTML);return t}}const ht=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ft=/([^\#-~ |!])/g;function mt(e){return e.replace(/&/g,"&amp;").replace(ht,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(ft,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let gt;function vt(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}const bt=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}();class yt{}const wt=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),xt=/^url\(([^)]+)\)$/;function _t(e){return e.ngDebugContext}function Ct(e){return e.ngOriginalError}function kt(e,...t){e.error(...t)}class Mt{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e.ngErrorLogger||kt}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?_t(e)?_t(e):this._findContext(Ct(e)):null}_findOriginalError(e){let t=Ct(e);for(;t&&Ct(t);)t=Ct(t);return t}}const St=/([A-Z])/g;function Tt(e){try{return null!=e?e.toString().slice(0,30):e}catch(t){return"[ERROR] Exception while trying to serialize the value"}}let Et=null;function It(){if(!Et){const e=ke.Symbol;if(e&&e.iterator)Et=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Et=n)}}}return Et}function Ft(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function Pt(e,t){const n=Ot(e),r=Ot(t);if(n&&r)return function(e,t,n){const r=e[It()](),s=t[It()]();for(;;){const e=r.next(),t=s.next();if(e.done&&t.done)return!0;if(e.done||t.done)return!1;if(!n(e.value,t.value))return!1}}(e,t,Pt);{const s=e&&("object"==typeof e||"function"==typeof e),l=t&&("object"==typeof t||"function"==typeof t);return!(n||!s||r||!l)||Ft(e,t)}}class Dt{constructor(e){this.wrapped=e}static wrap(e){return new Dt(e)}static unwrap(e){return Dt.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof Dt}}function Ot(e){return!!At(e)&&(Array.isArray(e)||!(e instanceof Map)&&It()in e)}function At(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function qt(e){return!!e&&"function"==typeof e.then}function Rt(e){return!!e&&"function"==typeof e.subscribe}class Nt{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}class $t{}function jt(e){const t=Error(`No component factory found for ${ge(e)}. Did you add it to @NgModule.entryComponents?`);return t[Lt]=e,t}const Lt="ngComponent";class Vt{resolveComponentFactory(e){throw jt(e)}}let Ut=(()=>{class e{}return e.NULL=new Vt,e})();class Bt{constructor(e,t,n){this._parent=t,this._ngModule=n,this._factories=new Map;for(let r=0;r<e.length;r++){const t=e[r];this._factories.set(t.componentType,t)}}resolveComponentFactory(e){let t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw jt(e);return new zt(t,this._ngModule)}}class zt extends $t{constructor(e,t){super(),this.factory=e,this.ngModule=t,this.selector=e.selector,this.componentType=e.componentType,this.ngContentSelectors=e.ngContentSelectors,this.inputs=e.inputs,this.outputs=e.outputs}create(e,t,n,r){return this.factory.create(e,t,n,r||this.ngModule)}}class Ht{}class Wt{}function Kt(...e){}let Gt=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=()=>Qt(e),e})();const Qt=Kt;class Zt{}class Jt{}const Yt=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}();let Xt=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>en(),e})();const en=Kt;class tn{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const nn=new tn("8.1.3");class rn{constructor(){}supports(e){return Ot(e)}create(e){return new ln(e)}}const sn=(e,t)=>t;class ln{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||sn}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,s=null;for(;t||n;){const l=!n||t&&t.currentIndex<cn(n,r,s)?t:n,o=cn(l,r,s),i=l.currentIndex;if(l===n)r--,n=n._nextRemoved;else if(t=t._next,null==l.previousIndex)r++;else{s||(s=[]);const e=o-r,t=i-r;if(e!=t){for(let n=0;n<e;n++){const r=n<s.length?s[n]:s[n]=0,l=r+n;t<=l&&l<e&&(s[n]=r+1)}s[l.previousIndex]=t-e}}o!==i&&e(l,o,i)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Ot(e))throw new Error(`Error trying to diff '${ge(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,r,s=this._itHead,l=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],r=this._trackByFn(t,n),null!==s&&Ft(s.trackById,r)?(l&&(s=this._verifyReinsertion(s,n,r,t)),Ft(s.item,n)||this._addIdentityChange(s,n)):(s=this._mismatch(s,n,r,t),l=!0),s=s._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[It()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(e,e=>{r=this._trackByFn(t,e),null!==s&&Ft(s.trackById,r)?(l&&(s=this._verifyReinsertion(s,e,r,t)),Ft(s.item,e)||this._addIdentityChange(s,e)):(s=this._mismatch(s,e,r,t),l=!0),s=s._next,t++}),this.length=t;return this._truncate(s),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Ft(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Ft(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):e=this._addAfter(new on(t,n),s,r),e}_verifyReinsertion(e,t,n,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==s?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,s=e._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new an),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new an),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class on{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class un{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Ft(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class an{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new un,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function cn(e,t,n){const r=e.previousIndex;if(null===r)return r;let s=0;return n&&r<n.length&&(s=n[r]),r+t+s}class dn{constructor(){}supports(e){return e instanceof Map||At(e)}create(){return new pn}}class pn{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||At(e)))throw new Error(`Error trying to diff '${ge(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const r=n._prev,s=n._next;return r&&(r._next=s),s&&(s._prev=r),n._next=null,n._prev=null,n}const n=new hn(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Ft(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class hn{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let fn=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new ce,new ue]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.ngInjectableDef=he({token:e,providedIn:"root",factory:()=>new e([new rn])}),e})(),mn=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new ce,new ue]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.ngInjectableDef=he({token:e,providedIn:"root",factory:()=>new e([new dn])}),e})(),gn=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>vn(),e})();const vn=(...e)=>{},bn=[new dn],yn=new fn([new rn]),wn=new mn(bn);let xn=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>_n(e,Gt),e})();const _n=Kt;let Cn=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>kn(e,Gt),e})();const kn=Kt;function Mn(e,t,n,r){let s=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${t}'. Current value: '${n}'.`;return r&&(s+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){const n=new Error(e);return Sn(n,t),n}(s,e)}function Sn(e,t){e.ngDebugContext=t,e.ngErrorLogger=t.logError.bind(t)}function Tn(e){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+e)}function En(e,t,n){const r=e.state,s=1792&r;return s===t?(e.state=-1793&r|n,e.initIndex=-1,!0):s===n}function In(e,t,n){return(1792&e.state)===t&&e.initIndex<=n&&(e.initIndex=n+1,!0)}function Fn(e,t){return e.nodes[t]}function Pn(e,t){return e.nodes[t]}function Dn(e,t){return e.nodes[t]}function On(e,t){return e.nodes[t]}function An(e,t){return e.nodes[t]}const qn={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Rn=()=>{},Nn=new Map;function $n(e){let t=Nn.get(e);return t||(t=ge(e)+"_"+Nn.size,Nn.set(e,t)),t}function jn(e){return{id:"$$undefined",styles:e.styles,encapsulation:e.encapsulation,data:e.data}}let Ln=0;function Vn(e,t,n,r){return!(!(2&e.state)&&Ft(e.oldValues[t.bindingIndex+n],r))}function Un(e,t,n,r){return!!Vn(e,t,n,r)&&(e.oldValues[t.bindingIndex+n]=r,!0)}function Bn(e,t,n,r){const s=e.oldValues[t.bindingIndex+n];if(1&e.state||!Pt(s,r)){const l=t.bindings[n].name;throw Mn(qn.createDebugContext(e,t.nodeIndex),`${l}: ${s}`,`${l}: ${r}`,0!=(1&e.state))}}function zn(e){let t=e;for(;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function Hn(e,t){let n=e;for(;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function Wn(e,t,n,r){try{return zn(33554432&e.def.nodes[t].flags?Pn(e,t).componentView:e),qn.handleEvent(e,t,n,r)}catch(s){e.root.errorHandler.handleError(s)}}function Kn(e){return e.parent?Pn(e.parent,e.parentNodeDef.nodeIndex):null}function Gn(e){return e.parent?e.parentNodeDef.parent:null}function Qn(e,t){switch(201347067&t.flags){case 1:return Pn(e,t.nodeIndex).renderElement;case 2:return Fn(e,t.nodeIndex).renderText}}function Zn(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function Jn(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function Yn(e){return 1<<e%32}function Xn(e){const t={};let n=0;const r={};return e&&e.forEach(([e,s])=>{"number"==typeof e?(t[e]=s,n|=Yn(e)):r[e]=s}),{matchedQueries:t,references:r,matchedQueryIds:n}}function er(e,t){return e.map(e=>{let n,r;return Array.isArray(e)?[r,n]=e:(r=0,n=e),n&&("function"==typeof n||"object"==typeof n)&&t&&Object.defineProperty(n,"__source",{value:t,configurable:!0}),{flags:r,token:n,tokenKey:$n(n)}})}function tr(e,t,n){let r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===We.Native?Pn(e,n.renderParent.nodeIndex).renderElement:void 0:t}const nr=new WeakMap;function rr(e){let t=nr.get(e);return t||(t=e(()=>Rn),t.factory=e,nr.set(e,t)),t}function sr(e,t,n,r,s){3===t&&(n=e.renderer.parentNode(Qn(e,e.def.lastRenderRootNode))),lr(e,t,0,e.def.nodes.length-1,n,r,s)}function lr(e,t,n,r,s,l,o){for(let i=n;i<=r;i++){const n=e.def.nodes[i];11&n.flags&&ir(e,n,t,s,l,o),i+=n.childCount}}function or(e,t,n,r,s,l){let o=e;for(;o&&!Zn(o);)o=o.parent;const i=o.parent,u=Gn(o),a=u.nodeIndex+u.childCount;for(let c=u.nodeIndex+1;c<=a;c++){const e=i.def.nodes[c];e.ngContentIndex===t&&ir(i,e,n,r,s,l),c+=e.childCount}if(!i.parent){const o=e.root.projectableNodes[t];if(o)for(let t=0;t<o.length;t++)ur(e,o[t],n,r,s,l)}}function ir(e,t,n,r,s,l){if(8&t.flags)or(e,t.ngContent.index,n,r,s,l);else{const o=Qn(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags?(16&t.bindingFlags&&ur(e,o,n,r,s,l),32&t.bindingFlags&&ur(Pn(e,t.nodeIndex).componentView,o,n,r,s,l)):ur(e,o,n,r,s,l),16777216&t.flags){const o=Pn(e,t.nodeIndex).viewContainer._embeddedViews;for(let e=0;e<o.length;e++)sr(o[e],n,r,s,l)}1&t.flags&&!t.element.name&&lr(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,r,s,l)}}function ur(e,t,n,r,s,l){const o=e.renderer;switch(n){case 1:o.appendChild(r,t);break;case 2:o.insertBefore(r,t,s);break;case 3:o.removeChild(r,t);break;case 0:l.push(t)}}const ar=/^:([^:]+):(.+)$/;function cr(e){if(":"===e[0]){const t=e.match(ar);return[t[1],t[2]]}return["",e]}function dr(e){let t=0;for(let n=0;n<e.length;n++)t|=e[n].flags;return t}function pr(e,t,n,r,s,l,o,i,u,a,c,d,p,h,f,m,g,v,b,y){switch(e){case 1:return t+hr(n)+r;case 2:return t+hr(n)+r+hr(s)+l;case 3:return t+hr(n)+r+hr(s)+l+hr(o)+i;case 4:return t+hr(n)+r+hr(s)+l+hr(o)+i+hr(u)+a;case 5:return t+hr(n)+r+hr(s)+l+hr(o)+i+hr(u)+a+hr(c)+d;case 6:return t+hr(n)+r+hr(s)+l+hr(o)+i+hr(u)+a+hr(c)+d+hr(p)+h;case 7:return t+hr(n)+r+hr(s)+l+hr(o)+i+hr(u)+a+hr(c)+d+hr(p)+h+hr(f)+m;case 8:return t+hr(n)+r+hr(s)+l+hr(o)+i+hr(u)+a+hr(c)+d+hr(p)+h+hr(f)+m+hr(g)+v;case 9:return t+hr(n)+r+hr(s)+l+hr(o)+i+hr(u)+a+hr(c)+d+hr(p)+h+hr(f)+m+hr(g)+v+hr(b)+y;default:throw new Error("Does not support more than 9 expressions")}}function hr(e){return null!=e?e.toString():""}const fr=new Object,mr=$n(Ne),gr=$n(Se),vr=$n(Ht);function br(e,t,n,r){return n=ye(n),{index:-1,deps:er(r,ge(t)),flags:e,token:t,value:n}}function yr(e,t,n=Ne.THROW_IF_NOT_FOUND){const r=Pe(e);try{if(8&t.flags)return t.token;if(2&t.flags&&(n=null),1&t.flags)return e._parent.get(t.token,n);const o=t.tokenKey;switch(o){case mr:case gr:case vr:return e}const i=e._def.providersByKey[o];let u;if(i){let t=e._providers[i.index];return void 0===t&&(t=e._providers[i.index]=wr(e,i)),t===fr?void 0:t}if((u=fe(t.token))&&(s=e,null!=(l=u).providedIn&&(function(e,t){return e._def.modules.indexOf(t)>-1}(s,l.providedIn)||"root"===l.providedIn&&s._def.isRoot))){const n=e._providers.length;return e._def.providers[n]=e._def.providersByKey[t.tokenKey]={flags:5120,value:u.factory,deps:[],index:n,token:t.token},e._providers[n]=fr,e._providers[n]=wr(e,e._def.providersByKey[t.tokenKey])}return 4&t.flags?n:e._parent.get(t.token,n)}finally{Pe(r)}var s,l}function wr(e,t){let n;switch(201347067&t.flags){case 512:n=function(e,t,n){const r=n.length;switch(r){case 0:return new t;case 1:return new t(yr(e,n[0]));case 2:return new t(yr(e,n[0]),yr(e,n[1]));case 3:return new t(yr(e,n[0]),yr(e,n[1]),yr(e,n[2]));default:const s=new Array(r);for(let t=0;t<r;t++)s[t]=yr(e,n[t]);return new t(...s)}}(e,t.value,t.deps);break;case 1024:n=function(e,t,n){const r=n.length;switch(r){case 0:return t();case 1:return t(yr(e,n[0]));case 2:return t(yr(e,n[0]),yr(e,n[1]));case 3:return t(yr(e,n[0]),yr(e,n[1]),yr(e,n[2]));default:const s=Array(r);for(let t=0;t<r;t++)s[t]=yr(e,n[t]);return t(...s)}}(e,t.value,t.deps);break;case 2048:n=yr(e,t.deps[0]);break;case 256:n=t.value}return n===fr||null===n||"object"!=typeof n||131072&t.flags||"function"!=typeof n.ngOnDestroy||(t.flags|=131072),void 0===n?fr:n}function xr(e,t){const n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;const r=n[t];return r.viewContainerParent=null,Mr(n,t),qn.dirtyParentQueries(r),Cr(r),r}function _r(e,t,n){const r=t?Qn(t,t.def.lastRenderRootNode):e.renderElement,s=n.renderer.parentNode(r),l=n.renderer.nextSibling(r);sr(n,2,s,l,void 0)}function Cr(e){sr(e,3,null,null,void 0)}function kr(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Mr(e,t){t>=e.length-1?e.pop():e.splice(t,1)}const Sr=new Object;function Tr(e,t,n,r,s,l){return new Er(e,t,n,r,s,l)}class Er extends $t{constructor(e,t,n,r,s,l){super(),this.selector=e,this.componentType=t,this._inputs=r,this._outputs=s,this.ngContentSelectors=l,this.viewDefFactory=n}get inputs(){const e=[],t=this._inputs;for(let n in t)e.push({propName:n,templateName:t[n]});return e}get outputs(){const e=[];for(let t in this._outputs)e.push({propName:t,templateName:this._outputs[t]});return e}create(e,t,n,r){if(!r)throw new Error("ngModule should be provided");const s=rr(this.viewDefFactory),l=s.nodes[0].element.componentProvider.nodeIndex,o=qn.createRootView(e,t||[],n,s,r,Sr),i=Dn(o,l).instance;return n&&o.renderer.setAttribute(Pn(o,0).renderElement,"ng-version",nn.full),new Ir(o,new Or(o),i)}}class Ir extends class{}{constructor(e,t,n){super(),this._view=e,this._viewRef=t,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=t,this.changeDetectorRef=t,this.instance=n}get location(){return new Gt(Pn(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new Nr(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(e){this._viewRef.onDestroy(e)}}function Fr(e,t,n){return new Pr(e,t,n)}class Pr{constructor(e,t,n){this._view=e,this._elDef=t,this._data=n,this._embeddedViews=[]}get element(){return new Gt(this._data.renderElement)}get injector(){return new Nr(this._view,this._elDef)}get parentInjector(){let e=this._view,t=this._elDef.parent;for(;!t&&e;)t=Gn(e),e=e.parent;return e?new Nr(e,t):new Nr(this._view,null)}clear(){for(let e=this._embeddedViews.length-1;e>=0;e--){const t=xr(this._data,e);qn.destroyView(t)}}get(e){const t=this._embeddedViews[e];if(t){const e=new Or(t);return e.attachToViewContainerRef(this),e}return null}get length(){return this._embeddedViews.length}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,s){const l=n||this.parentInjector;s||e instanceof zt||(s=l.get(Ht));const o=e.create(l,r,void 0,s);return this.insert(o.hostView,t),o}insert(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=e;return function(e,t,n,r){let s=t.viewContainer._embeddedViews;null==n&&(n=s.length),r.viewContainerParent=e,kr(s,n,r),function(e,t){const n=Kn(t);if(!n||n===e||16&t.state)return;t.state|=16;let r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(t),function(e,t){if(4&t.flags)return;e.nodeFlags|=4,t.flags|=4;let n=t.parent;for(;n;)n.childFlags|=4,n=n.parent}(t.parent.def,t.parentNodeDef)}(t,r),qn.dirtyParentQueries(r),_r(t,n>0?s[n-1]:null,r)}(this._view,this._data,t,n._view),n.attachToViewContainerRef(this),e}move(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(e._view);return function(e,t,n){const r=e.viewContainer._embeddedViews,s=r[t];Mr(r,t),null==n&&(n=r.length),kr(r,n,s),qn.dirtyParentQueries(s),Cr(s),_r(e,n>0?r[n-1]:null,s)}(this._data,n,t),e}indexOf(e){return this._embeddedViews.indexOf(e._view)}remove(e){const t=xr(this._data,e);t&&qn.destroyView(t)}detach(e){const t=xr(this._data,e);return t?new Or(t):null}}function Dr(e){return new Or(e)}class Or{constructor(e){this._view=e,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(e){const t=[];return sr(e,0,void 0,void 0,t),t}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){zn(this._view)}detach(){this._view.state&=-5}detectChanges(){const e=this._view.root.rendererFactory;e.begin&&e.begin();try{qn.checkAndUpdateView(this._view)}finally{e.end&&e.end()}}checkNoChanges(){qn.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),qn.destroyView(this._view)}detachFromAppRef(){this._appRef=null,Cr(this._view),qn.dirtyParentQueries(this._view)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}}function Ar(e,t){return new qr(e,t)}class qr extends xn{constructor(e,t){super(),this._parentView=e,this._def=t}createEmbeddedView(e){return new Or(qn.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))}get elementRef(){return new Gt(Pn(this._parentView,this._def.nodeIndex).renderElement)}}function Rr(e,t){return new Nr(e,t)}class Nr{constructor(e,t){this.view=e,this.elDef=t}get(e,t=Ne.THROW_IF_NOT_FOUND){return qn.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:e,tokenKey:$n(e)},t)}}function $r(e,t){const n=e.def.nodes[t];if(1&n.flags){const t=Pn(e,n.nodeIndex);return n.element.template?t.template:t.renderElement}if(2&n.flags)return Fn(e,n.nodeIndex).renderText;if(20240&n.flags)return Dn(e,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+t)}function jr(e){return new Lr(e.renderer)}class Lr{constructor(e){this.delegate=e}selectRootElement(e){return this.delegate.selectRootElement(e)}createElement(e,t){const[n,r]=cr(t),s=this.delegate.createElement(r,n);return e&&this.delegate.appendChild(e,s),s}createViewRoot(e){return e}createTemplateAnchor(e){const t=this.delegate.createComment("");return e&&this.delegate.appendChild(e,t),t}createText(e,t){const n=this.delegate.createText(t);return e&&this.delegate.appendChild(e,n),n}projectNodes(e,t){for(let n=0;n<t.length;n++)this.delegate.appendChild(e,t[n])}attachViewAfter(e,t){const n=this.delegate.parentNode(e),r=this.delegate.nextSibling(e);for(let s=0;s<t.length;s++)this.delegate.insertBefore(n,t[s],r)}detachView(e){for(let t=0;t<e.length;t++){const n=e[t],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}}destroyView(e,t){for(let n=0;n<t.length;n++)this.delegate.destroyNode(t[n])}listen(e,t,n){return this.delegate.listen(e,t,n)}listenGlobal(e,t,n){return this.delegate.listen(e,t,n)}setElementProperty(e,t,n){this.delegate.setProperty(e,t,n)}setElementAttribute(e,t,n){const[r,s]=cr(t);null!=n?this.delegate.setAttribute(e,s,n,r):this.delegate.removeAttribute(e,s,r)}setBindingDebugInfo(e,t,n){}setElementClass(e,t,n){n?this.delegate.addClass(e,t):this.delegate.removeClass(e,t)}setElementStyle(e,t,n){null!=n?this.delegate.setStyle(e,t,n):this.delegate.removeStyle(e,t)}invokeElementMethod(e,t,n){e[t].apply(e,n)}setText(e,t){this.delegate.setValue(e,t)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function Vr(e,t,n,r){return new Ur(e,t,n,r)}class Ur{constructor(e,t,n,r){this._moduleType=e,this._parent=t,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){const t=e._def,n=e._providers=new Array(t.providers.length);for(let r=0;r<t.providers.length;r++){const s=t.providers[r];4096&s.flags||void 0===n[r]&&(n[r]=wr(e,s))}}(this)}get(e,t=Ne.THROW_IF_NOT_FOUND,n=de.Default){let r=0;return n&de.SkipSelf?r|=1:n&de.Self&&(r|=4),yr(this,{token:e,tokenKey:$n(e),flags:r},t)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(Ut)}destroy(){if(this._destroyed)throw new Error(`The ng module ${ge(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(e,t){const n=e._def,r=new Set;for(let s=0;s<n.providers.length;s++)if(131072&n.providers[s].flags){const t=e._providers[s];if(t&&t!==fr){const e=t.ngOnDestroy;"function"!=typeof e||r.has(t)||(e.apply(t),r.add(t))}}}(this),this._destroyListeners.forEach(e=>e())}onDestroy(e){this._destroyListeners.push(e)}}const Br=$n(Zt),zr=$n(Xt),Hr=$n(Gt),Wr=$n(Cn),Kr=$n(xn),Gr=$n(gn),Qr=$n(Ne),Zr=$n(Se);function Jr(e,t,n,r,s,l,o,i){const u=[];if(o)for(let c in o){const[e,t]=o[c];u[e]={flags:8,name:c,nonMinifiedName:t,ns:null,securityContext:null,suffix:null}}const a=[];if(i)for(let c in i)a.push({type:1,propName:c,target:null,eventName:i[c]});return Xr(e,t|=16384,n,r,s,s,l,u,a)}function Yr(e,t,n,r,s){return Xr(-1,e,t,0,n,r,s)}function Xr(e,t,n,r,s,l,o,i,u){const{matchedQueries:a,references:c,matchedQueryIds:d}=Xn(n);u||(u=[]),i||(i=[]),l=ye(l);const p=er(o,ge(s));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:a,matchedQueryIds:d,references:c,ngContentIndex:-1,childCount:r,bindings:i,bindingFlags:dr(i),outputs:u,element:null,provider:{token:s,value:l,deps:p},text:null,query:null,ngContent:null}}function es(e,t){return ss(e,t)}function ts(e,t){let n=e;for(;n.parent&&!Zn(n);)n=n.parent;return ls(n.parent,Gn(n),!0,t.provider.value,t.provider.deps)}function ns(e,t){const n=ls(e,t.parent,(32768&t.flags)>0,t.provider.value,t.provider.deps);if(t.outputs.length)for(let r=0;r<t.outputs.length;r++){const s=t.outputs[r],l=n[s.propName];if(!Rt(l))throw new Error(`@Output ${s.propName} not initialized in '${n.constructor.name}'.`);{const n=l.subscribe(rs(e,t.parent.nodeIndex,s.eventName));e.disposables[t.outputIndex+r]=n.unsubscribe.bind(n)}}return n}function rs(e,t,n){return r=>Wn(e,t,n,r)}function ss(e,t){const n=(8192&t.flags)>0,r=t.provider;switch(201347067&t.flags){case 512:return ls(e,t.parent,n,r.value,r.deps);case 1024:return function(e,t,n,r,s){const l=s.length;switch(l){case 0:return r();case 1:return r(is(e,t,n,s[0]));case 2:return r(is(e,t,n,s[0]),is(e,t,n,s[1]));case 3:return r(is(e,t,n,s[0]),is(e,t,n,s[1]),is(e,t,n,s[2]));default:const o=Array(l);for(let r=0;r<l;r++)o[r]=is(e,t,n,s[r]);return r(...o)}}(e,t.parent,n,r.value,r.deps);case 2048:return is(e,t.parent,n,r.deps[0]);case 256:return r.value}}function ls(e,t,n,r,s){const l=s.length;switch(l){case 0:return new r;case 1:return new r(is(e,t,n,s[0]));case 2:return new r(is(e,t,n,s[0]),is(e,t,n,s[1]));case 3:return new r(is(e,t,n,s[0]),is(e,t,n,s[1]),is(e,t,n,s[2]));default:const o=new Array(l);for(let r=0;r<l;r++)o[r]=is(e,t,n,s[r]);return new r(...o)}}const os={};function is(e,t,n,r,s=Ne.THROW_IF_NOT_FOUND){if(8&r.flags)return r.token;const l=e;2&r.flags&&(s=null);const o=r.tokenKey;o===Gr&&(n=!(!t||!t.element.componentView)),t&&1&r.flags&&(n=!1,t=t.parent);let i=e;for(;i;){if(t)switch(o){case Br:return jr(us(i,t,n));case zr:return us(i,t,n).renderer;case Hr:return new Gt(Pn(i,t.nodeIndex).renderElement);case Wr:return Pn(i,t.nodeIndex).viewContainer;case Kr:if(t.element.template)return Pn(i,t.nodeIndex).template;break;case Gr:return Dr(us(i,t,n));case Qr:case Zr:return Rr(i,t);default:const e=(n?t.element.allProviders:t.element.publicProviders)[o];if(e){let t=Dn(i,e.nodeIndex);return t||(t={instance:ss(i,e)},i.nodes[e.nodeIndex]=t),t.instance}}n=Zn(i),t=Gn(i),i=i.parent,4&r.flags&&(i=null)}const u=l.root.injector.get(r.token,os);return u!==os||s===os?u:l.root.ngModule.injector.get(r.token,s)}function us(e,t,n){let r;if(n)r=Pn(e,t.nodeIndex).componentView;else for(r=e;r.parent&&!Zn(r);)r=r.parent;return r}function as(e,t,n,r,s,l){if(32768&n.flags){const t=Pn(e,n.parent.nodeIndex).componentView;2&t.def.flags&&(t.state|=8)}if(t.instance[n.bindings[r].name]=s,524288&n.flags){l=l||{};const t=Dt.unwrap(e.oldValues[n.bindingIndex+r]);l[n.bindings[r].nonMinifiedName]=new Nt(t,s,0!=(2&e.state))}return e.oldValues[n.bindingIndex+r]=s,l}function cs(e,t){if(!(e.def.nodeFlags&t))return;const n=e.def.nodes;let r=0;for(let s=0;s<n.length;s++){const l=n[s];let o=l.parent;for(!o&&l.flags&t&&ps(e,s,l.flags&t,r++),0==(l.childFlags&t)&&(s+=l.childCount);o&&1&o.flags&&s===o.nodeIndex+o.childCount;)o.directChildFlags&t&&(r=ds(e,o,t,r)),o=o.parent}}function ds(e,t,n,r){for(let s=t.nodeIndex+1;s<=t.nodeIndex+t.childCount;s++){const t=e.def.nodes[s];t.flags&n&&ps(e,s,t.flags&n,r++),s+=t.childCount}return r}function ps(e,t,n,r){const s=Dn(e,t);if(!s)return;const l=s.instance;l&&(qn.setCurrentNode(e,t),1048576&n&&In(e,512,r)&&l.ngAfterContentInit(),2097152&n&&l.ngAfterContentChecked(),4194304&n&&In(e,768,r)&&l.ngAfterViewInit(),8388608&n&&l.ngAfterViewChecked(),131072&n&&l.ngOnDestroy())}const hs=new Me("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ke}),fs={},ms=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}(),gs=void 0;var vs=["en",[["a","p"],["AM","PM"],gs],[["AM","PM"],gs,gs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gs,"{1} 'at' {0}",gs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];function bs(e){const t=e.toLowerCase().replace(/_/g,"-");let n=fs[t];if(n)return n;const r=t.split("-")[0];if(n=fs[r],n)return n;if("en"===r)return vs;throw new Error(`Missing locale data for the locale "${e}".`)}let ys="en-US";class ws extends T{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){let r,s=e=>null,l=()=>null;e&&"object"==typeof e?(r=this.__isAsync?t=>{setTimeout(()=>e.next(t))}:t=>{e.next(t)},e.error&&(s=this.__isAsync?t=>{setTimeout(()=>e.error(t))}:t=>{e.error(t)}),e.complete&&(l=this.__isAsync?()=>{setTimeout(()=>e.complete())}:()=>{e.complete()})):(r=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)},t&&(s=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)}),n&&(l=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const o=super.subscribe(r,s,l);return e instanceof p&&e.add(o),o}}function xs(){return this._results[It()]()}class _s{constructor(){this.dirty=!0,this._results=[],this.changes=new ws,this.length=0;const e=It(),t=_s.prototype;t[e]||(t[e]=xs)}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e){this._results=function e(t,n){void 0===n&&(n=t);for(let r=0;r<t.length;r++){let s=t[r];Array.isArray(s)?(n===t&&(n=t.slice(0,r)),e(s,n)):n!==t&&n.push(s)}return n}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const Cs=new Me("Application Initializer");let ks=(()=>class{constructor(e){this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();qt(t)&&e.push(t)}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}})();const Ms=new Me("AppId");function Ss(){return`${Ts()}${Ts()}${Ts()}`}function Ts(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Es=new Me("Platform Initializer"),Is=new Me("Platform ID"),Fs=new Me("appBootstrapListener");let Ps=(()=>class{log(e){console.log(e)}warn(e){console.warn(e)}})();const Ds=new Me("LocaleId");function Os(){throw new Error("Runtime compiler is not loaded")}const As=Os,qs=Os,Rs=Os,Ns=Os;let $s,js,Ls=(()=>class{constructor(){this.compileModuleSync=As,this.compileModuleAsync=qs,this.compileModuleAndAllComponentsSync=Rs,this.compileModuleAndAllComponentsAsync=Ns}clearCache(){}clearCacheFor(e){}getModuleId(e){}})();class Vs{}function Us(){const e=ke.wtf;return!(!e||($s=e.trace,!$s)||(js=$s.events,0))}const Bs=Us();function zs(e,t){return null}const Hs=Bs?function(e,t=null){return js.createScope(e,t)}:(e,t)=>zs,Ws=Bs?function(e,t){return $s.leaveScope(e,t),t}:(e,t)=>t,Ks=(()=>Promise.resolve(0))();function Gs(e){"undefined"==typeof Zone?Ks.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Qs{constructor({enableLongStackTrace:e=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ws(!1),this.onMicrotaskEmpty=new ws(!1),this.onStable=new ws(!1),this.onError=new ws(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");var t;Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(t=this)._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,n,r,s,l,o)=>{try{return Xs(t),e.invokeTask(r,s,l,o)}finally{el(t)}},onInvoke:(e,n,r,s,l,o,i)=>{try{return Xs(t),e.invoke(r,s,l,o,i)}finally{el(t)}},onHasTask:(e,n,r,s)=>{e.hasTask(r,s),n===r&&("microTask"==s.change?(t.hasPendingMicrotasks=s.microTask,Ys(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,n,r,s)=>(e.handleError(r,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Qs.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Qs.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const s=this._inner,l=s.scheduleEventTask("NgZoneEvent: "+r,e,Js,Zs,Zs);try{return s.runTask(l,t,n)}finally{s.cancelTask(l)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}function Zs(){}const Js={};function Ys(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Xs(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function el(e){e._nesting--,Ys(e)}class tl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ws,this.onMicrotaskEmpty=new ws,this.onStable=new ws,this.onError=new ws}run(e){return e()}runGuarded(e){return e()}runOutsideAngular(e){return e()}runTask(e){return e()}}let nl=(()=>class{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Qs.assertNotInAngularZone(),Gs(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Gs(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let r=-1;t&&t>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==r),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}})(),rl=(()=>{class e{constructor(){this._applications=new Map,ol.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return ol.findTestabilityInTree(this,e,t)}}return e.ctorParameters=()=>[],e})();class sl{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}let ll,ol=new sl;const il=new Me("AllowMultipleToken");class ul{constructor(e,t){this.name=e,this.token=t}}function al(e,t,n=[]){const r="Platform: "+t,s=new Me(r);return(t=[])=>{let l=cl();if(!l||l.injector.get(il,!1))if(e)e(n.concat(t).concat({provide:s,useValue:!0}));else{const e=n.concat(t).concat({provide:s,useValue:!0});!function(e){if(ll&&!ll.destroyed&&!ll.injector.get(il,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ll=e.get(dl);const t=e.get(Es,null);t&&t.forEach(e=>e())}(Ne.create({providers:e,name:r}))}return function(e){const t=cl();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(s)}}function cl(){return ll&&!ll.destroyed?ll:null}let dl=(()=>class{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e){let t;return t="noop"===e?new tl:("zone.js"===e?void 0:e)||new Qs({enableLongStackTrace:Ze()}),t}(t?t.ngZone:void 0),r=[{provide:Qs,useValue:n}];return n.run(()=>{const t=Ne.create({providers:r,parent:this.injector,name:e.moduleType.name}),s=e.create(t),l=s.injector.get(Mt,null);if(!l)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return o=s.injector.get(Ds,"en-US"),ys=o.toLowerCase().replace(/_/g,"-"),s.onDestroy(()=>fl(this._modules,s)),n.runOutsideAngular(()=>n.onError.subscribe({next:e=>{l.handleError(e)}})),function(e,t,n){try{const r=n();return qt(r)?r.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(l,n,()=>{const e=s.injector.get(ks);return e.runInitializers(),e.donePromise.then(()=>(this._moduleDoBootstrap(s),s))});var o})}bootstrapModule(e,t=[]){const n=pl({},t);return function(e,t,n){return e.get(Vs).createCompiler([t]).compileModuleAsync(n)}(this.injector,n,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(hl);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${ge(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}})();function pl(e,t){return Array.isArray(t)?t.reduce(pl,e):Object.assign({},e,t)}let hl=(()=>{class e{constructor(e,t,n,r,s,l){this._zone=e,this._console=t,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=s,this._initStatus=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Ze(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new x(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),i=new x(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{Qs.assertNotInAngularZone(),Gs(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Qs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=Y(o,i.pipe(e=>{return X()((t=le,function(e){let n;n="function"==typeof t?t:function(){return t};const r=Object.create(e,re);return r.source=e,r.subjectFactory=n,r})(e));var t}))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof $t?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const r=n instanceof zt?null:this._injector.get(Ht),s=n.create(Ne.NULL,[],t||n.selector,r);s.onDestroy(()=>{this._unloadComponent(s)});const l=s.injector.get(nl,null);return l&&s.injector.get(rl).registerApplication(s.location.nativeElement,l),this._loadComponent(s),Ze()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),s}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const t=e._tickScope();try{this._runningTick=!0;for(let e of this._views)e.detectChanges();if(this._enforceNoNewChanges)for(let e of this._views)e.checkNoChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1,Ws(t)}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;fl(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Fs,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}_unloadComponent(e){this.detachView(e.hostView),fl(this.components,e)}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy())}get viewCount(){return this._views.length}}return e._tickScope=Hs("ApplicationRef#tick()"),e})();function fl(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class ml{}class gl{}const vl={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let bl=(()=>class{constructor(e,t){this._compiler=e,this._config=t||vl}load(e){return this._compiler instanceof Ls?this.loadFactory(e):this.loadAndCompile(e)}loadAndCompile(e){let[t,r]=e.split("#");return void 0===r&&(r="default"),n("zn8P")(t).then(e=>e[r]).then(e=>yl(e,t,r)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,r]=e.split("#"),s="NgFactory";return void 0===r&&(r="default",s=""),n("zn8P")(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[r+s]).then(e=>yl(e,t,r))}})();function yl(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}class wl{constructor(e,t){this.name=e,this.callback=t}}class xl{constructor(e,t,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=e,t&&t instanceof _l&&t.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class _l extends xl{constructor(e,t,n){super(e,t,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=e}addChild(e){e&&(this.childNodes.push(e),e.parent=this)}removeChild(e){const t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))}insertChildrenAfter(e,t){const n=this.childNodes.indexOf(e);-1!==n&&(this.childNodes.splice(n+1,0,...t),t.forEach(t=>{t.parent&&t.parent.removeChild(t),e.parent=this}))}insertBefore(e,t){const n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))}query(e){return this.queryAll(e)[0]||null}queryAll(e){const t=[];return function e(t,n,r){t.childNodes.forEach(t=>{t instanceof _l&&(n(t)&&r.push(t),e(t,n,r))})}(this,e,t),t}queryAllNodes(e){const t=[];return function e(t,n,r){t instanceof _l&&t.childNodes.forEach(t=>{n(t)&&r.push(t),t instanceof _l&&e(t,n,r)})}(this,e,t),t}get children(){return this.childNodes.filter(e=>e instanceof _l)}triggerEventHandler(e,t){this.listeners.forEach(n=>{n.name==e&&n.callback(t)})}}const Cl=new Map,kl=function(e){return Cl.get(e)||null};function Ml(e){Cl.set(e.nativeNode,e)}const Sl=al(null,"core",[{provide:Is,useValue:"unknown"},{provide:dl,deps:[Ne]},{provide:rl,deps:[]},{provide:Ps,deps:[]}]);function Tl(){return yn}function El(){return wn}function Il(e){return e||"en-US"}function Fl(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}let Pl=(()=>class{constructor(e){}})();function Dl(e,t,n,r,s,l){e|=1;const{matchedQueries:o,references:i,matchedQueryIds:u}=Xn(t);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:o,matchedQueryIds:u,references:i,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:l?rr(l):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:s||Rn},provider:null,text:null,query:null,ngContent:null}}function Ol(e,t,n,r,s,l,o=[],i,u,a,c,d){a||(a=Rn);const{matchedQueries:p,references:h,matchedQueryIds:f}=Xn(n);let m=null,g=null;l&&([m,g]=cr(l)),i=i||[];const v=new Array(i.length);for(let w=0;w<i.length;w++){const[e,t,n]=i[w],[r,s]=cr(t);let l=void 0,o=void 0;switch(15&e){case 4:o=n;break;case 1:case 8:l=n}v[w]={flags:e,ns:r,name:s,nonMinifiedName:s,securityContext:l,suffix:o}}u=u||[];const b=new Array(u.length);for(let w=0;w<u.length;w++){const[e,t]=u[w];b[w]={type:0,target:e,eventName:t,propName:null}}const y=(o=o||[]).map(([e,t])=>{const[n,r]=cr(e);return[n,r,t]});return d=function(e){if(e&&"$$undefined"===e.id){const t=null!=e.encapsulation&&e.encapsulation!==We.None||e.styles.length||Object.keys(e.data).length;e.id=t?"c"+Ln++:"$$empty"}return e&&"$$empty"===e.id&&(e=null),e||null}(d),c&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:p,matchedQueryIds:f,references:h,ngContentIndex:r,childCount:s,bindings:v,bindingFlags:dr(v),outputs:b,element:{ns:m,name:g,attrs:y,template:null,componentProvider:null,componentView:c||null,componentRendererType:d,publicProviders:null,allProviders:null,handleEvent:a||Rn},provider:null,text:null,query:null,ngContent:null}}function Al(e,t,n){const r=n.element,s=e.root.selectorOrNode,l=e.renderer;let o;if(e.parent||!s){o=r.name?l.createElement(r.name,r.ns):l.createComment("");const s=tr(e,t,n);s&&l.appendChild(s,o)}else o=l.selectRootElement(s,!!r.componentRendererType&&r.componentRendererType.encapsulation===We.ShadowDom);if(r.attrs)for(let i=0;i<r.attrs.length;i++){const[e,t,n]=r.attrs[i];l.setAttribute(o,t,n,e)}return o}function ql(e,t,n,r){for(let o=0;o<n.outputs.length;o++){const i=n.outputs[o],u=Rl(e,n.nodeIndex,(l=i.eventName,(s=i.target)?`${s}:${l}`:l));let a=i.target,c=e;"component"===i.target&&(a=null,c=t);const d=c.renderer.listen(a||r,i.eventName,u);e.disposables[n.outputIndex+o]=d}var s,l}function Rl(e,t,n){return r=>Wn(e,t,n,r)}function Nl(e,t,n,r){if(!Un(e,t,n,r))return!1;const s=t.bindings[n],l=Pn(e,t.nodeIndex),o=l.renderElement,i=s.name;switch(15&s.flags){case 1:!function(e,t,n,r,s,l){const o=t.securityContext;let i=o?e.root.sanitizer.sanitize(o,l):l;i=null!=i?i.toString():null;const u=e.renderer;null!=l?u.setAttribute(n,s,i,r):u.removeAttribute(n,s,r)}(e,s,o,s.ns,i,r);break;case 2:!function(e,t,n,r){const s=e.renderer;r?s.addClass(t,n):s.removeClass(t,n)}(e,o,i,r);break;case 4:!function(e,t,n,r,s){let l=e.root.sanitizer.sanitize(bt.STYLE,s);if(null!=l){l=l.toString();const e=t.suffix;null!=e&&(l+=e)}else l=null;const o=e.renderer;null!=l?o.setStyle(n,r,l):o.removeStyle(n,r)}(e,s,o,i,r);break;case 8:!function(e,t,n,r,s){const l=t.securityContext;let o=l?e.root.sanitizer.sanitize(l,s):s;e.renderer.setProperty(n,r,o)}(33554432&t.flags&&32&s.flags?l.componentView:e,s,o,i,r)}return!0}function $l(e,t,n){let r=[];for(let s in n)r.push({propName:s,bindingType:n[s]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:t,filterId:Yn(t),bindings:r},ngContent:null}}function jl(e){const t=e.def.nodeMatchedQueries;for(;e.parent&&Jn(e);){let n=e.parentNodeDef;e=e.parent;const r=n.nodeIndex+n.childCount;for(let s=0;s<=r;s++){const r=e.def.nodes[s];67108864&r.flags&&536870912&r.flags&&(r.query.filterId&t)===r.query.filterId&&An(e,s).setDirty(),!(1&r.flags&&s+r.childCount<n.nodeIndex)&&67108864&r.childFlags&&536870912&r.childFlags||(s+=r.childCount)}}if(134217728&e.def.nodeFlags)for(let n=0;n<e.def.nodes.length;n++){const t=e.def.nodes[n];134217728&t.flags&&536870912&t.flags&&An(e,n).setDirty(),n+=t.childCount}}function Ll(e,t){const n=An(e,t.nodeIndex);if(!n.dirty)return;let r,s=void 0;if(67108864&t.flags){const n=t.parent.parent;s=Vl(e,n.nodeIndex,n.nodeIndex+n.childCount,t.query,[]),r=Dn(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(s=Vl(e,0,e.def.nodes.length-1,t.query,[]),r=e.component);n.reset(s);const l=t.query.bindings;let o=!1;for(let i=0;i<l.length;i++){const e=l[i];let t;switch(e.bindingType){case 0:t=n.first;break;case 1:t=n,o=!0}r[e.propName]=t}o&&n.notifyOnChanges()}function Vl(e,t,n,r,s){for(let l=t;l<=n;l++){const t=e.def.nodes[l],n=t.matchedQueries[r.id];if(null!=n&&s.push(Ul(e,t,n)),1&t.flags&&t.element.template&&(t.element.template.nodeMatchedQueries&r.filterId)===r.filterId){const n=Pn(e,l);if((t.childMatchedQueries&r.filterId)===r.filterId&&(Vl(e,l+1,l+t.childCount,r,s),l+=t.childCount),16777216&t.flags){const e=n.viewContainer._embeddedViews;for(let t=0;t<e.length;t++){const l=e[t],o=Kn(l);o&&o===n&&Vl(l,0,l.def.nodes.length-1,r,s)}}const o=n.template._projectedViews;if(o)for(let e=0;e<o.length;e++){const t=o[e];Vl(t,0,t.def.nodes.length-1,r,s)}}(t.childMatchedQueries&r.filterId)!==r.filterId&&(l+=t.childCount)}return s}function Ul(e,t,n){if(null!=n)switch(n){case 1:return Pn(e,t.nodeIndex).renderElement;case 0:return new Gt(Pn(e,t.nodeIndex).renderElement);case 2:return Pn(e,t.nodeIndex).template;case 3:return Pn(e,t.nodeIndex).viewContainer;case 4:return Dn(e,t.nodeIndex).instance}}function Bl(e,t){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:t}}}function zl(e,t,n){const r=tr(e,t,n);r&&or(e,n.ngContent.index,1,r,null,void 0)}function Hl(e,t){return Kl(32,e,new Array(t))}function Wl(e,t){const n=Object.keys(t),r=n.length,s=new Array(r);for(let l=0;l<r;l++){const e=n[l];s[t[e]]=e}return Kl(64,e,s)}function Kl(e,t,n){const r=new Array(n.length);for(let s=0;s<n.length;s++){const e=n[s];r[s]={flags:8,name:e,ns:null,nonMinifiedName:e,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:dr(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function Gl(e,t,n){const r=new Array(n.length-1);for(let s=1;s<n.length;s++)r[s-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[s]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Ql(e,t,n){let r;const s=e.renderer;r=s.createText(n.text.prefix);const l=tr(e,t,n);return l&&s.appendChild(l,r),{renderText:r}}function Zl(e,t){return(null!=e?e.toString():"")+t.suffix}function Jl(e,t,n,r){let s=0,l=0,o=0,i=0,u=0,a=null,c=null,d=!1,p=!1,h=null;for(let f=0;f<t.length;f++){const e=t[f];if(e.nodeIndex=f,e.parent=a,e.bindingIndex=s,e.outputIndex=l,e.renderParent=c,o|=e.flags,u|=e.matchedQueryIds,e.element){const t=e.element;t.publicProviders=a?a.element.publicProviders:Object.create(null),t.allProviders=t.publicProviders,d=!1,p=!1,e.element.template&&(u|=e.element.template.nodeMatchedQueries)}if(Xl(a,e,t.length),s+=e.bindings.length,l+=e.outputs.length,!c&&3&e.flags&&(h=e),20224&e.flags){d||(d=!0,a.element.publicProviders=Object.create(a.element.publicProviders),a.element.allProviders=a.element.publicProviders);const t=0!=(32768&e.flags);0==(8192&e.flags)||t?a.element.publicProviders[$n(e.provider.token)]=e:(p||(p=!0,a.element.allProviders=Object.create(a.element.publicProviders)),a.element.allProviders[$n(e.provider.token)]=e),t&&(a.element.componentProvider=e)}if(a?(a.childFlags|=e.flags,a.directChildFlags|=e.flags,a.childMatchedQueries|=e.matchedQueryIds,e.element&&e.element.template&&(a.childMatchedQueries|=e.element.template.nodeMatchedQueries)):i|=e.flags,e.childCount>0)a=e,Yl(e)||(c=e);else for(;a&&f===a.nodeIndex+a.childCount;){const e=a.parent;e&&(e.childFlags|=a.childFlags,e.childMatchedQueries|=a.childMatchedQueries),a=e,c=a&&Yl(a)?a.renderParent:a}}return{factory:null,nodeFlags:o,rootNodeFlags:i,nodeMatchedQueries:u,flags:e,nodes:t,updateDirectives:n||Rn,updateRenderer:r||Rn,handleEvent:(e,n,r,s)=>t[n].element.handleEvent(e,r,s),bindingCount:s,outputCount:l,lastRenderRootNode:h}}function Yl(e){return 0!=(1&e.flags)&&null===e.element.name}function Xl(e,t,n){const r=t.element&&t.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${t.nodeIndex}!`)}if(20224&t.flags&&0==(1&(e?e.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${t.nodeIndex}!`);if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${t.nodeIndex}!`);if(134217728&t.flags&&e)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${t.nodeIndex}!`)}if(t.childCount){const r=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=r&&t.nodeIndex+t.childCount>r)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${t.nodeIndex}!`)}}function eo(e,t,n,r){const s=ro(e.root,e.renderer,e,t,n);return so(s,e.component,r),lo(s),s}function to(e,t,n){const r=ro(e,e.renderer,null,null,t);return so(r,n,n),lo(r),r}function no(e,t,n,r){const s=t.element.componentRendererType;let l;return l=s?e.root.rendererFactory.createRenderer(r,s):e.root.renderer,ro(e.root,l,e,t.element.componentProvider,n)}function ro(e,t,n,r,s){const l=new Array(s.nodes.length),o=s.outputCount?new Array(s.outputCount):null;return{def:s,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:l,state:13,root:e,renderer:t,oldValues:new Array(s.bindingCount),disposables:o,initIndex:-1}}function so(e,t,n){e.component=t,e.context=n}function lo(e){let t;Zn(e)&&(t=Pn(e.parent,e.parentNodeDef.parent.nodeIndex).renderElement);const n=e.def,r=e.nodes;for(let s=0;s<n.nodes.length;s++){const l=n.nodes[s];let o;switch(qn.setCurrentNode(e,s),201347067&l.flags){case 1:const n=Al(e,t,l);let i=void 0;if(33554432&l.flags){const t=rr(l.element.componentView);i=qn.createComponentView(e,l,t,n)}ql(e,i,l,n),o={renderElement:n,componentView:i,viewContainer:null,template:l.element.template?Ar(e,l):void 0},16777216&l.flags&&(o.viewContainer=Fr(e,l,o));break;case 2:o=Ql(e,t,l);break;case 512:case 1024:case 2048:case 256:o=r[s],o||4096&l.flags||(o={instance:es(e,l)});break;case 16:o={instance:ts(e,l)};break;case 16384:o=r[s],o||(o={instance:ns(e,l)}),32768&l.flags&&so(Pn(e,l.parent.nodeIndex).componentView,o.instance,o.instance);break;case 32:case 64:case 128:o={value:void 0};break;case 67108864:case 134217728:o=new _s;break;case 8:zl(e,t,l),o=void 0}r[s]=o}mo(e,fo.CreateViewNodes),yo(e,201326592,268435456,0)}function oo(e){ao(e),qn.updateDirectives(e,1),go(e,fo.CheckNoChanges),qn.updateRenderer(e,1),mo(e,fo.CheckNoChanges),e.state&=-97}function io(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,En(e,0,256),ao(e),qn.updateDirectives(e,0),go(e,fo.CheckAndUpdate),yo(e,67108864,536870912,0);let t=En(e,256,512);cs(e,2097152|(t?1048576:0)),qn.updateRenderer(e,0),mo(e,fo.CheckAndUpdate),yo(e,134217728,536870912,0),t=En(e,512,768),cs(e,8388608|(t?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,En(e,768,1024)}function uo(e,t,n,r,s,l,o,i,u,a,c,d,p){return 0===n?function(e,t,n,r,s,l,o,i,u,a,c,d){switch(201347067&t.flags){case 1:return function(e,t,n,r,s,l,o,i,u,a,c,d){const p=t.bindings.length;let h=!1;return p>0&&Nl(e,t,0,n)&&(h=!0),p>1&&Nl(e,t,1,r)&&(h=!0),p>2&&Nl(e,t,2,s)&&(h=!0),p>3&&Nl(e,t,3,l)&&(h=!0),p>4&&Nl(e,t,4,o)&&(h=!0),p>5&&Nl(e,t,5,i)&&(h=!0),p>6&&Nl(e,t,6,u)&&(h=!0),p>7&&Nl(e,t,7,a)&&(h=!0),p>8&&Nl(e,t,8,c)&&(h=!0),p>9&&Nl(e,t,9,d)&&(h=!0),h}(e,t,n,r,s,l,o,i,u,a,c,d);case 2:return function(e,t,n,r,s,l,o,i,u,a,c,d){let p=!1;const h=t.bindings,f=h.length;if(f>0&&Un(e,t,0,n)&&(p=!0),f>1&&Un(e,t,1,r)&&(p=!0),f>2&&Un(e,t,2,s)&&(p=!0),f>3&&Un(e,t,3,l)&&(p=!0),f>4&&Un(e,t,4,o)&&(p=!0),f>5&&Un(e,t,5,i)&&(p=!0),f>6&&Un(e,t,6,u)&&(p=!0),f>7&&Un(e,t,7,a)&&(p=!0),f>8&&Un(e,t,8,c)&&(p=!0),f>9&&Un(e,t,9,d)&&(p=!0),p){let p=t.text.prefix;f>0&&(p+=Zl(n,h[0])),f>1&&(p+=Zl(r,h[1])),f>2&&(p+=Zl(s,h[2])),f>3&&(p+=Zl(l,h[3])),f>4&&(p+=Zl(o,h[4])),f>5&&(p+=Zl(i,h[5])),f>6&&(p+=Zl(u,h[6])),f>7&&(p+=Zl(a,h[7])),f>8&&(p+=Zl(c,h[8])),f>9&&(p+=Zl(d,h[9]));const m=Fn(e,t.nodeIndex).renderText;e.renderer.setValue(m,p)}return p}(e,t,n,r,s,l,o,i,u,a,c,d);case 16384:return function(e,t,n,r,s,l,o,i,u,a,c,d){const p=Dn(e,t.nodeIndex),h=p.instance;let f=!1,m=void 0;const g=t.bindings.length;return g>0&&Vn(e,t,0,n)&&(f=!0,m=as(e,p,t,0,n,m)),g>1&&Vn(e,t,1,r)&&(f=!0,m=as(e,p,t,1,r,m)),g>2&&Vn(e,t,2,s)&&(f=!0,m=as(e,p,t,2,s,m)),g>3&&Vn(e,t,3,l)&&(f=!0,m=as(e,p,t,3,l,m)),g>4&&Vn(e,t,4,o)&&(f=!0,m=as(e,p,t,4,o,m)),g>5&&Vn(e,t,5,i)&&(f=!0,m=as(e,p,t,5,i,m)),g>6&&Vn(e,t,6,u)&&(f=!0,m=as(e,p,t,6,u,m)),g>7&&Vn(e,t,7,a)&&(f=!0,m=as(e,p,t,7,a,m)),g>8&&Vn(e,t,8,c)&&(f=!0,m=as(e,p,t,8,c,m)),g>9&&Vn(e,t,9,d)&&(f=!0,m=as(e,p,t,9,d,m)),m&&h.ngOnChanges(m),65536&t.flags&&In(e,256,t.nodeIndex)&&h.ngOnInit(),262144&t.flags&&h.ngDoCheck(),f}(e,t,n,r,s,l,o,i,u,a,c,d);case 32:case 64:case 128:return function(e,t,n,r,s,l,o,i,u,a,c,d){const p=t.bindings;let h=!1;const f=p.length;if(f>0&&Un(e,t,0,n)&&(h=!0),f>1&&Un(e,t,1,r)&&(h=!0),f>2&&Un(e,t,2,s)&&(h=!0),f>3&&Un(e,t,3,l)&&(h=!0),f>4&&Un(e,t,4,o)&&(h=!0),f>5&&Un(e,t,5,i)&&(h=!0),f>6&&Un(e,t,6,u)&&(h=!0),f>7&&Un(e,t,7,a)&&(h=!0),f>8&&Un(e,t,8,c)&&(h=!0),f>9&&Un(e,t,9,d)&&(h=!0),h){const h=On(e,t.nodeIndex);let m;switch(201347067&t.flags){case 32:m=new Array(p.length),f>0&&(m[0]=n),f>1&&(m[1]=r),f>2&&(m[2]=s),f>3&&(m[3]=l),f>4&&(m[4]=o),f>5&&(m[5]=i),f>6&&(m[6]=u),f>7&&(m[7]=a),f>8&&(m[8]=c),f>9&&(m[9]=d);break;case 64:m={},f>0&&(m[p[0].name]=n),f>1&&(m[p[1].name]=r),f>2&&(m[p[2].name]=s),f>3&&(m[p[3].name]=l),f>4&&(m[p[4].name]=o),f>5&&(m[p[5].name]=i),f>6&&(m[p[6].name]=u),f>7&&(m[p[7].name]=a),f>8&&(m[p[8].name]=c),f>9&&(m[p[9].name]=d);break;case 128:const e=n;switch(f){case 1:m=e.transform(n);break;case 2:m=e.transform(r);break;case 3:m=e.transform(r,s);break;case 4:m=e.transform(r,s,l);break;case 5:m=e.transform(r,s,l,o);break;case 6:m=e.transform(r,s,l,o,i);break;case 7:m=e.transform(r,s,l,o,i,u);break;case 8:m=e.transform(r,s,l,o,i,u,a);break;case 9:m=e.transform(r,s,l,o,i,u,a,c);break;case 10:m=e.transform(r,s,l,o,i,u,a,c,d)}}h.value=m}return h}(e,t,n,r,s,l,o,i,u,a,c,d);default:throw"unreachable"}}(e,t,r,s,l,o,i,u,a,c,d,p):function(e,t,n){switch(201347067&t.flags){case 1:return function(e,t,n){let r=!1;for(let s=0;s<n.length;s++)Nl(e,t,s,n[s])&&(r=!0);return r}(e,t,n);case 2:return function(e,t,n){const r=t.bindings;let s=!1;for(let l=0;l<n.length;l++)Un(e,t,l,n[l])&&(s=!0);if(s){let s="";for(let e=0;e<n.length;e++)s+=Zl(n[e],r[e]);s=t.text.prefix+s;const l=Fn(e,t.nodeIndex).renderText;e.renderer.setValue(l,s)}return s}(e,t,n);case 16384:return function(e,t,n){const r=Dn(e,t.nodeIndex),s=r.instance;let l=!1,o=void 0;for(let i=0;i<n.length;i++)Vn(e,t,i,n[i])&&(l=!0,o=as(e,r,t,i,n[i],o));return o&&s.ngOnChanges(o),65536&t.flags&&In(e,256,t.nodeIndex)&&s.ngOnInit(),262144&t.flags&&s.ngDoCheck(),l}(e,t,n);case 32:case 64:case 128:return function(e,t,n){const r=t.bindings;let s=!1;for(let l=0;l<n.length;l++)Un(e,t,l,n[l])&&(s=!0);if(s){const s=On(e,t.nodeIndex);let l;switch(201347067&t.flags){case 32:l=n;break;case 64:l={};for(let s=0;s<n.length;s++)l[r[s].name]=n[s];break;case 128:const e=n[0],t=n.slice(1);l=e.transform(...t)}s.value=l}return s}(e,t,n);default:throw"unreachable"}}(e,t,r)}function ao(e){const t=e.def;if(4&t.nodeFlags)for(let n=0;n<t.nodes.length;n++){const r=t.nodes[n];if(4&r.flags){const t=Pn(e,n).template._projectedViews;if(t)for(let n=0;n<t.length;n++){const r=t[n];r.state|=32,Hn(r,e)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function co(e,t,n,r,s,l,o,i,u,a,c,d,p){return 0===n?function(e,t,n,r,s,l,o,i,u,a,c,d){const p=t.bindings.length;p>0&&Bn(e,t,0,n),p>1&&Bn(e,t,1,r),p>2&&Bn(e,t,2,s),p>3&&Bn(e,t,3,l),p>4&&Bn(e,t,4,o),p>5&&Bn(e,t,5,i),p>6&&Bn(e,t,6,u),p>7&&Bn(e,t,7,a),p>8&&Bn(e,t,8,c),p>9&&Bn(e,t,9,d)}(e,t,r,s,l,o,i,u,a,c,d,p):function(e,t,n){for(let r=0;r<n.length;r++)Bn(e,t,r,n[r])}(e,t,r),!1}function po(e,t){if(An(e,t.nodeIndex).dirty)throw Mn(qn.createDebugContext(e,t.nodeIndex),`Query ${t.query.id} not dirty`,`Query ${t.query.id} dirty`,0!=(1&e.state))}function ho(e){if(!(128&e.state)){if(go(e,fo.Destroy),mo(e,fo.Destroy),cs(e,131072),e.disposables)for(let t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(!(16&e.state))return;const t=Kn(e);if(t){const n=t.template._projectedViews;n&&(Mr(n,n.indexOf(e)),qn.dirtyParentQueries(e))}}(e),e.renderer.destroyNode&&function(e){const t=e.def.nodes.length;for(let n=0;n<t;n++){const t=e.def.nodes[n];1&t.flags?e.renderer.destroyNode(Pn(e,n).renderElement):2&t.flags?e.renderer.destroyNode(Fn(e,n).renderText):(67108864&t.flags||134217728&t.flags)&&An(e,n).destroy()}}(e),Zn(e)&&e.renderer.destroy(),e.state|=128}}const fo=function(){var e={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return e[e.CreateViewNodes]="CreateViewNodes",e[e.CheckNoChanges]="CheckNoChanges",e[e.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",e[e.CheckAndUpdate]="CheckAndUpdate",e[e.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",e[e.Destroy]="Destroy",e}();function mo(e,t){const n=e.def;if(33554432&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const s=n.nodes[r];33554432&s.flags?vo(Pn(e,r).componentView,t):0==(33554432&s.childFlags)&&(r+=s.childCount)}}function go(e,t){const n=e.def;if(16777216&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const s=n.nodes[r];if(16777216&s.flags){const n=Pn(e,r).viewContainer._embeddedViews;for(let e=0;e<n.length;e++)vo(n[e],t)}else 0==(16777216&s.childFlags)&&(r+=s.childCount)}}function vo(e,t){const n=e.state;switch(t){case fo.CheckNoChanges:0==(128&n)&&(12==(12&n)?oo(e):64&n&&bo(e,fo.CheckNoChangesProjectedViews));break;case fo.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?oo(e):64&n&&bo(e,t));break;case fo.CheckAndUpdate:0==(128&n)&&(12==(12&n)?io(e):64&n&&bo(e,fo.CheckAndUpdateProjectedViews));break;case fo.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?io(e):64&n&&bo(e,t));break;case fo.Destroy:ho(e);break;case fo.CreateViewNodes:lo(e)}}function bo(e,t){go(e,t),mo(e,t)}function yo(e,t,n,r){if(!(e.def.nodeFlags&t&&e.def.nodeFlags&n))return;const s=e.def.nodes.length;for(let l=0;l<s;l++){const s=e.def.nodes[l];if(s.flags&t&&s.flags&n)switch(qn.setCurrentNode(e,s.nodeIndex),r){case 0:Ll(e,s);break;case 1:po(e,s)}s.childFlags&t&&s.childFlags&n||(l+=s.childCount)}}let wo=!1;function xo(e,t,n,r,s,l){const o=s.injector.get(Jt);return to(Co(e,s,o,t,n),r,l)}function _o(e,t,n,r,s,l){const o=s.injector.get(Jt),i=Co(e,s,new ti(o),t,n),u=Oo(r);return Xo(jo.create,to,null,[i,u,l])}function Co(e,t,n,r,s){const l=t.injector.get(yt),o=t.injector.get(Mt),i=n.createRenderer(null,null);return{ngModule:t,injector:e,projectableNodes:r,selectorOrNode:s,sanitizer:l,rendererFactory:n,renderer:i,errorHandler:o}}function ko(e,t,n,r){const s=Oo(n);return Xo(jo.create,eo,null,[e,t,s,r])}function Mo(e,t,n,r){return n=Io.get(t.element.componentProvider.provider.token)||Oo(n),Xo(jo.create,no,null,[e,t,n,r])}function So(e,t,n,r){return Vr(e,t,n,function(e){const{hasOverrides:t,hasDeprecatedOverrides:n}=function(e){let t=!1,n=!1;return 0===To.size||(e.providers.forEach(e=>{const r=To.get(e.token);3840&e.flags&&r&&(t=!0,n=n||r.deprecatedBehavior)}),e.modules.forEach(e=>{Eo.forEach((r,s)=>{fe(s).providedIn===e&&(t=!0,n=n||r.deprecatedBehavior)})})),{hasOverrides:t,hasDeprecatedOverrides:n}}(e);return t?(function(e){for(let t=0;t<e.providers.length;t++){const r=e.providers[t];n&&(r.flags|=4096);const s=To.get(r.token);s&&(r.flags=-3841&r.flags|s.flags,r.deps=er(s.deps),r.value=s.value)}if(Eo.size>0){let t=new Set(e.modules);Eo.forEach((r,s)=>{if(t.has(fe(s).providedIn)){let t={token:s,flags:r.flags|(n?4096:0),deps:er(r.deps),value:r.value,index:e.providers.length};e.providers.push(t),e.providersByKey[$n(s)]=t}})}}(e=e.factory(()=>Rn)),e):e}(r))}const To=new Map,Eo=new Map,Io=new Map;function Fo(e){let t;To.set(e.token,e),"function"==typeof e.token&&(t=fe(e.token))&&"function"==typeof t.providedIn&&Eo.set(e.token,e)}function Po(e,t){const n=rr(t.viewDefFactory),r=rr(n.nodes[0].element.componentView);Io.set(e,r)}function Do(){To.clear(),Eo.clear(),Io.clear()}function Oo(e){if(0===To.size)return e;const t=function(e){const t=[];let n=null;for(let r=0;r<e.nodes.length;r++){const s=e.nodes[r];1&s.flags&&(n=s),n&&3840&s.flags&&To.has(s.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory(()=>Rn);for(let r=0;r<t.length;r++)n(e,t[r]);return e;function n(e,t){for(let n=t+1;n<e.nodes.length;n++){const t=e.nodes[n];if(1&t.flags)return;if(3840&t.flags){const e=t.provider,n=To.get(e.token);n&&(t.flags=-3841&t.flags|n.flags,e.deps=er(n.deps),e.value=n.value)}}}}function Ao(e,t,n,r,s,l,o,i,u,a,c,d,p){const h=e.def.nodes[t];return uo(e,h,n,r,s,l,o,i,u,a,c,d,p),224&h.flags?On(e,t).value:void 0}function qo(e,t,n,r,s,l,o,i,u,a,c,d,p){const h=e.def.nodes[t];return co(e,h,n,r,s,l,o,i,u,a,c,d,p),224&h.flags?On(e,t).value:void 0}function Ro(e){return Xo(jo.detectChanges,io,null,[e])}function No(e){return Xo(jo.checkNoChanges,oo,null,[e])}function $o(e){return Xo(jo.destroy,ho,null,[e])}const jo=function(){var e={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return e[e.create]="create",e[e.detectChanges]="detectChanges",e[e.checkNoChanges]="checkNoChanges",e[e.destroy]="destroy",e[e.handleEvent]="handleEvent",e}();let Lo,Vo,Uo;function Bo(e,t){Vo=e,Uo=t}function zo(e,t,n,r){return Bo(e,t),Xo(jo.handleEvent,e.def.handleEvent,null,[e,t,n,r])}function Ho(e,t){if(128&e.state)throw Tn(jo[Lo]);return Bo(e,Qo(e,0)),e.def.updateDirectives((function(e,n,r,...s){const l=e.def.nodes[n];return 0===t?Ko(e,l,r,s):Go(e,l,r,s),16384&l.flags&&Bo(e,Qo(e,n)),224&l.flags?On(e,l.nodeIndex).value:void 0}),e)}function Wo(e,t){if(128&e.state)throw Tn(jo[Lo]);return Bo(e,Zo(e,0)),e.def.updateRenderer((function(e,n,r,...s){const l=e.def.nodes[n];return 0===t?Ko(e,l,r,s):Go(e,l,r,s),3&l.flags&&Bo(e,Zo(e,n)),224&l.flags?On(e,l.nodeIndex).value:void 0}),e)}function Ko(e,t,n,r){if(uo(e,t,n,...r)){const l=1===n?r[0]:r;if(16384&t.flags){const n={};for(let e=0;e<t.bindings.length;e++){const r=t.bindings[e],o=l[e];8&r.flags&&(n[(s=r.nonMinifiedName,"ng-reflect-"+s.replace(/[$@]/g,"_").replace(St,(...e)=>"-"+e[1].toLowerCase()))]=Tt(o))}const r=t.parent,o=Pn(e,r.nodeIndex).renderElement;if(r.element.name)for(let t in n){const r=n[t];null!=r?e.renderer.setAttribute(o,t,r):e.renderer.removeAttribute(o,t)}else e.renderer.setValue(o,"bindings="+JSON.stringify(n,null,2))}}var s}function Go(e,t,n,r){co(e,t,n,...r)}function Qo(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(16384&t.flags&&t.bindings&&t.bindings.length)return n}return null}function Zo(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(3&t.flags&&t.bindings&&t.bindings.length)return n}return null}class Jo{constructor(e,t){this.view=e,this.nodeIndex=t,null==t&&(this.nodeIndex=t=0),this.nodeDef=e.def.nodes[t];let n=this.nodeDef,r=e;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=Gn(r),r=r.parent;this.elDef=n,this.elView=r}get elOrCompView(){return Pn(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return Rr(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const e=[];if(this.elDef)for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e}get references(){const e={};if(this.elDef){Yo(this.elView,this.elDef,e);for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&Yo(this.elView,n,e),t+=n.childCount}}return e}get componentRenderElement(){const e=function(e){for(;e&&!Zn(e);)e=e.parent;return e.parent?Pn(e.parent,Gn(e).nodeIndex):null}(this.elOrCompView);return e?e.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?Qn(this.view,this.nodeDef):Qn(this.elView,this.elDef)}logError(e,...t){let n,r;2&this.nodeDef.flags?(n=this.view.def,r=this.nodeDef.nodeIndex):(n=this.elView.def,r=this.elDef.nodeIndex);const s=function(e,t){let n=-1;for(let r=0;r<=t;r++)3&e.nodes[r].flags&&n++;return n}(n,r);let l=-1;n.factory(()=>(l++,l===s?e.error.bind(e,...t):Rn)),l<s&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error(...t))}}function Yo(e,t,n){for(let r in t.references)n[r]=Ul(e,t,t.references[r])}function Xo(e,t,n,r){const s=Lo,l=Vo,o=Uo;try{Lo=e;const i=t.apply(n,r);return Vo=l,Uo=o,Lo=s,i}catch(i){if(_t(i)||!Vo)throw i;throw function(e,t){return e instanceof Error||(e=new Error(e.toString())),Sn(e,t),e}(i,ei())}}function ei(){return Vo?new Jo(Vo,Uo):null}class ti{constructor(e){this.delegate=e}createRenderer(e,t){return new ni(this.delegate.createRenderer(e,t))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class ni{constructor(e){this.delegate=e,this.debugContextFactory=ei,this.data=this.delegate.data}createDebugContext(e){return this.debugContextFactory(e)}destroyNode(e){!function(e){Cl.delete(e.nativeNode)}(kl(e)),this.delegate.destroyNode&&this.delegate.destroyNode(e)}destroy(){this.delegate.destroy()}createElement(e,t){const n=this.delegate.createElement(e,t),r=this.createDebugContext(n);if(r){const t=new _l(n,null,r);t.name=e,Ml(t)}return n}createComment(e){const t=this.delegate.createComment(e),n=this.createDebugContext(t);return n&&Ml(new xl(t,null,n)),t}createText(e){const t=this.delegate.createText(e),n=this.createDebugContext(t);return n&&Ml(new xl(t,null,n)),t}appendChild(e,t){const n=kl(e),r=kl(t);n&&r&&n instanceof _l&&n.addChild(r),this.delegate.appendChild(e,t)}insertBefore(e,t,n){const r=kl(e),s=kl(t),l=kl(n);r&&s&&r instanceof _l&&r.insertBefore(l,s),this.delegate.insertBefore(e,t,n)}removeChild(e,t){const n=kl(e),r=kl(t);n&&r&&n instanceof _l&&n.removeChild(r),this.delegate.removeChild(e,t)}selectRootElement(e,t){const n=this.delegate.selectRootElement(e,t),r=ei();return r&&Ml(new _l(n,null,r)),n}setAttribute(e,t,n,r){const s=kl(e);s&&s instanceof _l&&(s.attributes[r?r+":"+t:t]=n),this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){const r=kl(e);r&&r instanceof _l&&(r.attributes[n?n+":"+t:t]=null),this.delegate.removeAttribute(e,t,n)}addClass(e,t){const n=kl(e);n&&n instanceof _l&&(n.classes[t]=!0),this.delegate.addClass(e,t)}removeClass(e,t){const n=kl(e);n&&n instanceof _l&&(n.classes[t]=!1),this.delegate.removeClass(e,t)}setStyle(e,t,n,r){const s=kl(e);s&&s instanceof _l&&(s.styles[t]=n),this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){const r=kl(e);r&&r instanceof _l&&(r.styles[t]=null),this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){const r=kl(e);r&&r instanceof _l&&(r.properties[t]=n),this.delegate.setProperty(e,t,n)}listen(e,t,n){if("string"!=typeof e){const r=kl(e);r&&r.listeners.push(new wl(t,n))}return this.delegate.listen(e,t,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setValue(e,t){return this.delegate.setValue(e,t)}}function ri(e,t,n){return new si(e,t,n)}class si extends Wt{constructor(e,t,n){super(),this.moduleType=e,this._bootstrapComponents=t,this._ngModuleDefFactory=n}create(e){!function(){if(wo)return;wo=!0;const e=Ze()?{setCurrentNode:Bo,createRootView:_o,createEmbeddedView:ko,createComponentView:Mo,createNgModuleRef:So,overrideProvider:Fo,overrideComponentView:Po,clearOverrides:Do,checkAndUpdateView:Ro,checkNoChangesView:No,destroyView:$o,createDebugContext:(e,t)=>new Jo(e,t),handleEvent:zo,updateDirectives:Ho,updateRenderer:Wo}:{setCurrentNode:()=>{},createRootView:xo,createEmbeddedView:eo,createComponentView:no,createNgModuleRef:Vr,overrideProvider:Rn,overrideComponentView:Rn,clearOverrides:Rn,checkAndUpdateView:io,checkNoChangesView:oo,destroyView:ho,createDebugContext:(e,t)=>new Jo(e,t),handleEvent:(e,t,n,r)=>e.def.handleEvent(e,t,n,r),updateDirectives:(e,t)=>e.def.updateDirectives(0===t?Ao:qo,e),updateRenderer:(e,t)=>e.def.updateRenderer(0===t?Ao:qo,e)};qn.setCurrentNode=e.setCurrentNode,qn.createRootView=e.createRootView,qn.createEmbeddedView=e.createEmbeddedView,qn.createComponentView=e.createComponentView,qn.createNgModuleRef=e.createNgModuleRef,qn.overrideProvider=e.overrideProvider,qn.overrideComponentView=e.overrideComponentView,qn.clearOverrides=e.clearOverrides,qn.checkAndUpdateView=e.checkAndUpdateView,qn.checkNoChangesView=e.checkNoChangesView,qn.destroyView=e.destroyView,qn.resolveDep=is,qn.createDebugContext=e.createDebugContext,qn.handleEvent=e.handleEvent,qn.updateDirectives=e.updateDirectives,qn.updateRenderer=e.updateRenderer,qn.dirtyParentQueries=jl}();const t=function(e){const t=Array.from(e.providers),n=Array.from(e.modules),r={};for(const s in e.providersByKey)r[s]=e.providersByKey[s];return{factory:e.factory,isRoot:e.isRoot,providers:t,modules:n,providersByKey:r}}(rr(this._ngModuleDefFactory));return qn.createNgModuleRef(this.moduleType,e||Ne.NULL,this._bootstrapComponents,t)}}class li{}class oi{}class ii{}const ui=new Me("Location Initialized");class ai{}const ci=new Me("appBaseHref");let di=(()=>{class e{constructor(t,n){this._subject=new ws,this._urlChangeListeners=[],this._platformStrategy=t;const r=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=e.stripTrailingSlash(pi(r)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,n=""){return this.path()==this.normalize(t+e.normalizeQueryParams(n))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,pi(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(t,n="",r=null){this._platformStrategy.pushState(r,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+e.normalizeQueryParams(n)),r)}replaceState(t,n="",r=null){this._platformStrategy.replaceState(r,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+e.normalizeQueryParams(n)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(e){this._urlChangeListeners.push(e),this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)})}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}static normalizeQueryParams(e){return e&&"?"!==e[0]?"?"+e:e}static joinWithSlash(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}static stripTrailingSlash(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}}return e})();function pi(e){return e.replace(/\/index.html$/,"")}let hi=(()=>class extends ai{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",null!=t&&(this._baseHref=t)}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=di.joinWithSlash(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,r){let s=this.prepareExternalUrl(n+di.normalizeQueryParams(r));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,t,s)}replaceState(e,t,n,r){let s=this.prepareExternalUrl(n+di.normalizeQueryParams(r));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}})(),fi=(()=>class extends ai{constructor(e,t){if(super(),this._platformLocation=e,null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return di.joinWithSlash(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+di.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,r){const s=this.prepareExternalUrl(n+di.normalizeQueryParams(r));this._platformLocation.pushState(e,t,s)}replaceState(e,t,n,r){const s=this.prepareExternalUrl(n+di.normalizeQueryParams(r));this._platformLocation.replaceState(e,t,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}})();const mi=function(){var e={Decimal:0,Percent:1,Currency:2,Scientific:3};return e[e.Decimal]="Decimal",e[e.Percent]="Percent",e[e.Currency]="Currency",e[e.Scientific]="Scientific",e}(),gi=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),vi=function(){var e={Format:0,Standalone:1};return e[e.Format]="Format",e[e.Standalone]="Standalone",e}(),bi=function(){var e={Narrow:0,Abbreviated:1,Wide:2,Short:3};return e[e.Narrow]="Narrow",e[e.Abbreviated]="Abbreviated",e[e.Wide]="Wide",e[e.Short]="Short",e}(),yi=function(){var e={Short:0,Medium:1,Long:2,Full:3};return e[e.Short]="Short",e[e.Medium]="Medium",e[e.Long]="Long",e[e.Full]="Full",e}(),wi=function(){var e={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return e[e.Decimal]="Decimal",e[e.Group]="Group",e[e.List]="List",e[e.PercentSign]="PercentSign",e[e.PlusSign]="PlusSign",e[e.MinusSign]="MinusSign",e[e.Exponential]="Exponential",e[e.SuperscriptingExponent]="SuperscriptingExponent",e[e.PerMille]="PerMille",e[e.Infinity]="Infinity",e[e.NaN]="NaN",e[e.TimeSeparator]="TimeSeparator",e[e.CurrencyDecimal]="CurrencyDecimal",e[e.CurrencyGroup]="CurrencyGroup",e}();function xi(e,t,n){const r=bs(e),s=Ei([r[ms.DaysFormat],r[ms.DaysStandalone]],t);return Ei(s,n)}function _i(e,t,n){const r=bs(e),s=Ei([r[ms.MonthsFormat],r[ms.MonthsStandalone]],t);return Ei(s,n)}function Ci(e,t){return Ei(bs(e)[ms.DateFormat],t)}function ki(e,t){return Ei(bs(e)[ms.TimeFormat],t)}function Mi(e,t){return Ei(bs(e)[ms.DateTimeFormat],t)}function Si(e,t){const n=bs(e),r=n[ms.NumberSymbols][t];if(void 0===r){if(t===wi.CurrencyDecimal)return n[ms.NumberSymbols][wi.Decimal];if(t===wi.CurrencyGroup)return n[ms.NumberSymbols][wi.Group]}return r}function Ti(e){if(!e[ms.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[ms.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ei(e,t){for(let n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function Ii(e){const[t,n]=e.split(":");return{hours:+t,minutes:+n}}const Fi=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Pi={},Di=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Oi=function(){var e={Short:0,ShortGMT:1,Long:2,Extended:3};return e[e.Short]="Short",e[e.ShortGMT]="ShortGMT",e[e.Long]="Long",e[e.Extended]="Extended",e}(),Ai=function(){var e={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return e[e.FullYear]="FullYear",e[e.Month]="Month",e[e.Date]="Date",e[e.Hours]="Hours",e[e.Minutes]="Minutes",e[e.Seconds]="Seconds",e[e.FractionalSeconds]="FractionalSeconds",e[e.Day]="Day",e}(),qi=function(){var e={DayPeriods:0,Days:1,Months:2,Eras:3};return e[e.DayPeriods]="DayPeriods",e[e.Days]="Days",e[e.Months]="Months",e[e.Eras]="Eras",e}();function Ri(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,(function(e,n){return null!=t&&n in t?t[n]:e}))),e}function Ni(e,t,n="-",r,s){let l="";(e<0||s&&e<=0)&&(s?e=1-e:(e=-e,l=n));let o=String(e);for(;o.length<t;)o="0"+o;return r&&(o=o.substr(o.length-t)),l+o}function $i(e,t,n=0,r=!1,s=!1){return function(l,o){let i=function(e,t){switch(e){case Ai.FullYear:return t.getFullYear();case Ai.Month:return t.getMonth();case Ai.Date:return t.getDate();case Ai.Hours:return t.getHours();case Ai.Minutes:return t.getMinutes();case Ai.Seconds:return t.getSeconds();case Ai.FractionalSeconds:return t.getMilliseconds();case Ai.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,l);if((n>0||i>-n)&&(i+=n),e===Ai.Hours)0===i&&-12===n&&(i=12);else if(e===Ai.FractionalSeconds)return u=t,Ni(i,3).substr(0,u);var u;const a=Si(o,wi.MinusSign);return Ni(i,t,a,r,s)}}function ji(e,t,n=vi.Format,r=!1){return function(s,l){return function(e,t,n,r,s,l){switch(n){case qi.Months:return _i(t,s,r)[e.getMonth()];case qi.Days:return xi(t,s,r)[e.getDay()];case qi.DayPeriods:const o=e.getHours(),i=e.getMinutes();if(l){const e=function(e){const t=bs(e);return Ti(t),(t[ms.ExtraData][2]||[]).map(e=>"string"==typeof e?Ii(e):[Ii(e[0]),Ii(e[1])])}(t),n=function(e,t,n){const r=bs(e);Ti(r);const s=Ei([r[ms.ExtraData][0],r[ms.ExtraData][1]],t)||[];return Ei(s,n)||[]}(t,s,r);let l;if(e.forEach((e,t)=>{if(Array.isArray(e)){const{hours:r,minutes:s}=e[0],{hours:u,minutes:a}=e[1];o>=r&&i>=s&&(o<u||o===u&&i<a)&&(l=n[t])}else{const{hours:r,minutes:s}=e;r===o&&s===i&&(l=n[t])}}),l)return l}return function(e,t,n){const r=bs(e),s=Ei([r[ms.DayPeriodsFormat],r[ms.DayPeriodsStandalone]],t);return Ei(s,n)}(t,s,r)[o<12?0:1];case qi.Eras:return function(e,t){return Ei(bs(e)[ms.Eras],t)}(t,r)[e.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(s,l,e,t,n,r)}}function Li(e){return function(t,n,r){const s=-1*r,l=Si(n,wi.MinusSign),o=s>0?Math.floor(s/60):Math.ceil(s/60);switch(e){case Oi.Short:return(s>=0?"+":"")+Ni(o,2,l)+Ni(Math.abs(s%60),2,l);case Oi.ShortGMT:return"GMT"+(s>=0?"+":"")+Ni(o,1,l);case Oi.Long:return"GMT"+(s>=0?"+":"")+Ni(o,2,l)+":"+Ni(Math.abs(s%60),2,l);case Oi.Extended:return 0===r?"Z":(s>=0?"+":"")+Ni(o,2,l)+":"+Ni(Math.abs(s%60),2,l);default:throw new Error(`Unknown zone width "${e}"`)}}}function Vi(e,t=!1){return function(n,r){let s;if(t){const e=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,t=n.getDate();s=1+Math.floor((t+e)/7)}else{const e=function(e){const t=new Date(e,0,1).getDay();return new Date(e,0,1+(t<=4?4:11)-t)}(n.getFullYear()),t=(l=n,new Date(l.getFullYear(),l.getMonth(),l.getDate()+(4-l.getDay()))).getTime()-e.getTime();s=1+Math.round(t/6048e5)}var l;return Ni(s,e,Si(r,wi.MinusSign))}}const Ui={};function Bi(e,t){e=e.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function zi(e){return e instanceof Date&&!isNaN(e.valueOf())}const Hi=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Wi(e){const t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}const Ki=new Me("UseV4Plurals");class Gi{}let Qi=(()=>class extends Gi{constructor(e,t){super(),this.locale=e,this.deprecatedPluralFn=t}getPluralCategory(e,t){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(t||this.locale,e):function(e){return bs(e)[ms.PluralCase]}(t||this.locale)(e)){case gi.Zero:return"zero";case gi.One:return"one";case gi.Two:return"two";case gi.Few:return"few";case gi.Many:return"many";default:return"other"}}})();class Zi{}let Ji=(()=>class{constructor(e,t,n,r){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=r,this._initialClasses=[]}getValue(){return null}setClass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}setNgClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Ot(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}applyChanges(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+ge(e.item));this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}})(),Yi=(()=>{class e{constructor(e){this._delegate=e}getValue(){return this._delegate.getValue()}}return e.ngDirectiveDef=void 0,e})(),Xi=(()=>class extends Yi{constructor(e){super(e)}set klass(e){this._delegate.setClass(e)}set ngClass(e){this._delegate.setNgClass(e)}ngDoCheck(){this._delegate.applyChanges()}})();class eu{constructor(e,t,n,r){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let tu=(()=>class{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){Ze()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(e)}. See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information.`),this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${n}' of type '${e=n,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,r)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new eu(null,this._ngForOf,-1,-1),r),s=new nu(e,n);t.push(s)}else if(null==r)this._viewContainer.remove(n);else{const s=this._viewContainer.get(n);this._viewContainer.move(s,r);const l=new nu(e,s);t.push(l)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=r,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}})();class nu{constructor(e,t){this.record=e,this.view=t}}let ru=(()=>class{constructor(e,t){this._viewContainer=e,this._context=new su,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){lu("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){lu("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}})();class su{constructor(){this.$implicit=null,this.ngIf=null}}function lu(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${ge(t)}'.`)}class ou{}let iu=(()=>class{constructor(e,t,n){this._ngEl=e,this._differs=t,this._renderer=n}getValue(){return null}setNgStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}applyChanges(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_applyChanges(e){e.forEachRemovedItem(e=>this._setStyle(e.key,null)),e.forEachAddedItem(e=>this._setStyle(e.key,e.currentValue)),e.forEachChangedItem(e=>this._setStyle(e.key,e.currentValue))}_setStyle(e,t){const[n,r]=e.split(".");null!=(t=null!=t&&r?`${t}${r}`:t)?this._renderer.setStyle(this._ngEl.nativeElement,n,t):this._renderer.removeStyle(this._ngEl.nativeElement,n)}})(),uu=(()=>{class e{constructor(e){this._delegate=e}getValue(){return this._delegate.getValue()}}return e.ngDirectiveDef=void 0,e})(),au=(()=>class extends uu{constructor(e){super(e)}set ngStyle(e){this._delegate.setNgStyle(e)}ngDoCheck(){this._delegate.applyChanges()}})(),cu=(()=>class{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){this._shouldRecreateView(e)?(this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this.ngTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext))):this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(e){const t=e.ngTemplateOutletContext;return!!e.ngTemplateOutlet||t&&this._hasContextShapeChanged(t)}_hasContextShapeChanged(e){const t=Object.keys(e.previousValue||{}),n=Object.keys(e.currentValue||{});if(t.length===n.length){for(let e of n)if(-1===t.indexOf(e))return!0;return!1}return!0}_updateExistingContext(e){for(let t of Object.keys(e))this._viewRef.context[t]=this.ngTemplateOutletContext[t]}})(),du=(()=>{class e{constructor(e){this._locale=e}transform(t,n,r){if(function(e){return null==e||""===e||e!=e}(t))return null;r=r||this._locale;try{return function(e,t,n){return function(e,t,n,r,s,l,o=!1){let i="",u=!1;if(isFinite(e)){let a=function(e){let t,n,r,s,l,o=Math.abs(e)+"",i=0;for((n=o.indexOf("."))>-1&&(o=o.replace(".","")),(r=o.search(/e/i))>0?(n<0&&(n=r),n+=+o.slice(r+1),o=o.substring(0,r)):n<0&&(n=o.length),r=0;"0"===o.charAt(r);r++);if(r===(l=o.length))t=[0],n=1;else{for(l--;"0"===o.charAt(l);)l--;for(n-=r,t=[],s=0;r<=l;r++,s++)t[s]=Number(o.charAt(r))}return n>22&&(t=t.splice(0,21),i=n-1,n=1),{digits:t,exponent:i,integerLen:n}}(e);o&&(a=function(e){if(0===e.digits[0])return e;const t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(a));let c=t.minInt,d=t.minFrac,p=t.maxFrac;if(l){const e=l.match(Hi);if(null===e)throw new Error(l+" is not a valid digit info");const t=e[1],n=e[3],r=e[5];null!=t&&(c=Wi(t)),null!=n&&(d=Wi(n)),null!=r?p=Wi(r):null!=n&&d>p&&(p=d)}!function(e,t,n){if(t>n)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${n}).`);let r=e.digits,s=r.length-e.integerLen;const l=Math.min(Math.max(t,s),n);let o=l+e.integerLen,i=r[o];if(o>0){r.splice(Math.max(e.integerLen,o));for(let e=o;e<r.length;e++)r[e]=0}else{s=Math.max(0,s),e.integerLen=1,r.length=Math.max(1,o=l+1),r[0]=0;for(let e=1;e<o;e++)r[e]=0}if(i>=5)if(o-1<0){for(let t=0;t>o;t--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[o-1]++;for(;s<Math.max(0,l);s++)r.push(0);let u=0!==l;const a=t+e.integerLen,c=r.reduceRight((function(e,t,n,r){return r[n]=(t+=e)<10?t:t-10,u&&(0===r[n]&&n>=a?r.pop():u=!1),t>=10?1:0}),0);c&&(r.unshift(c),e.integerLen++)}(a,d,p);let h=a.digits,f=a.integerLen;const m=a.exponent;let g=[];for(u=h.every(e=>!e);f<c;f++)h.unshift(0);for(;f<0;f++)h.unshift(0);f>0?g=h.splice(f,h.length):(g=h,h=[0]);const v=[];for(h.length>=t.lgSize&&v.unshift(h.splice(-t.lgSize,h.length).join(""));h.length>t.gSize;)v.unshift(h.splice(-t.gSize,h.length).join(""));h.length&&v.unshift(h.join("")),i=v.join(Si(n,r)),g.length&&(i+=Si(n,s)+g.join("")),m&&(i+=Si(n,wi.Exponential)+"+"+m)}else i=Si(n,wi.Infinity);return i=e<0&&!u?t.negPre+i+t.negSuf:t.posPre+i+t.posSuf,i}(e,function(e,t="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(";"),s=r[0],l=r[1],o=-1!==s.indexOf(".")?s.split("."):[s.substring(0,s.lastIndexOf("0")+1),s.substring(s.lastIndexOf("0")+1)],i=o[0],u=o[1]||"";n.posPre=i.substr(0,i.indexOf("#"));for(let c=0;c<u.length;c++){const e=u.charAt(c);"0"===e?n.minFrac=n.maxFrac=c+1:"#"===e?n.maxFrac=c+1:n.posSuf+=e}const a=i.split(",");if(n.gSize=a[1]?a[1].length:0,n.lgSize=a[2]||a[1]?(a[2]||a[1]).length:0,l){const e=s.length-n.posPre.length-n.posSuf.length,t=l.indexOf("#");n.negPre=l.substr(0,t).replace(/'/g,""),n.negSuf=l.substr(t+e).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}(function(e,t){return bs(e)[ms.NumberFormats][t]}(t,mi.Decimal),Si(t,wi.MinusSign)),t,wi.Group,wi.Decimal,n)}(function(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(e+" is not a number");return e}(t),r,n)}catch(s){throw function(e,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${ge(e)}'`)}(e,s.message)}}}return e})(),pu=(()=>class{})();const hu=new Me("DocumentToken");let fu=(()=>{class e{}return e.ngInjectableDef=he({token:e,providedIn:"root",factory:()=>new mu(De(hu),window,De(Mt))}),e})();class mu{constructor(e,t,n){this.document=e,this.window=t,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const t=this.document.querySelector("#"+e);if(t)return void this.scrollToElement(t);const n=this.document.querySelector(`[name='${e}']`);if(n)return void this.scrollToElement(n)}catch(t){this.errorHandler.handleError(t)}}}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(n-s[0],r-s[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}const gu=new x(e=>e.complete());function vu(e){return e?function(e){return new x(t=>e.schedule(()=>t.complete()))}(e):gu}function bu(e){const t=new x(t=>{t.next(e),t.complete()});return t._isScalar=!0,t.value=e,t}function yu(...e){let t=e[e.length-1];switch(I(t)?e.pop():t=void 0,e.length){case 0:return vu(t);case 1:return t?H(e,t):bu(e[0]);default:return H(e,t)}}class wu extends T{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new k;return this._value}next(e){super.next(this._value=e)}}function xu(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}xu.prototype=Object.create(Error.prototype);const _u=xu,Cu={};function ku(...e){let t=null,n=null;return I(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&u(e[0])&&(e=e[0]),H(e,n).lift(new Mu(t))}class Mu{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new Su(e,this.resultSelector))}}class Su extends V{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(Cu),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++){const t=e[n];this.add(L(this,t,t,n))}}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n,r,s){const l=this.values,o=this.toRespond?l[n]===Cu?--this.toRespond:this.toRespond:0;l[n]=t,0===o&&(this.resultSelector?this._tryResultSelector(l):this.destination.next(l.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}function Tu(e){return new x(t=>{let n;try{n=e()}catch(r){return void t.error(r)}return(n?W(n):vu()).subscribe(t)})}function Eu(){return J(1)}function Iu(e,t){return function(n){return n.lift(new Fu(e,t))}}class Fu{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Pu(e,this.predicate,this.thisArg))}}class Pu extends m{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}function Du(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}Du.prototype=Object.create(Error.prototype);const Ou=Du;function Au(e){return function(t){return 0===e?vu():t.lift(new qu(e))}}class qu{constructor(e){if(this.total=e,this.total<0)throw new Ou}call(e,t){return t.subscribe(new Ru(e,this.total))}}class Ru extends m{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let s=0;s<n;s++){const s=t++%n;e.next(r[s])}}e.complete()}}function Nu(e,t,n){return function(r){return r.lift(new $u(e,t,n))}}class $u{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new ju(e,this.nextOrObserver,this.error,this.complete))}}class ju extends m{constructor(e,t,n,s){super(e),this._tapNext=b,this._tapError=b,this._tapComplete=b,this._tapError=n||b,this._tapComplete=s||b,r(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||b,this._tapError=t.error||b,this._tapComplete=t.complete||b)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}const Lu=(e=Vu)=>Nu({hasValue:!1,next(){this.hasValue=!0},complete(){if(!this.hasValue)throw e()}});function Vu(){return new _u}function Uu(e=null){return t=>t.lift(new Bu(e))}class Bu{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new zu(e,this.defaultValue))}}class zu extends m{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Hu(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Iu((t,n)=>e(t,n,r)):Z,Au(1),n?Uu(t):Lu(()=>new _u))}function Wu(e){return function(t){const n=new Ku(e),r=t.lift(n);return n.caught=r}}class Ku{constructor(e){this.selector=e}call(e,t){return t.subscribe(new Gu(e,this.selector,this.caught))}}class Gu extends V{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const r=new F(this,void 0,void 0);this.add(r),L(this,n,void 0,void 0,r)}}}function Qu(e){return t=>0===e?vu():t.lift(new Zu(e))}class Zu{constructor(e){if(this.total=e,this.total<0)throw new Ou}call(e,t){return t.subscribe(new Ju(e,this.total))}}class Ju extends m{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}function Yu(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Iu((t,n)=>e(t,n,r)):Z,Qu(1),n?Uu(t):Lu(()=>new _u))}class Xu{constructor(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}call(e,t){return t.subscribe(new ea(e,this.predicate,this.thisArg,this.source))}}class ea extends m{constructor(e,t,n,r){super(e),this.predicate=t,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(e){this.destination.next(e),this.destination.complete()}_next(e){let t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function ta(e,t){return"function"==typeof t?n=>n.pipe(ta((n,r)=>W(e(n,r)).pipe(U((e,s)=>t(n,e,r,s))))):t=>t.lift(new na(e))}class na{constructor(e){this.project=e}call(e,t){return t.subscribe(new ra(e,this.project))}}class ra extends V{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,n)}_innerSub(e,t,n){const r=this.innerSubscription;r&&r.unsubscribe();const s=new F(this,void 0,void 0);this.destination.add(s),this.innerSubscription=L(this,e,t,n,s)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(e,t,n,r,s){this.destination.next(t)}}function sa(...e){return t=>{let n=e[e.length-1];I(n)?e.pop():n=null;const r=e.length;return function(...e){return Eu()(yu(...e))}(1!==r||n?r>0?H(e,n):vu(n):bu(e[0]),t)}}function la(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new oa(e,t,n))}}class oa{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new ia(e,this.accumulator,this.seed,this.hasSeed))}}class ia extends m{constructor(e,t,n,r){super(e),this.accumulator=t,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function ua(e,t){return K(e,t,1)}class aa{constructor(e){this.callback=e}call(e,t){return t.subscribe(new ca(e,this.callback))}}class ca extends m{constructor(e,t){super(e),this.add(new p(t))}}let da=null;function pa(){return da}const ha={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},fa={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ma={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ga=(()=>{if(ke.Node)return ke.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))}})();class va extends class extends class{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(e){this._attrToPropMap=e}}{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const e=this.createElement("div",document);if(null!=this.getStyle(e,"animationName"))this._animationPrefix="";else{const t=["Webkit","Moz","O","ms"];for(let n=0;n<t.length;n++)if(null!=this.getStyle(e,t[n]+"AnimationName")){this._animationPrefix="-"+t[n].toLowerCase()+"-";break}}const t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(t).forEach(n=>{null!=this.getStyle(e,n)&&(this._transitionEnd=t[n])})}catch(e){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(e){return e.getDistributedNodes()}resolveAndSetHref(e,t,n){e.href=null==n?t:t+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}{parse(e){throw new Error("parse not implemented")}static makeCurrent(){var e;e=new va,da||(da=e)}hasProperty(e,t){return t in e}setProperty(e,t,n){e[t]=n}getProperty(e,t){return e[t]}invoke(e,t,n){e[t](...n)}logError(e){window.console&&(console.error?console.error(e):console.log(e))}log(e){window.console&&window.console.log&&window.console.log(e)}logGroup(e){window.console&&window.console.group&&window.console.group(e)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return ha}contains(e,t){return ga.call(e,t)}querySelector(e,t){return e.querySelector(t)}querySelectorAll(e,t){return e.querySelectorAll(t)}on(e,t,n){e.addEventListener(t,n,!1)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}createMouseEvent(e){const t=this.getDefaultDocument().createEvent("MouseEvent");return t.initEvent(e,!0,!0),t}createEvent(e){const t=this.getDefaultDocument().createEvent("Event");return t.initEvent(e,!0,!0),t}preventDefault(e){e.preventDefault(),e.returnValue=!1}isPrevented(e){return e.defaultPrevented||null!=e.returnValue&&!e.returnValue}getInnerHTML(e){return e.innerHTML}getTemplateContent(e){return"content"in e&&this.isTemplateElement(e)?e.content:null}getOuterHTML(e){return e.outerHTML}nodeName(e){return e.nodeName}nodeValue(e){return e.nodeValue}type(e){return e.type}content(e){return this.hasProperty(e,"content")?e.content:e}firstChild(e){return e.firstChild}nextSibling(e){return e.nextSibling}parentElement(e){return e.parentNode}childNodes(e){return e.childNodes}childNodesAsList(e){const t=e.childNodes,n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=t[r];return n}clearNodes(e){for(;e.firstChild;)e.removeChild(e.firstChild)}appendChild(e,t){e.appendChild(t)}removeChild(e,t){e.removeChild(t)}replaceChild(e,t,n){e.replaceChild(t,n)}remove(e){return e.parentNode&&e.parentNode.removeChild(e),e}insertBefore(e,t,n){e.insertBefore(n,t)}insertAllBefore(e,t,n){n.forEach(n=>e.insertBefore(n,t))}insertAfter(e,t,n){e.insertBefore(n,t.nextSibling)}setInnerHTML(e,t){e.innerHTML=t}getText(e){return e.textContent}setText(e,t){e.textContent=t}getValue(e){return e.value}setValue(e,t){e.value=t}getChecked(e){return e.checked}setChecked(e,t){e.checked=t}createComment(e){return this.getDefaultDocument().createComment(e)}createTemplate(e){const t=this.getDefaultDocument().createElement("template");return t.innerHTML=e,t}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createElementNS(e,t,n){return(n=n||this.getDefaultDocument()).createElementNS(e,t)}createTextNode(e,t){return(t=t||this.getDefaultDocument()).createTextNode(e)}createScriptTag(e,t,n){const r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(e,t),r}createStyleElement(e,t){const n=(t=t||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(e,t)),n}createShadowRoot(e){return e.createShadowRoot()}getShadowRoot(e){return e.shadowRoot}getHost(e){return e.host}clone(e){return e.cloneNode(!0)}getElementsByClassName(e,t){return e.getElementsByClassName(t)}getElementsByTagName(e,t){return e.getElementsByTagName(t)}classList(e){return Array.prototype.slice.call(e.classList,0)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}hasClass(e,t){return e.classList.contains(t)}setStyle(e,t,n){e.style[t]=n}removeStyle(e,t){e.style[t]=""}getStyle(e,t){return e.style[t]}hasStyle(e,t,n){const r=this.getStyle(e,t)||"";return n?r==n:r.length>0}tagName(e){return e.tagName}attributeMap(e){const t=new Map,n=e.attributes;for(let r=0;r<n.length;r++){const e=n.item(r);t.set(e.name,e.value)}return t}hasAttribute(e,t){return e.hasAttribute(t)}hasAttributeNS(e,t,n){return e.hasAttributeNS(t,n)}getAttribute(e,t){return e.getAttribute(t)}getAttributeNS(e,t,n){return e.getAttributeNS(t,n)}setAttribute(e,t,n){e.setAttribute(t,n)}setAttributeNS(e,t,n,r){e.setAttributeNS(t,n,r)}removeAttribute(e,t){e.removeAttribute(t)}removeAttributeNS(e,t,n){e.removeAttributeNS(t,n)}templateAwareRoot(e){return this.isTemplateElement(e)?this.content(e):e}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(e){try{return e.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(e){return e.title}setTitle(e,t){e.title=t||""}elementMatches(e,t){return!!this.isElementNode(e)&&(e.matches&&e.matches(t)||e.msMatchesSelector&&e.msMatchesSelector(t)||e.webkitMatchesSelector&&e.webkitMatchesSelector(t))}isTemplateElement(e){return this.isElementNode(e)&&"TEMPLATE"===e.nodeName}isTextNode(e){return e.nodeType===Node.TEXT_NODE}isCommentNode(e){return e.nodeType===Node.COMMENT_NODE}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}hasShadowRoot(e){return null!=e.shadowRoot&&e instanceof HTMLElement}isShadowRoot(e){return e instanceof DocumentFragment}importIntoDoc(e){return document.importNode(this.templateAwareRoot(e),!0)}adoptNode(e){return document.adoptNode(e)}getHref(e){return e.getAttribute("href")}getEventKey(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&ma.hasOwnProperty(t)&&(t=ma[t]))}return fa[t]||t}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(e){const t=ya||(ya=document.querySelector("base"),ya)?ya.getAttribute("href"):null;return null==t?null:(n=t,ba||(ba=document.createElement("a")),ba.setAttribute("href",n),"/"===ba.pathname.charAt(0)?ba.pathname:"/"+ba.pathname);var n}resetBaseElement(){ya=null}getUserAgent(){return window.navigator.userAgent}setData(e,t,n){this.setAttribute(e,"data-"+t,n)}getData(e,t){return this.getAttribute(e,"data-"+t)}getComputedStyle(e){return getComputedStyle(e)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(e){return function(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[r,s]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,e)}setCookie(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)}}let ba,ya=null;function wa(){return!!window.history.pushState}let xa=(()=>{class e extends ii{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=pa().getLocation(),this._history=pa().getHistory()}getBaseHrefFromDOM(){return pa().getBaseHref(this._doc)}onPopState(e){pa().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}onHashChange(e){pa().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){wa()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){wa()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return e.ctorParameters=()=>[{type:void 0,decorators:[{type:ie,args:[hu]}]}],e})();const _a=new Me("TRANSITION_ID"),Ca=[{provide:Cs,useFactory:function(e,t,n){return()=>{n.get(ks).donePromise.then(()=>{const n=pa();Array.prototype.slice.apply(n.querySelectorAll(t,"style[ng-transition]")).filter(t=>n.getAttribute(t,"ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[_a,hu,Ne],multi:!0}];class ka{static init(){var e;e=new ka,ol=e}addToWindow(e){ke.getAngularTestability=(t,n=!0)=>{const r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},ke.getAllAngularTestabilities=()=>e.getAllTestabilities(),ke.getAllAngularRootElements=()=>e.getAllRootElements(),ke.frameworkStabilizers||(ke.frameworkStabilizers=[]),ke.frameworkStabilizers.push(e=>{const t=ke.getAllAngularTestabilities();let n=t.length,r=!1;const s=function(t){r=r||t,n--,0==n&&e(r)};t.forEach((function(e){e.whenStable(s)}))})}findTestabilityInTree(e,t,n){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:n?pa().isShadowRoot(t)?this.findTestabilityInTree(e,pa().getHost(t),!0):this.findTestabilityInTree(e,pa().parentElement(t),!0):null}}function Ma(e,t){"undefined"!=typeof COMPILED&&COMPILED||((ke.ng=ke.ng||{})[e]=t)}const Sa=(()=>({ApplicationRef:hl,NgZone:Qs}))();function Ta(e){return kl(e)}const Ea=new Me("EventManagerPlugins");let Ia=(()=>class{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let r=0;r<n.length;r++){const t=n[r];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error("No event manager plugin found for event "+e)}})();class Fa{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const r=pa().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,n)}}let Pa=(()=>class{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}})(),Da=(()=>class extends Pa{constructor(e){super(),this._doc=e,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(e.head)}_addStylesToHost(e,t){e.forEach(e=>{const n=this._doc.createElement("style");n.textContent=e,this._styleNodes.add(t.appendChild(n))})}addHost(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}removeHost(e){this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach(t=>this._addStylesToHost(e,t))}ngOnDestroy(){this._styleNodes.forEach(e=>pa().remove(e))}})();const Oa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Aa=/%COMP%/g;function qa(e,t,n){for(let r=0;r<t.length;r++){let s=t[r];Array.isArray(s)?qa(e,s,n):(s=s.replace(Aa,e),n.push(s))}return n}function Ra(e){return t=>{!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let Na=(()=>class{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new $a(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case We.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new Va(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case We.Native:case We.ShadowDom:return new Ua(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=qa(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}})();class $a{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Oa[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;const s=Oa[r];s?e.setAttributeNS(s,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const r=Oa[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,r){r&Yt.DashCase?e.style.setProperty(t,n,r&Yt.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&Yt.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){La(t,"property"),e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return La(t,"listener"),"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ra(n)):this.eventManager.addEventListener(e,t,Ra(n))}}const ja=(()=>"@".charCodeAt(0))();function La(e,t){if(e.charCodeAt(0)===ja)throw new Error(`Found the synthetic ${t} ${e}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class Va extends $a{constructor(e,t,n,r){super(e),this.component=n;const s=qa(r+"-"+n.id,n.styles,[]);t.addStyles(s),this.contentAttr="_ngcontent-%COMP%".replace(Aa,r+"-"+n.id),this.hostAttr=function(e){return"_nghost-%COMP%".replace(Aa,e)}(r+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class Ua extends $a{constructor(e,t,n,r){super(e),this.sharedStylesHost=t,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===We.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const s=qa(r.id,r.styles,[]);for(let l=0;l<s.length;l++){const e=document.createElement("style");e.textContent=s[l],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}const Ba=(()=>"undefined"!=typeof Zone&&Zone.__symbol__||function(e){return"__zone_symbol__"+e})(),za=Ba("addEventListener"),Ha=Ba("removeEventListener"),Wa={},Ka="__zone_symbol__propagationStopped",Ga=(()=>{const e="undefined"!=typeof Zone&&Zone[Ba("BLACK_LISTED_EVENTS")];if(e){const t={};return e.forEach(e=>{t[e]=e}),t}})(),Qa=function(e){return!!Ga&&Ga.hasOwnProperty(e)},Za=function(e){const t=Wa[e.type];if(!t)return;const n=this[t];if(!n)return;const r=[e];if(1===n.length){const e=n[0];return e.zone!==Zone.current?e.zone.run(e.handler,this,r):e.handler.apply(this,r)}{const t=n.slice();for(let n=0;n<t.length&&!0!==e[Ka];n++){const e=t[n];e.zone!==Zone.current?e.zone.run(e.handler,this,r):e.handler.apply(this,r)}}};let Ja=(()=>class extends Fa{constructor(e,t,n){super(e),this.ngZone=t,n&&function(e){return"server"===e}(n)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype.__zone_symbol__stopImmediatePropagation)return;const e=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[Ka]=!0),e&&e.apply(this,arguments)}}supports(e){return!0}addEventListener(e,t,n){let r=n;if(!e[za]||Qs.isInAngularZone()&&!Qa(t))e.addEventListener(t,r,!1);else{let n=Wa[t];n||(n=Wa[t]=Ba("ANGULAR"+t+"FALSE"));let s=e[n];const l=s&&s.length>0;s||(s=e[n]=[]);const o=Qa(t)?Zone.root:Zone.current;if(0===s.length)s.push({zone:o,handler:r});else{let e=!1;for(let t=0;t<s.length;t++)if(s[t].handler===r){e=!0;break}e||s.push({zone:o,handler:r})}l||e[za](t,Za,!1)}return()=>this.removeEventListener(e,t,r)}removeEventListener(e,t,n){let r=e[Ha];if(!r)return e.removeEventListener.apply(e,[t,n,!1]);let s=Wa[t],l=s&&e[s];if(!l)return e.removeEventListener.apply(e,[t,n,!1]);let o=!1;for(let i=0;i<l.length;i++)if(l[i].handler===n){o=!0,l.splice(i,1);break}o?0===l.length&&r.apply(e,[t,Za,!1]):e.removeEventListener.apply(e,[t,n,!1])}})();const Ya={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},Xa=new Me("HammerGestureConfig"),ec=new Me("HammerLoader");let tc=(()=>class{constructor(){this.events=[],this.overrides={}}buildHammer(e){const t=new Hammer(e,this.options);t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0});for(const n in this.overrides)t.get(n).set(this.overrides[n]);return t}})(),nc=(()=>class extends Fa{constructor(e,t,n,r){super(e),this._config=t,this.console=n,this.loader=r}supports(e){return!(!Ya.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${e}" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.`),1))}addEventListener(e,t,n){const r=this.manager.getZone();if(t=t.toLowerCase(),!window.Hammer&&this.loader){let r=!1,s=()=>{r=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(s=()=>{});r||(s=this.addEventListener(e,t,n))}).catch(()=>{this.console.warn(`The "${t}" event cannot be bound because the custom Hammer.JS loader failed.`),s=()=>{}}),()=>{s()}}return r.runOutsideAngular(()=>{const s=this._config.buildHammer(e),l=function(e){r.runGuarded((function(){n(e)}))};return s.on(t,l),()=>{s.off(t,l),"function"==typeof s.destroy&&s.destroy()}})}isCustomEvent(e){return this._config.events.indexOf(e)>-1}})();const rc=["alt","control","meta","shift"],sc={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let lc=(()=>{class e extends Fa{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,r){const s=e.parseEventName(n),l=e.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>pa().onAndCancel(t,s.domEventName,l))}static parseEventName(t){const n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const s=e._normalizeKey(n.pop());let l="";if(rc.forEach(e=>{const t=n.indexOf(e);t>-1&&(n.splice(t,1),l+=e+".")}),l+=s,0!=n.length||0===s.length)return null;const o={};return o.domEventName=r,o.fullKey=l,o}static getEventFullKey(e){let t="",n=pa().getEventKey(e);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),rc.forEach(r=>{r!=n&&(0,sc[r])(e)&&(t+=r+".")}),t+=n,t}static eventCallback(t,n,r){return s=>{e.getEventFullKey(s)===t&&r.runGuarded(()=>n(s))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e})();class oc{}let ic=(()=>class extends oc{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case bt.NONE:return t;case bt.HTML:return t instanceof ac?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"HTML"),function(e,t){let n=null;try{gt=gt||new Je(e);let r=t?String(t):"";n=gt.getInertBodyElement(r);let s=5,l=r;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,r=l,l=n.innerHTML,n=gt.getInertBodyElement(r)}while(r!==l);const o=new pt,i=o.sanitizeChildren(vt(n)||n);return Ze()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),i}finally{if(n){const e=vt(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}(this._doc,String(t)));case bt.STYLE:return t instanceof cc?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"Style"),function(e){if(!(e=String(e).trim()))return"";const t=e.match(xt);return t&&et(t[1])===t[1]||e.match(wt)&&function(e){let t=!0,n=!0;for(let r=0;r<e.length;r++){const s=e.charAt(r);"'"===s&&n?t=!t:'"'===s&&t&&(n=!n)}return t&&n}(e)?e:(Ze()&&console.warn(`WARNING: sanitizing unsafe style value ${e} (see http://g.co/ng/security#xss).`),"unsafe")}(t));case bt.SCRIPT:if(t instanceof dc)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"Script"),new Error("unsafe value used in a script context");case bt.URL:return t instanceof hc||t instanceof pc?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"URL"),et(String(t)));case bt.RESOURCE_URL:if(t instanceof hc)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(e,t){if(e instanceof uc)throw new Error(`Required a safe ${t}, got a ${e.getTypeName()} (see http://g.co/ng/security#xss)`)}bypassSecurityTrustHtml(e){return new ac(e)}bypassSecurityTrustStyle(e){return new cc(e)}bypassSecurityTrustScript(e){return new dc(e)}bypassSecurityTrustUrl(e){return new pc(e)}bypassSecurityTrustResourceUrl(e){return new hc(e)}})();class uc{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class ac extends uc{getTypeName(){return"HTML"}}class cc extends uc{getTypeName(){return"Style"}}class dc extends uc{getTypeName(){return"Script"}}class pc extends uc{getTypeName(){return"URL"}}class hc extends uc{getTypeName(){return"ResourceURL"}}const fc=al(Sl,"browser",[{provide:Is,useValue:"browser"},{provide:Es,useValue:function(){va.makeCurrent(),ka.init()},multi:!0},{provide:ii,useClass:xa,deps:[hu]},{provide:hu,useFactory:function(){return document},deps:[]}]);function mc(){return new Mt}let gc=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:Ms,useValue:t.appId},{provide:_a,useExisting:Ms},Ca]}}}return e})();"undefined"!=typeof window&&window;class vc{constructor(e,t){this.id=e,this.url=t}}class bc extends vc{constructor(e,t,n="imperative",r=null){super(e,t),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class yc extends vc{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class wc extends vc{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xc extends vc{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _c extends vc{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cc extends vc{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kc extends vc{constructor(e,t,n,r,s){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Mc extends vc{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sc extends vc{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tc{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ec{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ic{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fc{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pc{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dc{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oc{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Ac=(()=>class{})();class qc{constructor(e){this.params=e||{}}has(e){return this.params.hasOwnProperty(e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Rc(e){return new qc(e)}function Nc(e){const t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function $c(e,t,n){const r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const s={};for(let l=0;l<r.length;l++){const t=r[l],n=e[l];if(t.startsWith(":"))s[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,r.length),posParams:s}}class jc{constructor(e,t){this.routes=e,this.module=t}}function Lc(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];Vc(r,Uc(t,r))}}function Vc(e,t){if(!e)throw new Error(`\n      Invalid configuration of route '${t}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(e))throw new Error(`Invalid configuration of route '${t}': Array cannot be specified`);if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&"primary"!==e.outlet)throw new Error(`Invalid configuration of route '${t}': a componentless route without children or loadChildren cannot have a named outlet set`);if(e.redirectTo&&e.children)throw new Error(`Invalid configuration of route '${t}': redirectTo and children cannot be used together`);if(e.redirectTo&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': redirectTo and loadChildren cannot be used together`);if(e.children&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': children and loadChildren cannot be used together`);if(e.redirectTo&&e.component)throw new Error(`Invalid configuration of route '${t}': redirectTo and component cannot be used together`);if(e.path&&e.matcher)throw new Error(`Invalid configuration of route '${t}': path and matcher cannot be used together`);if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error(`Invalid configuration of route '${t}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===e.path&&void 0===e.matcher)throw new Error(`Invalid configuration of route '${t}': routes must have either a path or a matcher specified`);if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error(`Invalid configuration of route '${t}': path cannot start with a slash`);if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error(`Invalid configuration of route '{path: "${t}", redirectTo: "${e.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error(`Invalid configuration of route '${t}': pathMatch can only be set to 'prefix' or 'full'`);e.children&&Lc(e.children,t)}function Uc(e,t){return t?e||t.path?e&&!t.path?e+"/":!e&&t.path?t.path:`${e}/${t.path}`:"":e}function Bc(e){const t=e.children&&e.children.map(Bc),n=t?Object.assign({},e,{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Ac),n}function zc(e,t){const n=Object.keys(e),r=Object.keys(t);if(!n||!r||n.length!=r.length)return!1;let s;for(let l=0;l<n.length;l++)if(s=n[l],e[s]!==t[s])return!1;return!0}function Hc(e){return Array.prototype.concat.apply([],e)}function Wc(e){return e.length>0?e[e.length-1]:null}function Kc(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Gc(e){return Rt(e)?e:qt(e)?W(Promise.resolve(e)):yu(e)}function Qc(e,t,n){return n?function(e,t){return zc(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!Xc(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!t.children[r])return!1;if(!e(t.children[r],n.children[r]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>t[n]===e[n])}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,r,s){if(n.segments.length>s.length)return!!Xc(n.segments.slice(0,s.length),s)&&!r.hasChildren();if(n.segments.length===s.length){if(!Xc(n.segments,s))return!1;for(const t in r.children){if(!n.children[t])return!1;if(!e(n.children[t],r.children[t]))return!1}return!0}{const e=s.slice(0,n.segments.length),l=s.slice(n.segments.length);return!!Xc(n.segments,e)&&!!n.children.primary&&t(n.children.primary,r,l)}}(t,n,n.segments)}(e.root,t.root)}class Zc{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rc(this.queryParams)),this._queryParamMap}toString(){return rd.serialize(this)}}class Jc{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Kc(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sd(this)}}class Yc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Rc(this.parameters)),this._parameterMap}toString(){return cd(this)}}function Xc(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}function ed(e,t){let n=[];return Kc(e.children,(e,r)=>{"primary"===r&&(n=n.concat(t(e,r)))}),Kc(e.children,(e,r)=>{"primary"!==r&&(n=n.concat(t(e,r)))}),n}class td{}class nd{parse(e){const t=new md(e);return new Zc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){return`${"/"+function e(t,n){if(!t.hasChildren())return sd(t);if(n){const n=t.children.primary?e(t.children.primary,!1):"",r=[];return Kc(t.children,(t,n)=>{"primary"!==n&&r.push(`${n}:${e(t,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=ed(t,(n,r)=>"primary"===r?[e(t.children.primary,!1)]:[`${r}:${e(n,!1)}`]);return`${sd(t)}/(${n.join("//")})`}}(e.root,!0)}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${od(t)}=${od(e)}`).join("&"):`${od(t)}=${od(n)}`});return t.length?"?"+t.join("&"):""}(e.queryParams)}${"string"==typeof e.fragment?"#"+encodeURI(e.fragment):""}`}}const rd=new nd;function sd(e){return e.segments.map(e=>cd(e)).join("/")}function ld(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function od(e){return ld(e).replace(/%3B/gi,";")}function id(e){return ld(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ud(e){return decodeURIComponent(e)}function ad(e){return ud(e.replace(/\+/g,"%20"))}function cd(e){return`${id(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${id(e)}=${id(t[e])}`).join("")}`;var t}const dd=/^[^\/()?;=#]+/;function pd(e){const t=e.match(dd);return t?t[0]:""}const hd=/^[^=?&#]+/,fd=/^[^?&#]+/;class md{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Jc([],{}):new Jc([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new Jc(e,t)),n}parseSegment(){const e=pd(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Yc(ud(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=pd(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=pd(this.remaining);e&&(n=e,this.capture(n))}e[ud(t)]=ud(n)}parseQueryParam(e){const t=function(e){const t=e.match(hd);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(fd);return t?t[0]:""}(this.remaining);e&&(n=e,this.capture(n))}const r=ad(t),s=ad(n);if(e.hasOwnProperty(r)){let t=e[r];Array.isArray(t)||(t=[t],e[r]=t),t.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=pd(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s=void 0;n.indexOf(":")>-1?(s=n.substr(0,n.indexOf(":")),this.capture(s),this.capture(":")):e&&(s="primary");const l=this.parseChildren();t[s]=1===Object.keys(l).length?l.primary:new Jc([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class gd{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=vd(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=vd(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=bd(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return bd(e,this._root).map(e=>e.value)}}function vd(e,t){if(e===t.value)return t;for(const n of t.children){const t=vd(e,n);if(t)return t}return null}function bd(e,t){if(e===t.value)return[t];for(const n of t.children){const r=bd(e,n);if(r.length)return r.unshift(t),r}return[]}class yd{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function wd(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class xd extends gd{constructor(e,t){super(e),this.snapshot=t,Td(this,e)}toString(){return this.snapshot.toString()}}function _d(e,t){const n=function(e,t){const n=new Md([],{},{},"",{},"primary",t,null,e.root,-1,{});return new Sd("",new yd(n,[]))}(e,t),r=new wu([new Yc("",{})]),s=new wu({}),l=new wu({}),o=new wu({}),i=new wu(""),u=new Cd(r,s,o,i,l,"primary",t,n.root);return u.snapshot=n.root,new xd(new yd(u,[]),n)}class Cd{constructor(e,t,n,r,s,l,o,i){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=s,this.outlet=l,this.component=o,this._futureSnapshot=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(U(e=>Rc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(U(e=>Rc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function kd(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const e=n[r],t=n[r-1];if(e.routeConfig&&""===e.routeConfig.path)r--;else{if(t.component)break;r--}}return function(e){return e.reduce((e,t)=>({params:Object.assign({},e.params,t.params),data:Object.assign({},e.data,t.data),resolve:Object.assign({},e.resolve,t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Md{constructor(e,t,n,r,s,l,o,i,u,a,c){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=s,this.outlet=l,this.component=o,this.routeConfig=i,this._urlSegment=u,this._lastPathIndex=a,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Rc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Sd extends gd{constructor(e,t){super(t),this.url=e,Td(this,t)}toString(){return Ed(this._root)}}function Td(e,t){t.value._routerState=e,t.children.forEach(t=>Td(e,t))}function Ed(e){const t=e.children.length>0?` { ${e.children.map(Ed).join(", ")} } `:"";return`${e.value}${t}`}function Id(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,zc(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),zc(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!zc(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),zc(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Fd(e,t){var n,r;return zc(e.params,t.params)&&Xc(n=e.url,r=t.url)&&n.every((e,t)=>zc(e.parameters,r[t].parameters))&&!(!e.parent!=!t.parent)&&(!e.parent||Fd(e.parent,t.parent))}function Pd(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Dd(e,t,n,r,s){let l={};return r&&Kc(r,(e,t)=>{l[t]=Array.isArray(e)?e.map(e=>""+e):""+e}),new Zc(n.root===e?t:function e(t,n,r){const s={};return Kc(t.children,(t,l)=>{s[l]=t===n?r:e(t,n,r)}),new Jc(t.segments,s)}(n.root,e,t),l,s)}class Od{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&Pd(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(e=>"object"==typeof e&&null!=e&&e.outlets);if(r&&r!==Wc(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ad{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function qd(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets.primary:""+e}function Rd(e,t,n){if(e||(e=new Jc([],{})),0===e.segments.length&&e.hasChildren())return Nd(e,t,n);const r=function(e,t,n){let r=0,s=t;const l={match:!1,pathIndex:0,commandIndex:0};for(;s<e.segments.length;){if(r>=n.length)return l;const t=e.segments[s],o=qd(n[r]),i=r<n.length-1?n[r+1]:null;if(s>0&&void 0===o)break;if(o&&i&&"object"==typeof i&&void 0===i.outlets){if(!Vd(o,i,t))return l;r+=2}else{if(!Vd(o,{},t))return l;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(e,t,n),s=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const t=new Jc(e.segments.slice(0,r.pathIndex),{});return t.children.primary=new Jc(e.segments.slice(r.pathIndex),e.children),Nd(t,0,s)}return r.match&&0===s.length?new Jc(e.segments,{}):r.match&&!e.hasChildren()?$d(e,t,n):r.match?Nd(e,0,s):$d(e,t,n)}function Nd(e,t,n){if(0===n.length)return new Jc(e.segments,{});{const r=function(e){return"object"!=typeof e[0]||void 0===e[0].outlets?{primary:e}:e[0].outlets}(n),s={};return Kc(r,(n,r)=>{null!==n&&(s[r]=Rd(e.children[r],t,n))}),Kc(e.children,(e,t)=>{void 0===r[t]&&(s[t]=e)}),new Jc(e.segments,s)}}function $d(e,t,n){const r=e.segments.slice(0,t);let s=0;for(;s<n.length;){if("object"==typeof n[s]&&void 0!==n[s].outlets){const e=jd(n[s].outlets);return new Jc(r,e)}if(0===s&&Pd(n[0])){r.push(new Yc(e.segments[t].path,n[0])),s++;continue}const l=qd(n[s]),o=s<n.length-1?n[s+1]:null;l&&o&&Pd(o)?(r.push(new Yc(l,Ld(o))),s+=2):(r.push(new Yc(l,{})),s++)}return new Jc(r,{})}function jd(e){const t={};return Kc(e,(e,n)=>{null!==e&&(t[n]=$d(new Jc([],{}),0,e))}),t}function Ld(e){const t={};return Kc(e,(e,n)=>t[n]=""+e),t}function Vd(e,t,n){return e==n.path&&zc(t,n.parameters)}class Ud{constructor(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Id(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const r=wd(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,r[t],n),delete r[t]}),Kc(r,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const s=n.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,n);else s&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:r})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet);if(n){const r=wd(e),s=e.value.component?n.children:t;Kc(r,(e,t)=>this.deactivateRouteAndItsChildren(e,s)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(e,t,n){const r=wd(t);e.children.forEach(e=>{this.activateRoutes(e,r[e.value.outlet],n),this.forwardEvent(new Dc(e.value.snapshot))}),e.children.length&&this.forwardEvent(new Fc(e.value.snapshot))}activateRoutes(e,t,n){const r=e.value,s=t?t.value:null;if(Id(r),r===s)if(r.component){const s=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,n);else if(r.component){const t=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const e=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),Bd(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),s=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=r,t.resolver=s,t.outlet&&t.outlet.activateWith(r,s),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function Bd(e){Id(e.value),e.children.forEach(Bd)}function zd(e){return"function"==typeof e}function Hd(e){return e instanceof Zc}class Wd{constructor(e){this.segmentGroup=e||null}}class Kd{constructor(e){this.urlTree=e}}function Gd(e){return new x(t=>t.error(new Wd(e)))}function Qd(e){return new x(t=>t.error(new Kd(e)))}function Zd(e){return new x(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class Jd{constructor(e,t,n,r,s){this.configLoader=t,this.urlSerializer=n,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(Ht)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(U(e=>this.createUrlTree(e,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Wu(e=>{if(e instanceof Kd)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof Wd)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe(U(t=>this.createUrlTree(t,e.queryParams,e.fragment))).pipe(Wu(e=>{if(e instanceof Wd)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const r=e.segments.length>0?new Jc([],{primary:e}):e;return new Zc(r,t,n)}expandSegmentGroup(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(U(e=>new Jc([],e))):this.expandSegment(e,n,t,n.segments,r,!0)}expandChildren(e,t,n){return function(e,t){if(0===Object.keys(e).length)return yu({});const n=[],r=[],s={};return Kc(e,(e,l)=>{const o=t(l,e).pipe(U(e=>s[l]=e));"primary"===l?n.push(o):r.push(o)}),yu.apply(null,n.concat(r)).pipe(Eu(),Hu(),U(()=>s))}(n.children,(n,r)=>this.expandSegmentGroup(e,t,r,n))}expandSegment(e,t,n,r,s,l){return yu(...n).pipe(U(o=>this.expandSegmentAgainstRoute(e,t,n,o,r,s,l).pipe(Wu(e=>{if(e instanceof Wd)return yu(null);throw e}))),Eu(),Yu(e=>!!e),Wu((e,n)=>{if(e instanceof _u||"EmptyError"===e.name){if(this.noLeftoversInUrl(t,r,s))return yu(new Jc([],{}));throw new Wd(t)}throw e}))}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}expandSegmentAgainstRoute(e,t,n,r,s,l,o){return tp(r)!==l?Gd(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,s,l):Gd(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,s,l){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,s,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,r){const s=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Qd(s):this.lineralizeSegments(n,s).pipe(K(n=>{const s=new Jc(n,{});return this.expandSegment(e,s,t,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,s,l){const{matched:o,consumedSegments:i,lastChild:u,positionalParamSegments:a}=Yd(t,r,s);if(!o)return Gd(t);const c=this.applyRedirectCommands(i,r.redirectTo,a);return r.redirectTo.startsWith("/")?Qd(c):this.lineralizeSegments(r,c).pipe(K(r=>this.expandSegment(e,t,n,r.concat(s.slice(u)),l,!1)))}matchSegmentAgainstRoute(e,t,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(U(e=>(n._loadedConfig=e,new Jc(r,{})))):yu(new Jc(r,{}));const{matched:s,consumedSegments:l,lastChild:o}=Yd(t,n,r);if(!s)return Gd(t);const i=r.slice(o);return this.getChildConfig(e,n,r).pipe(K(e=>{const n=e.module,r=e.routes,{segmentGroup:s,slicedSegments:o}=function(e,t,n,r){return n.length>0&&function(e,t,n){return n.some(n=>ep(e,t,n)&&"primary"!==tp(n))}(e,n,r)?{segmentGroup:Xd(new Jc(t,function(e,t){const n={};n.primary=t;for(const r of e)""===r.path&&"primary"!==tp(r)&&(n[tp(r)]=new Jc([],{}));return n}(r,new Jc(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some(n=>ep(e,t,n))}(e,n,r)?{segmentGroup:Xd(new Jc(e.segments,function(e,t,n,r){const s={};for(const l of n)ep(e,t,l)&&!r[tp(l)]&&(s[tp(l)]=new Jc([],{}));return Object.assign({},r,s)}(e,n,r,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,l,i,r);return 0===o.length&&s.hasChildren()?this.expandChildren(n,r,s).pipe(U(e=>new Jc(l,e))):0===r.length&&0===o.length?yu(new Jc(l,{})):this.expandSegment(n,s,r,o,"primary",!0).pipe(U(e=>new Jc(l.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?yu(new jc(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?yu(t._loadedConfig):function(e,t,n){const r=t.canLoad;return r&&0!==r.length?W(r).pipe(U(r=>{const s=e.get(r);let l;if(function(e){return e&&zd(e.canLoad)}(s))l=s.canLoad(t,n);else{if(!zd(s))throw new Error("Invalid CanLoad guard");l=s(t,n)}return Gc(l)})).pipe(Eu(),(s=e=>!0===e,e=>e.lift(new Xu(s,void 0,e)))):yu(!0);var s}(e.injector,t,n).pipe(K(n=>n?this.configLoader.load(e.injector,t).pipe(U(e=>(t._loadedConfig=e,e))):function(e){return new x(t=>t.error(Nc(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):yu(new jc([],e))}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return yu(n);if(r.numberOfChildren>1||!r.children.primary)return Zd(e.redirectTo);r=r.children.primary}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,r){const s=this.createSegmentGroup(e,t.root,n,r);return new Zc(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return Kc(e,(e,r)=>{if("string"==typeof e&&e.startsWith(":")){const s=e.substring(1);n[r]=t[s]}else n[r]=e}),n}createSegmentGroup(e,t,n,r){const s=this.createSegments(e,t.segments,n,r);let l={};return Kc(t.children,(t,s)=>{l[s]=this.createSegmentGroup(e,t,n,r)}),new Jc(s,l)}createSegments(e,t,n,r){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,r):this.findOrReturn(t,n))}findPosParam(e,t,n){const r=n[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let n=0;for(const r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}}function Yd(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(t.matcher||$c)(n,e,t);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Xd(e){if(1===e.numberOfChildren&&e.children.primary){const t=e.children.primary;return new Jc(e.segments.concat(t.segments),t.children)}return e}function ep(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function tp(e){return e.outlet||"primary"}class np{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class rp{constructor(e,t){this.component=e,this.route=t}}function sp(e,t,n){const r=e._root;return function e(t,n,r,s,l={canDeactivateChecks:[],canActivateChecks:[]}){const o=wd(n);return t.children.forEach(t=>{!function(t,n,r,s,l={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,i=n?n.value:null,u=r?r.getContext(t.value.outlet):null;if(i&&o.routeConfig===i.routeConfig){const a=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Xc(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Xc(e.url,t.url)||!zc(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fd(e,t)||!zc(e.queryParams,t.queryParams);case"paramsChange":default:return!Fd(e,t)}}(i,o,o.routeConfig.runGuardsAndResolvers);a?l.canActivateChecks.push(new np(s)):(o.data=i.data,o._resolvedData=i._resolvedData),e(t,n,o.component?u?u.children:null:r,s,l),a&&l.canDeactivateChecks.push(new rp(u&&u.outlet&&u.outlet.component||null,i))}else i&&op(n,u,l),l.canActivateChecks.push(new np(s)),e(t,null,o.component?u?u.children:null:r,s,l)}(t,o[t.value.outlet],r,s.concat([t.value]),l),delete o[t.value.outlet]}),Kc(o,(e,t)=>op(e,r.getContext(t),l)),l}(r,t?t._root:null,n,[r.value])}function lp(e,t,n){const r=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function op(e,t,n){const r=wd(e),s=e.value;Kc(r,(e,r)=>{op(e,s.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new rp(s.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,s))}const ip=Symbol("INITIAL_VALUE");function up(){return ta(e=>ku(...e.map(e=>e.pipe(Qu(1),sa(ip)))).pipe(la((e,t)=>{let n=!1;return t.reduce((e,r,s)=>{if(e!==ip)return e;if(r===ip&&(n=!0),!n){if(!1===r)return r;if(s===t.length-1||Hd(r))return r}return e},e)},ip),Iu(e=>e!==ip),U(e=>Hd(e)?e:!0===e),Qu(1)))}function ap(e,t){return null!==e&&t&&t(new Pc(e)),yu(!0)}function cp(e,t){return null!==e&&t&&t(new Ic(e)),yu(!0)}function dp(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;return r&&0!==r.length?yu(r.map(r=>Tu(()=>{const s=lp(r,t,n);let l;if(function(e){return e&&zd(e.canActivate)}(s))l=Gc(s.canActivate(t,e));else{if(!zd(s))throw new Error("Invalid CanActivate guard");l=Gc(s(t,e))}return l.pipe(Yu())}))).pipe(up()):yu(!0)}function pp(e,t,n){const r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>Tu(()=>yu(t.guards.map(s=>{const l=lp(s,t.node,n);let o;if(function(e){return e&&zd(e.canActivateChild)}(l))o=Gc(l.canActivateChild(r,e));else{if(!zd(l))throw new Error("Invalid CanActivateChild guard");o=Gc(l(r,e))}return o.pipe(Yu())})).pipe(up())));return yu(s).pipe(up())}class hp{}class fp{constructor(e,t,n,r,s,l){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=l}recognize(){try{const e=vp(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary"),n=new Md([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new yd(n,t),s=new Sd(this.url,r);return this.inheritParamsAndData(s._root),yu(s)}catch(e){return new x(t=>t.error(e))}}inheritParamsAndData(e){const t=e.value,n=kd(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=ed(t,(t,n)=>this.processSegmentGroup(e,t,n));return function(e){const t={};e.forEach(e=>{const n=t[e.value.outlet];if(n){const t=n.url.map(e=>e.toString()).join("/"),r=e.value.url.map(e=>e.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${t}' and '${r}'.`)}t[e.value.outlet]=e.value})}(n),n.sort((e,t)=>"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)),n}processSegment(e,t,n,r){for(const l of e)try{return this.processSegmentAgainstRoute(l,t,n,r)}catch(s){if(!(s instanceof hp))throw s}if(this.noLeftoversInUrl(t,n,r))return[];throw new hp}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}processSegmentAgainstRoute(e,t,n,r){if(e.redirectTo)throw new hp;if((e.outlet||"primary")!==r)throw new hp;let s,l=[],o=[];if("**"===e.path){const l=n.length>0?Wc(n).parameters:{};s=new Md(n,l,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,wp(e),r,e.component,e,mp(t),gp(t)+n.length,xp(e))}else{const i=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new hp;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(t.matcher||$c)(n,e,t);if(!r)throw new hp;const s={};Kc(r.posParams,(e,t)=>{s[t]=e.path});const l=r.consumed.length>0?Object.assign({},s,r.consumed[r.consumed.length-1].parameters):s;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:l}}(t,e,n);l=i.consumedSegments,o=n.slice(i.lastChild),s=new Md(l,i.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,wp(e),r,e.component,e,mp(t),gp(t)+l.length,xp(e))}const i=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:u,slicedSegments:a}=vp(t,l,o,i,this.relativeLinkResolution);if(0===a.length&&u.hasChildren()){const e=this.processChildren(i,u);return[new yd(s,e)]}if(0===i.length&&0===a.length)return[new yd(s,[])];const c=this.processSegment(i,u,a,"primary");return[new yd(s,c)]}}function mp(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function gp(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function vp(e,t,n,r,s){if(n.length>0&&function(e,t,n){return n.some(n=>bp(e,t,n)&&"primary"!==yp(n))}(e,n,r)){const s=new Jc(t,function(e,t,n,r){const s={};s.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const l of n)if(""===l.path&&"primary"!==yp(l)){const n=new Jc([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,s[yp(l)]=n}return s}(e,t,r,new Jc(n,e.children)));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>bp(e,t,n))}(e,n,r)){const l=new Jc(e.segments,function(e,t,n,r,s,l){const o={};for(const i of r)if(bp(e,n,i)&&!s[yp(i)]){const n=new Jc([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===l?e.segments.length:t.length,o[yp(i)]=n}return Object.assign({},s,o)}(e,t,n,r,e.children,s));return l._sourceSegment=e,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:n}}const l=new Jc(e.segments,e.children);return l._sourceSegment=e,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:n}}function bp(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function yp(e){return e.outlet||"primary"}function wp(e){return e.data||{}}function xp(e){return e.resolve||{}}function _p(e,t,n,r){const s=lp(e,t,r);return Gc(s.resolve?s.resolve(t,n):s(t,n))}function Cp(e){return function(t){return t.pipe(ta(t=>{const n=e(t);return n?W(n).pipe(U(()=>t)):W([t])}))}}class kp{}class Mp{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}const Sp=new Me("ROUTES");class Tp{constructor(e,t,n,r){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}load(e,t){return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(U(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const r=n.create(e);return new jc(Hc(r.injector.get(Sp)).map(Bc),r)}))}loadModuleFactory(e){return"string"==typeof e?W(this.loader.load(e)):Gc(e()).pipe(K(e=>e instanceof Wt?yu(e):W(this.compiler.compileModuleAsync(e))))}}class Ep{}class Ip{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Fp(e){throw e}function Pp(e,t,n){return t.parse("/")}function Dp(e,t){return yu(null)}class Op{constructor(e,t,n,r,s,l,o,i){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=r,this.config=i,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new T,this.errorHandler=Fp,this.malformedUriErrorHandler=Pp,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Dp,afterPreactivation:Dp},this.urlHandlingStrategy=new Ip,this.routeReuseStrategy=new Mp,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=s.get(Ht),this.console=s.get(Ps);const u=s.get(Qs);this.isNgZoneEnabled=u instanceof Qs,this.resetConfig(i),this.currentUrlTree=new Zc(new Jc([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Tp(l,o,e=>this.triggerEvent(new Tc(e)),e=>this.triggerEvent(new Ec(e))),this.routerState=_d(this.currentUrlTree,this.rootComponentType),this.transitions=new wu({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const t=this.events;return e.pipe(Iu(e=>0!==e.id),U(e=>Object.assign({},e,{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),ta(e=>{let n=!1,r=!1;return yu(e).pipe(Nu(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign({},this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),ta(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return yu(e).pipe(ta(e=>{const n=this.transitions.getValue();return t.next(new bc(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?gu:[e]}),ta(e=>Promise.resolve(e)),(r=this.ngModule.injector,s=this.configLoader,l=this.urlSerializer,o=this.config,function(e){return e.pipe(ta(e=>function(e,t,n,r,s){return new Jd(e,t,n,r,s).apply()}(r,s,l,e.extractedUrl,o).pipe(U(t=>Object.assign({},e,{urlAfterRedirects:t})))))}),Nu(e=>{this.currentNavigation=Object.assign({},this.currentNavigation,{finalUrl:e.urlAfterRedirects})}),function(e,t,n,r,s){return function(l){return l.pipe(K(l=>function(e,t,n,r,s="emptyOnly",l="legacy"){return new fp(e,t,n,r,s,l).recognize()}(e,t,l.urlAfterRedirects,n(l.urlAfterRedirects),r,s).pipe(U(e=>Object.assign({},l,{targetSnapshot:e})))))}}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),Nu(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),Nu(e=>{const n=new _c(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));var r,s,l,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:s,restoredState:l,extras:o}=e,i=new bc(n,this.serializeUrl(r),s,l);t.next(i);const u=_d(r,this.rootComponentType).snapshot;return yu(Object.assign({},e,{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign({},o,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),gu}),Cp(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:s,extras:{skipLocationChange:l,replaceUrl:o}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:s,skipLocationChange:!!l,replaceUrl:!!o})}),Nu(e=>{const t=new Cc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),U(e=>Object.assign({},e,{guards:sp(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return function(n){return n.pipe(K(n=>{const{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:l,canDeactivateChecks:o}}=n;return 0===o.length&&0===l.length?yu(Object.assign({},n,{guardsResult:!0})):function(e,t,n,r){return W(e).pipe(K(e=>function(e,t,n,r,s){const l=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return l&&0!==l.length?yu(l.map(l=>{const o=lp(l,t,s);let i;if(function(e){return e&&zd(e.canDeactivate)}(o))i=Gc(o.canDeactivate(e,t,n,r));else{if(!zd(o))throw new Error("Invalid CanDeactivate guard");i=Gc(o(e,t,n,r))}return i.pipe(Yu())})).pipe(up()):yu(!0)}(e.component,e.route,n,t,r)),Yu(e=>!0!==e,!0))}(o,r,s,e).pipe(K(n=>n&&"boolean"==typeof n?function(e,t,n,r){return W(t).pipe(ua(t=>W([cp(t.route.parent,r),ap(t.route,r),pp(e,t.path,n),dp(e,t.route,n)]).pipe(Eu(),Yu(e=>!0!==e,!0))),Yu(e=>!0!==e,!0))}(r,l,e,t):yu(n)),U(e=>Object.assign({},n,{guardsResult:e})))}))}}(this.ngModule.injector,e=>this.triggerEvent(e)),Nu(e=>{if(Hd(e.guardsResult)){const t=Nc(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}}),Nu(e=>{const t=new kc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),Iu(e=>{if(!e.guardsResult){this.resetUrlToCurrentUrlTree();const n=new wc(e.id,this.serializeUrl(e.extractedUrl),"");return t.next(n),e.resolve(!1),!1}return!0}),Cp(e=>{if(e.guards.canActivateChecks.length)return yu(e).pipe(Nu(e=>{const t=new Mc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(t=this.paramsInheritanceStrategy,n=this.ngModule.injector,function(e){return e.pipe(K(e=>{const{targetSnapshot:r,guards:{canActivateChecks:s}}=e;return s.length?W(s).pipe(ua(e=>function(e,t,n,r){return function(e,t,n,r){const s=Object.keys(e);if(0===s.length)return yu({});if(1===s.length){const l=s[0];return _p(e[l],t,n,r).pipe(U(e=>({[l]:e})))}const l={};return W(s).pipe(K(s=>_p(e[s],t,n,r).pipe(U(e=>(l[s]=e,e))))).pipe(Hu(),U(()=>l))}(e._resolve,e,t,r).pipe(U(t=>(e._resolvedData=t,e.data=Object.assign({},e.data,kd(e,n).resolve),null)))}(e.route,r,t,n)),function(e,t){return arguments.length>=2?function(n){return y(la(e,t),Au(1),Uu(t))(n)}:function(t){return y(la((t,n,r)=>e(t,n,r+1)),Au(1))(t)}}((e,t)=>e),U(t=>e)):yu(e)}))}),Nu(e=>{const t=new Sc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}));var t,n}),Cp(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:s,extras:{skipLocationChange:l,replaceUrl:o}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:s,skipLocationChange:!!l,replaceUrl:!!o})}),U(e=>{const t=function(e,t,n){const r=function e(t,n,r){if(r&&t.shouldReuseRoute(n.value,r.value.snapshot)){const s=r.value;s._futureSnapshot=n.value;const l=function(t,n,r){return n.children.map(n=>{for(const s of r.children)if(t.shouldReuseRoute(s.value.snapshot,n.value))return e(t,n,s);return e(t,n)})}(t,n,r);return new yd(s,l)}{const r=t.retrieve(n.value);if(r){const e=r.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(let r=0;r<t.children.length;++r)e(t.children[r],n.children[r])}(n,e),e}{const r=new Cd(new wu((s=n.value).url),new wu(s.params),new wu(s.queryParams),new wu(s.fragment),new wu(s.data),s.outlet,s.component,s),l=n.children.map(n=>e(t,n));return new yd(r,l)}}var s}(e,t._root,n?n._root:void 0);return new xd(r,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign({},e,{targetRouterState:t})}),Nu(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),(l=this.rootContexts,o=this.routeReuseStrategy,i=e=>this.triggerEvent(e),U(e=>(new Ud(o,e.targetRouterState,e.currentRouterState,i).activate(l),e))),Nu({next(){n=!0},complete(){n=!0}}),(s=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new wc(e.id,this.serializeUrl(e.extractedUrl),`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`);t.next(n),e.resolve(!1)}this.currentNavigation=null},e=>e.lift(new aa(s))),Wu(n=>{if(r=!0,(s=n)&&s.ngNavigationCancelingError){const r=Hd(n.url);r||(this.navigated=!0,this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));const s=new wc(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(s),e.resolve(!1),r&&this.navigateByUrl(n.url)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const r=new xc(e.id,this.serializeUrl(e.extractedUrl),n);t.next(r);try{e.resolve(this.errorHandler(n))}catch(l){e.reject(l)}}var s;return gu}));var s,l,o,i}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign({},this.getTransition(),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{let t=this.parseUrl(e.url);const n="popstate"===e.type?"popstate":"hashchange",r=e.state&&e.state.navigationId?e.state:null;setTimeout(()=>{this.scheduleNavigation(t,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Lc(e),this.config=e.map(Bc),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(e,t={}){const{relativeTo:n,queryParams:r,fragment:s,preserveQueryParams:l,queryParamsHandling:o,preserveFragment:i}=t;Ze()&&l&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const u=n||this.routerState.root,a=i?this.currentUrlTree.fragment:s;let c=null;if(o)switch(o){case"merge":c=Object.assign({},this.currentUrlTree.queryParams,r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}else c=l?this.currentUrlTree.queryParams:r||null;return null!==c&&(c=this.removeEmptyProps(c)),function(e,t,n,r,s){if(0===n.length)return Dd(t.root,t.root,t,r,s);const l=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Od(!0,0,e);let t=0,n=!1;const r=e.reduce((e,r,s)=>{if("object"==typeof r&&null!=r){if(r.outlets){const t={};return Kc(r.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(r.segmentPath)return[...e,r.segmentPath]}return"string"!=typeof r?[...e,r]:0===s?(r.split("/").forEach((r,s)=>{0==s&&"."===r||(0==s&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[...e,r]},[]);return new Od(n,t,r)}(n);if(l.toRoot())return Dd(t.root,new Jc([],{}),t,r,s);const o=function(e,t,n){if(e.isAbsolute)return new Ad(t.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new Ad(n.snapshot._urlSegment,!0,0);const r=Pd(e.commands[0])?0:1;return function(e,t,n){let r=e,s=t,l=n;for(;l>s;){if(l-=s,r=r.parent,!r)throw new Error("Invalid number of '../'");s=r.segments.length}return new Ad(r,!1,s-l)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(l,t,e),i=o.processChildren?Nd(o.segmentGroup,o.index,l.commands):Rd(o.segmentGroup,o.index,l.commands);return Dd(o.segmentGroup,i,t,r,s)}(u,this.currentUrlTree,e,c,a)}navigateByUrl(e,t={skipLocationChange:!1}){Ze()&&this.isNgZoneEnabled&&!Qs.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Hd(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){if(Hd(e))return Qc(this.currentUrlTree,e,t);const n=this.parseUrl(e);return Qc(this.currentUrlTree,n,t)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return null!=r&&(t[n]=r),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.events.next(new yc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,r){const s=this.getTransition();if(s&&"imperative"!==t&&"imperative"===s.source&&s.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(s&&"hashchange"==t&&"popstate"===s.source&&s.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(s&&"popstate"==t&&"hashchange"===s.source&&s.rawUrl.toString()===e.toString())return Promise.resolve(!0);let l=null,o=null;const i=new Promise((e,t)=>{l=e,o=t}),u=++this.navigationId;return this.setTransition({id:u,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:l,reject:o,promise:i,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),i.catch(e=>Promise.reject(e))}setBrowserUrl(e,t,n,r){const s=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(s)||t?this.location.replaceState(s,"",Object.assign({},r,{navigationId:n})):this.location.go(s,"",Object.assign({},r,{navigationId:n}))}resetStateAndUrl(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}let Ap=(()=>class{constructor(e,t,n,r,s){this.router=e,this.route=t,this.commands=[],null==n&&r.setAttribute(s.nativeElement,"tabindex","0")}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){Ze()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=e}onClick(){const e={skipLocationChange:Rp(this.skipLocationChange),replaceUrl:Rp(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Rp(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Rp(this.preserveFragment)})}})(),qp=(()=>class{constructor(e,t,n){this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.subscription=e.events.subscribe(e=>{e instanceof yc&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){Ze()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}ngOnChanges(e){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,n,r){if(0!==e||t||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:Rp(this.skipLocationChange),replaceUrl:Rp(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Rp(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Rp(this.preserveFragment)})}})();function Rp(e){return""===e||!!e}class Np{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new $p,this.attachRef=null}}class $p{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Np,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let jp=(()=>class{constructor(e,t,n,r,s){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new ws,this.deactivateEvents=new ws,this.name=r||"primary",e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,s=new Lp(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,s),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}})();class Lp{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===Cd?this.route:e===$p?this.childContexts:this.parent.get(e,t)}}class Vp{}class Up{preload(e,t){return t().pipe(Wu(()=>yu(null)))}}class Bp{preload(e,t){return yu(null)}}let zp=(()=>class{constructor(e,t,n,r,s){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=new Tp(t,n,t=>e.triggerEvent(new Tc(t)),t=>e.triggerEvent(new Ec(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(Iu(e=>e instanceof yc),ua(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(Ht);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const r of t)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const e=r._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(e,r)):r.children&&n.push(this.processRoutes(e,r.children));return W(n).pipe(J(),U(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>this.loader.load(e.injector,t).pipe(K(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}})();class Hp{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof bc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof yc&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Oc&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new Oc(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const Wp=new Me("ROUTER_CONFIGURATION"),Kp=new Me("ROUTER_FORROOT_GUARD"),Gp=[di,{provide:td,useClass:nd},{provide:Op,useFactory:th,deps:[hl,td,$p,di,Ne,ml,Ls,Sp,Wp,[Ep,new ue],[kp,new ue]]},$p,{provide:Cd,useFactory:nh,deps:[Op]},{provide:ml,useClass:bl},zp,Bp,Up,{provide:Wp,useValue:{enableTracing:!1}}];function Qp(){return new ul("Router",Op)}let Zp=(()=>{class e{constructor(e,t){}static forRoot(t,n){return{ngModule:e,providers:[Gp,eh(t),{provide:Kp,useFactory:Xp,deps:[[Op,new ue,new ce]]},{provide:Wp,useValue:n||{}},{provide:ai,useFactory:Yp,deps:[ii,[new ie(ci),new ue],Wp]},{provide:Hp,useFactory:Jp,deps:[Op,fu,Wp]},{provide:Vp,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Bp},{provide:ul,multi:!0,useFactory:Qp},[rh,{provide:Cs,multi:!0,useFactory:sh,deps:[rh]},{provide:oh,useFactory:lh,deps:[rh]},{provide:Fs,multi:!0,useExisting:oh}]]}}static forChild(t){return{ngModule:e,providers:[eh(t)]}}}return e})();function Jp(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new Hp(e,t,n)}function Yp(e,t,n={}){return n.useHash?new hi(e,t):new fi(e,t)}function Xp(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function eh(e){return[{provide:He,multi:!0,useValue:e},{provide:Sp,multi:!0,useValue:e}]}function th(e,t,n,r,s,l,o,i,u={},a,c){const d=new Op(null,t,n,r,s,l,o,Hc(i));if(a&&(d.urlHandlingStrategy=a),c&&(d.routeReuseStrategy=c),u.errorHandler&&(d.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(d.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){const e=pa();d.events.subscribe(t=>{e.logGroup("Router Event: "+t.constructor.name),e.log(t.toString()),e.log(t),e.logGroupEnd()})}return u.onSameUrlNavigation&&(d.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(d.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(d.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(d.relativeLinkResolution=u.relativeLinkResolution),d}function nh(e){return e.routerState.root}let rh=(()=>class{constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new T}appInitializer(){return this.injector.get(ui,Promise.resolve(null)).then(()=>{let e=null;const t=new Promise(t=>e=t),n=this.injector.get(Op),r=this.injector.get(Wp);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))e(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),e(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?yu(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()}return t})}bootstrapListener(e){const t=this.injector.get(Wp),n=this.injector.get(zp),r=this.injector.get(Hp),s=this.injector.get(Op),l=this.injector.get(hl);e===l.components[0]&&(this.isLegacyEnabled(t)?s.initialNavigation():this.isLegacyDisabled(t)&&s.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),s.resetRootComponentType(l.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}isLegacyDisabled(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}})();function sh(e){return e.appInitializer.bind(e)}function lh(e){return e.bootstrapListener.bind(e)}const oh=new Me("Router Initializer");var ih=jn({encapsulation:2,styles:[],data:{}});function uh(e){return Jl(0,[(e()(),Ol(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Jr(1,212992,null,0,jp,[$p,Cn,Ut,[8,null],gn],null,null)],(function(e,t){e(t,1,0)}),null)}function ah(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"ng-component",[],null,null,null,uh,ih)),Jr(1,49152,null,0,Ac,[],null,null)],null,null)}var ch=Tr("ng-component",Ac,ah,{},{},[]);class dh extends V{constructor(e,t){super(e),this.sources=t,this.completed=0,this.haveValues=0;const n=t.length;this.values=new Array(n);for(let r=0;r<n;r++){const e=L(this,t[r],null,r);e&&this.add(e)}}notifyNext(e,t,n,r,s){this.values[n]=t,s._hasValue||(s._hasValue=!0,this.haveValues++)}notifyComplete(e){const{destination:t,haveValues:n,values:r}=this,s=r.length;e._hasValue?(this.completed++,this.completed===s&&(n===s&&t.next(r),t.complete())):t.complete()}}const ph=new Me("NgValueAccessor");let hh=(()=>class{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}})();const fh=new Me("CompositionEventMode");let mh=(()=>class{constructor(e,t,n){this._renderer=e,this._elementRef=t,this._compositionMode=n,this.onChange=e=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=pa()?pa().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}})();class gh{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class vh extends gh{get formDirective(){return null}get path(){return null}}function bh(){throw new Error("unimplemented")}class yh extends gh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return bh()}get asyncValidator(){return bh()}}class wh{constructor(e){this._cd=e}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let xh=(()=>class extends wh{constructor(e){super(e)}})(),_h=(()=>class extends wh{constructor(e){super(e)}})();function Ch(e){return null==e||0===e.length}const kh=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/;class Mh{static min(e){return t=>{if(Ch(t.value)||Ch(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}static max(e){return t=>{if(Ch(t.value)||Ch(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}static required(e){return Ch(e.value)?{required:!0}:null}static requiredTrue(e){return!0===e.value?null:{required:!0}}static email(e){return Ch(e.value)||kh.test(e.value)?null:{email:!0}}static minLength(e){return t=>{if(Ch(t.value))return null;const n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}static maxLength(e){return t=>{const n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}static pattern(e){if(!e)return Mh.nullValidator;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),e=>{if(Ch(e.value))return null;const r=e.value;return t.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(e){return null}static compose(e){if(!e)return null;const t=e.filter(Sh);return 0==t.length?null:function(e){return Eh(function(e,t){return t.map(t=>t(e))}(e,t))}}static composeAsync(e){if(!e)return null;const t=e.filter(Sh);return 0==t.length?null:function(e){return function e(...t){let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&u(t[0])&&(t=t[0]),0===t.length?gu:n?e(t).pipe(U(e=>n(...e))):new x(e=>new dh(e,t))}(function(e,t){return t.map(t=>t(e))}(e,t).map(Th)).pipe(U(Eh))}}}function Sh(e){return null!=e}function Th(e){const t=qt(e)?W(e):e;if(!Rt(t))throw new Error("Expected validator to return Promise or Observable.");return t}function Eh(e){const t=e.reduce((e,t)=>null!=t?Object.assign({},e,t):e,{});return 0===Object.keys(t).length?null:t}function Ih(e){return e.validate?t=>e.validate(t):e}function Fh(e){return e.validate?t=>e.validate(t):e}let Ph=(()=>class{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}})(),Dh=(()=>class{constructor(){this._accessors=[]}add(e,t){this._accessors.push([e,t])}remove(e){for(let t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}select(e){this._accessors.forEach(t=>{this._isSameGroup(t,e)&&t[1]!==e&&t[1].fireUncheck(e.value)})}_isSameGroup(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}})(),Oh=(()=>class{constructor(e,t,n,r){this._renderer=e,this._elementRef=t,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(yh),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}})(),Ah=(()=>class{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}})();const qh='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',Rh='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });';class Nh{static controlParentException(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+qh)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${Rh}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        \n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>`)}static missingFormException(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+qh)}static groupParentException(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+Rh)}static arrayParentException(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(e){console.warn(`\n    It looks like you're using ngModel on the same form field as ${e}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===e?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}function $h(e,t){return null==e?""+t:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let jh=(()=>class{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=Ft}set compareWith(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}writeValue(e){this.value=e;const t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=$h(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(e){this.onChange=t=>{this.value=this._getOptionValue(t),e(this.value)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}})(),Lh=(()=>class{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue($h(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}})();function Vh(e,t){return null==e?""+t:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let Uh=(()=>class{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=Ft}set compareWith(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}writeValue(e){let t;if(this.value=e,Array.isArray(e)){const n=e.map(e=>this._getOptionId(e));t=(e,t)=>{e._setSelected(n.indexOf(t.toString())>-1)}}else t=(e,t)=>{e._setSelected(!1)};this._optionMap.forEach(t)}registerOnChange(e){this.onChange=t=>{const n=[];if(t.hasOwnProperty("selectedOptions")){const e=t.selectedOptions;for(let t=0;t<e.length;t++){const r=e.item(t),s=this._getOptionValue(r.value);n.push(s)}}else{const e=t.options;for(let t=0;t<e.length;t++){const r=e.item(t);if(r.selected){const e=this._getOptionValue(r.value);n.push(e)}}}this.value=n,e(n)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(e){const t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}})(),Bh=(()=>class{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(Vh(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Vh(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}})();function zh(e,t){return[...t.path,e]}function Hh(e,t){e||Qh(t,"Cannot find control with"),t.valueAccessor||Qh(t,"No value accessor for form control with"),e.validator=Mh.compose([e.validator,t.validator]),e.asyncValidator=Mh.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Wh(e,t)})}(e,t),function(e,t){e.registerOnChange((e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Wh(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange(e=>{t.valueAccessor.setDisabledState(e)}),t._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())}),t._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())})}function Wh(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Kh(e,t){null==e&&Qh(t,"Cannot find control with"),e.validator=Mh.compose([e.validator,t.validator]),e.asyncValidator=Mh.composeAsync([e.asyncValidator,t.asyncValidator])}function Gh(e){return Qh(e,"There is no FormControl instance attached to form control element with")}function Qh(e,t){let n;throw n=e.path.length>1?`path: '${e.path.join(" -> ")}'`:e.path[0]?`name: '${e.path}'`:"unspecified name attribute",new Error(`${t} ${n}`)}function Zh(e){return null!=e?Mh.compose(e.map(Ih)):null}function Jh(e){return null!=e?Mh.composeAsync(e.map(Fh)):null}const Yh=[hh,Ah,Ph,jh,Uh,Oh];function Xh(e){const t=tf(e)?e.validators:e;return Array.isArray(t)?Zh(t):t||null}function ef(e,t){const n=tf(t)?t.asyncValidators:e;return Array.isArray(n)?Jh(n):n||null}function tf(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class nf{constructor(e,t){this.validator=e,this.asyncValidator=t,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this.validator=Xh(e)}setAsyncValidators(e){this.asyncValidator=ef(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(t=>{t.disable(Object.assign({},e,{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},e,{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild(t=>{t.enable(Object.assign({},e,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign({},e,{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status="PENDING";const t=Th(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>this.setErrors(t,{emitEvent:e}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){return null==t?null:(t instanceof Array||(t=t.split(".")),t instanceof Array&&0===t.length?null:t.reduce((e,t)=>e instanceof sf?e.controls.hasOwnProperty(t)?e.controls[t]:null:e instanceof lf&&e.at(t)||null,e))}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ws,this.statusChanges=new ws}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){tf(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class rf extends nf{constructor(e=null,t,n){super(Xh(t),ef(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class sf extends nf{constructor(e,t,n){super(Xh(t),ef(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e={},t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof rf?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>e(this.controls[t],t))}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){let t=!1;return this._forEachChild((n,r)=>{t=t||this.contains(r)&&e(n)}),t}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,r)=>{n=t(n,e,r)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class lf extends nf{constructor(e,t,n){super(Xh(t),ef(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(e){return this.controls[e]}push(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}insert(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}removeAt(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e=[],t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof rf?e.value:e.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index "+e)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const of=new Me("NgFormSelectorWarning");class uf extends vh{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return zh(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Zh(this._validators)}get asyncValidator(){return Jh(this._asyncValidators)}_checkParentType(){}}let af=(()=>class{})();const cf=new Me("NgModelWithFormControlWarning");let df=(()=>class extends vh{constructor(e,t){super(),this._validators=e,this._asyncValidators=t,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new ws}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const t=this.form.get(e.path);return Hh(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){!function(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}(this.directives,e)}addFormGroup(e){const t=this.form.get(e.path);Kh(t,e),t.updateValueAndValidity({emitEvent:!1})}removeFormGroup(e){}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){const t=this.form.get(e.path);Kh(t,e),t.updateValueAndValidity({emitEvent:!1})}removeFormArray(e){}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this.submitted=!0,t=this.directives,this.form._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}),this.ngSubmit.emit(e),!1;var t}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const t=this.form.get(e.path);e.control!==t&&(function(e,t){t.valueAccessor.registerOnChange(()=>Gh(t)),t.valueAccessor.registerOnTouched(()=>Gh(t)),t._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),t._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),e&&e._clearChangeFns()}(e.control,e),t&&Hh(t,e),e.control=t)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const e=Zh(this._validators);this.form.validator=Mh.compose([this.form.validator,e]);const t=Jh(this._asyncValidators);this.form.asyncValidator=Mh.composeAsync([this.form.asyncValidator,t])}_checkFormPresent(){this.form||Nh.missingFormException()}})(),pf=(()=>class extends uf{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}_checkParentType(){ff(this._parent)&&Nh.groupParentException()}})(),hf=(()=>class extends vh{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return zh(this.name,this._parent)}get validator(){return Zh(this._validators)}get asyncValidator(){return Jh(this._asyncValidators)}_checkParentType(){ff(this._parent)&&Nh.arrayParentException()}})();function ff(e){return!(e instanceof pf||e instanceof df||e instanceof hf)}let mf=(()=>{class e extends yh{constructor(e,t,n,r,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new ws,this._ngModelWarningSent=!1,this._parent=e,this._rawValidators=t||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(e,t){if(!t)return null;Array.isArray(t)||Qh(e,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,s=void 0;return t.forEach(t=>{var l;t.constructor===mh?n=t:(l=t,Yh.some(e=>l.constructor===e)?(r&&Qh(e,"More than one built-in value accessor matches form control with"),r=t):(s&&Qh(e,"More than one custom value accessor matches form control with"),s=t))}),s||r||n||(Qh(e,"No valid value accessor for form control with"),null)}(this,r)}set isDisabled(e){Nh.disabledAttrWarning()}ngOnChanges(t){var n,r;this._added||this._setUpControl(),function(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Ft(t,n.currentValue)}(t,this.viewModel)&&("formControlName",n=e,this,r=this._ngModelWarningConfig,Ze()&&"never"!==r&&((null!==r&&"once"!==r||n._ngModelWarningSentOnce)&&("always"!==r||this._ngModelWarningSent)||(Nh.ngModelWarning("formControlName"),n._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return zh(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Zh(this._rawValidators)}get asyncValidator(){return Jh(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof pf)&&this._parent instanceof uf?Nh.ngModelGroupException():this._parent instanceof pf||this._parent instanceof df||this._parent instanceof hf||Nh.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return e._ngModelWarningSentOnce=!1,e})(),gf=(()=>class{})(),vf=(()=>class{group(e,t=null){const n=this._reduceControls(e);let r=null,s=null,l=void 0;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(r=null!=t.validators?t.validators:null,s=null!=t.asyncValidators?t.asyncValidators:null,l=null!=t.updateOn?t.updateOn:void 0):(r=null!=t.validator?t.validator:null,s=null!=t.asyncValidator?t.asyncValidator:null)),new sf(n,{asyncValidators:s,updateOn:l,validators:r})}control(e,t,n){return new rf(e,t,n)}array(e,t,n){const r=e.map(e=>this._createControl(e));return new lf(r,t,n)}_reduceControls(e){const t={};return Object.keys(e).forEach(n=>{t[n]=this._createControl(e[n])}),t}_createControl(e){return e instanceof rf||e instanceof sf||e instanceof lf?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}})(),bf=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:of,useValue:t.warnOnDeprecatedNgFormSelector}]}}}return e})(),yf=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:cf,useValue:t.warnOnNgModelWithFormControl}]}}}return e})();class wf extends p{constructor(e,t){super()}schedule(e,t=0){return this}}class xf extends wf{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n=!1,r=void 0;try{this.work(e)}catch(s){n=!0,r=!!s&&s||new Error(s)}if(n)return this.unsubscribe(),r}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let _f=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();class Cf extends _f{constructor(e,t=_f.now){super(e,()=>Cf.delegate&&Cf.delegate!==this?Cf.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return Cf.delegate&&Cf.delegate!==this?Cf.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}const kf=new Cf(xf);function Mf(e){return!u(e)&&e-parseFloat(e)+1>=0}function Sf(e){const{index:t,period:n,subscriber:r}=e;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}const Tf=new x(b);function Ef(e,t,n,s){return r(n)&&(s=n,n=void 0),s?Ef(e,t,n).pipe(U(e=>u(e)?s(...e):s(e))):new x(r=>{!function e(t,n,r,s,l){let o;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){const e=t;t.addEventListener(n,r,l),o=()=>e.removeEventListener(n,r,l)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){const e=t;t.on(n,r),o=()=>e.off(n,r)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){const e=t;t.addListener(n,r),o=()=>e.removeListener(n,r)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,i=t.length;o<i;o++)e(t[o],n,r,s,l)}s.add(o)}(e,t,(function(e){r.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),r,n)})}function If(e,t){return n=>n.lift(new Ff(e,t))}class Ff{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new Pf(e,this.compare,this.keySelector))}}class Pf extends m{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:e}=this;n=e(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}function Df(e){return t=>t.lift(new Of(e))}class Of{constructor(e){this.notifier=e}call(e,t){const n=new Af(e),r=L(n,this.notifier);return r&&!n.seenValue?(n.add(r),t.subscribe(n)):n}}class Af extends V{constructor(e){super(e),this.seenValue=!1}notifyNext(e,t,n,r,s){this.seenValue=!0,this.complete()}notifyComplete(){}}function qf(...e){return t=>{let n;return"function"==typeof e[e.length-1]&&(n=e.pop()),t.lift(new Rf(e,n))}}class Rf{constructor(e,t){this.observables=e,this.project=t}call(e,t){return t.subscribe(new Nf(e,this.observables,this.project))}}class Nf extends V{constructor(e,t,n){super(e),this.observables=t,this.project=n,this.toRespond=[];const r=t.length;this.values=new Array(r);for(let s=0;s<r;s++)this.toRespond.push(s);for(let s=0;s<r;s++){let e=t[s];this.add(L(this,e,e,s))}}notifyNext(e,t,n,r,s){this.values[n]=t;const l=this.toRespond;if(l.length>0){const e=l.indexOf(n);-1!==e&&l.splice(e,1)}}notifyComplete(){}_next(e){if(0===this.toRespond.length){const t=[e,...this.values];this.project?this._tryProject(t):this.destination.next(t)}}_tryProject(e){let t;try{t=this.project.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}function $f(e){return parseInt(""+e,10)}function jf(e){return null!=e?""+e:""}function Lf(e){return"string"==typeof e}function Vf(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function Uf(e){return null!=e}function Bf(e,t){return e&&e.className&&e.className.split&&e.className.split(/\s+/).indexOf(t)>=0}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(e){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});let zf=(()=>{class e{constructor(){this.closeOthers=!1}}return e.ngInjectableDef=he({factory:function(){return new e},token:e,providedIn:"root"}),e})(),Hf=0,Wf=(()=>class{constructor(e){this.templateRef=e}})(),Kf=(()=>class{constructor(e){this.templateRef=e}})(),Gf=(()=>class{constructor(){this.disabled=!1,this.id="ngb-panel-"+Hf++,this.isOpen=!1}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}})(),Qf=(()=>class{constructor(e){this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new ws,this.type=e.type,this.closeOtherPanels=e.closeOthers}isExpanded(e){return this.activeIds.indexOf(e)>-1}expand(e){this._changeOpenState(this._findPanelById(e),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(e=>this._changeOpenState(e,!0))}collapse(e){this._changeOpenState(this._findPanelById(e),!1)}collapseAll(){this.panels.forEach(e=>{this._changeOpenState(e,!1)})}toggle(e){const t=this._findPanelById(e);t&&this._changeOpenState(t,!t.isOpen)}ngAfterContentChecked(){Lf(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(e=>e.isOpen=!e.disabled&&this.activeIds.indexOf(e.id)>-1),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0]),this._updateActiveIds())}_changeOpenState(e,t){if(e&&!e.disabled&&e.isOpen!==t){let n=!1;this.panelChange.emit({panelId:e.id,nextState:t,preventDefault:()=>{n=!0}}),n||(e.isOpen=t,t&&this.closeOtherPanels&&this._closeOthers(e.id),this._updateActiveIds())}}_closeOthers(e){this.panels.forEach(t=>{t.id!==e&&(t.isOpen=!1)})}_findPanelById(e){return this.panels.find(t=>t.id===e)}_updateActiveIds(){this.activeIds=this.panels.filter(e=>e.isOpen&&!e.disabled).map(e=>e.id)}})(),Zf=(()=>class{constructor(e,t){this.accordion=e,this.panel=t}set ngbPanelToggle(e){e&&(this.panel=e)}})(),Jf=(()=>class{})(),Yf=(()=>{class e{constructor(){this.dismissible=!0,this.type="warning"}}return e.ngInjectableDef=he({factory:function(){return new e},token:e,providedIn:"root"}),e})(),Xf=(()=>class{constructor(e,t,n){this._renderer=t,this._element=n,this.close=new ws,this.dismissible=e.dismissible,this.type=e.type}closeHandler(){this.close.emit(null)}ngOnChanges(e){const t=e.type;t&&!t.firstChange&&(this._renderer.removeClass(this._element.nativeElement,"alert-"+t.previousValue),this._renderer.addClass(this._element.nativeElement,"alert-"+t.currentValue))}ngOnInit(){this._renderer.addClass(this._element.nativeElement,"alert-"+this.type)}})(),em=(()=>class{})(),tm=(()=>class{})(),nm=(()=>{class e{constructor(){this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}}return e.ngInjectableDef=he({factory:function(){return new e},token:e,providedIn:"root"}),e})(),rm=0,sm=(()=>class{constructor(e){this.tplRef=e,this.id="ngb-slide-"+rm++}})(),lm=(()=>class{constructor(e,t,n,r){this._platformId=t,this._ngZone=n,this._cd=r,this.NgbSlideEventSource=im,this._destroy$=new T,this._interval$=new wu(0),this._mouseHover$=new wu(!1),this._pauseOnHover$=new wu(!1),this._pause$=new wu(!1),this._wrap$=new wu(!1),this.slide=new ws,this.interval=e.interval,this.wrap=e.wrap,this.keyboard=e.keyboard,this.pauseOnHover=e.pauseOnHover,this.showNavigationArrows=e.showNavigationArrows,this.showNavigationIndicators=e.showNavigationIndicators}set interval(e){this._interval$.next(e)}get interval(){return this._interval$.value}set wrap(e){this._wrap$.next(e)}get wrap(){return this._wrap$.value}set pauseOnHover(e){this._pauseOnHover$.next(e)}get pauseOnHover(){return this._pauseOnHover$.value}mouseEnter(){this._mouseHover$.next(!0)}mouseLeave(){this._mouseHover$.next(!1)}ngAfterContentInit(){"browser"===this._platformId&&this._ngZone.runOutsideAngular(()=>{const e=ku(this.slide.pipe(U(e=>e.current),sa(this.activeId)),this._wrap$,this.slides.changes.pipe(sa(null))).pipe(U(([e,t])=>{const n=this.slides.toArray(),r=this._getSlideIdxById(e);return t?n.length>1:r<n.length-1}),If());ku(this._pause$,this._pauseOnHover$,this._mouseHover$,this._interval$,e).pipe(U(([e,t,n,r,s])=>e||t&&n||!s?0:r),If(),ta(e=>e>0?function(e=0,t,n){let r=-1;return Mf(t)?r=Number(t)<1?1:Number(t):I(t)&&(n=t),I(n)||(n=kf),new x(t=>{const s=Mf(e)?e:+e-n.now();return n.schedule(Sf,s,{index:0,period:r,subscriber:t})})}(e,e):Tf),Df(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(im.TIMER)))}),this.slides.changes.pipe(Df(this._destroy$)).subscribe(()=>this._cd.markForCheck())}ngAfterContentChecked(){let e=this._getSlideById(this.activeId);this.activeId=e?e.id:this.slides.length?this.slides.first.id:null}ngOnDestroy(){this._destroy$.next()}select(e,t){this._cycleToSelected(e,this._getSlideEventDirection(this.activeId,e),t)}prev(e){this._cycleToSelected(this._getPrevSlide(this.activeId),om.RIGHT,e)}next(e){this._cycleToSelected(this._getNextSlide(this.activeId),om.LEFT,e)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}_cycleToSelected(e,t,n){let r=this._getSlideById(e);r&&r.id!==this.activeId&&(this.slide.emit({prev:this.activeId,current:r.id,direction:t,paused:this._pause$.value,source:n}),this.activeId=r.id),this._cd.markForCheck()}_getSlideEventDirection(e,t){return this._getSlideIdxById(e)>this._getSlideIdxById(t)?om.RIGHT:om.LEFT}_getSlideById(e){return this.slides.find(t=>t.id===e)}_getSlideIdxById(e){return this.slides.toArray().indexOf(this._getSlideById(e))}_getNextSlide(e){const t=this.slides.toArray(),n=this._getSlideIdxById(e);return n===t.length-1?this.wrap?t[0].id:t[t.length-1].id:t[n+1].id}_getPrevSlide(e){const t=this.slides.toArray(),n=this._getSlideIdxById(e);return 0===n?this.wrap?t[t.length-1].id:t[0].id:t[n-1].id}})();const om={LEFT:"left",RIGHT:"right"},im={TIMER:"timer",ARROW_LEFT:"arrowLeft",ARROW_RIGHT:"arrowRight",INDICATOR:"indicator"};let um=(()=>class{})(),am=(()=>class{})();class cm{static from(e){return e instanceof cm?e:e?new cm(e.year,e.month,e.day):null}constructor(e,t,n){this.year=Vf(e)?e:null,this.month=Vf(t)?t:null,this.day=Vf(n)?n:null}equals(e){return e&&this.year===e.year&&this.month===e.month&&this.day===e.day}before(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day<e.day:this.month<e.month:this.year<e.year)}after(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day>e.day:this.month>e.month:this.year>e.year)}}function dm(e){return new cm(e.getFullYear(),e.getMonth()+1,e.getDate())}function pm(e){const t=new Date(e.year,e.month-1,e.day,12);return isNaN(t.getTime())||t.setFullYear(e.year),t}function hm(){return new mm}let fm=(()=>{class e{}return e.ngInjectableDef=he({factory:hm,token:e,providedIn:"root"}),e})(),mm=(()=>class extends fm{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(e,t="d",n=1){let r=pm(e),s=!0,l=r.getMonth();switch(t){case"y":r.setFullYear(r.getFullYear()+n);break;case"m":l+=n,r.setMonth(l),l%=12,l<0&&(l+=12);break;case"d":r.setDate(r.getDate()+n),s=!1;break;default:return e}return s&&r.getMonth()!==l&&r.setDate(0),dm(r)}getPrev(e,t="d",n=1){return this.getNext(e,t,-n)}getWeekday(e){let t=pm(e).getDay();return 0===t?7:t}getWeekNumber(e,t){7===t&&(t=0);const n=pm(e[(11-t)%7]);n.setDate(n.getDate()+4-(n.getDay()||7));const r=n.getTime();return n.setMonth(0),n.setDate(1),Math.floor(Math.round((r-n.getTime())/864e5)/7)+1}getToday(){return dm(new Date)}isValid(e){if(!(e&&Vf(e.year)&&Vf(e.month)&&Vf(e.day)))return!1;if(0===e.year)return!1;const t=pm(e);return!isNaN(t.getTime())&&t.getFullYear()===e.year&&t.getMonth()+1===e.month&&t.getDate()===e.day}})();function gm(e,t){return!function(e,t){return!e&&!t||!!e&&!!t&&e.equals(t)}(e,t)}function vm(e,t){return!(!e&&!t||e&&t&&e.year===t.year&&e.month===t.month)}function bm(e,t,n){return e&&t&&e.before(t)?t:e&&n&&e.after(n)?n:e}function ym(e,t){const{minDate:n,maxDate:r,disabled:s,markDisabled:l}=t;return!(!Uf(e)||s||l&&l(e,{year:e.year,month:e.month})||n&&e.before(n)||r&&e.after(r))}let wm=(()=>{class e{getDayNumerals(e){return""+e.day}getWeekNumerals(e){return""+e}getYearNumerals(e){return""+e}}return e.ngInjectableDef=he({factory:function(){return e=De(Ds),new xm(e);var e},token:e,providedIn:"root"}),e})(),xm=(()=>class extends wm{constructor(e){super(),this._locale=e;const t=xi(e,vi.Standalone,bi.Short);this._weekdaysShort=t.map((e,n)=>t[(n+1)%7]),this._monthsShort=_i(e,vi.Standalone,bi.Abbreviated),this._monthsFull=_i(e,vi.Standalone,bi.Wide)}getWeekdayShortName(e){return this._weekdaysShort[e-1]}getMonthShortName(e){return this._monthsShort[e-1]}getMonthFullName(e){return this._monthsFull[e-1]}getDayAriaLabel(e){return function(e,t,n,r){let s=function(e){if(zi(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){e=e.trim();const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){const[t,n,r]=e.split("-").map(e=>+e);return new Date(t,n-1,r)}let n;if(n=e.match(Fi))return function(e){const t=new Date(0);let n=0,r=0;const s=e[8]?t.setUTCFullYear:t.setFullYear,l=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),s.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));const o=Number(e[4]||0)-n,i=Number(e[5]||0)-r,u=Number(e[6]||0),a=Math.round(1e3*parseFloat("0."+(e[7]||0)));return l.call(t,o,i,u,a),t}(n)}const t=new Date(e);if(!zi(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=function e(t,n){const r=function(e){return bs(e)[ms.LocaleId]}(t);if(Pi[r]=Pi[r]||{},Pi[r][n])return Pi[r][n];let s="";switch(n){case"shortDate":s=Ci(t,yi.Short);break;case"mediumDate":s=Ci(t,yi.Medium);break;case"longDate":s=Ci(t,yi.Long);break;case"fullDate":s=Ci(t,yi.Full);break;case"shortTime":s=ki(t,yi.Short);break;case"mediumTime":s=ki(t,yi.Medium);break;case"longTime":s=ki(t,yi.Long);break;case"fullTime":s=ki(t,yi.Full);break;case"short":const n=e(t,"shortTime"),r=e(t,"shortDate");s=Ri(Mi(t,yi.Short),[n,r]);break;case"medium":const l=e(t,"mediumTime"),o=e(t,"mediumDate");s=Ri(Mi(t,yi.Medium),[l,o]);break;case"long":const i=e(t,"longTime"),u=e(t,"longDate");s=Ri(Mi(t,yi.Long),[i,u]);break;case"full":const a=e(t,"fullTime"),c=e(t,"fullDate");s=Ri(Mi(t,yi.Full),[a,c])}return s&&(Pi[r][n]=s),s}(n,t)||t;let l,o=[];for(;t;){if(l=Di.exec(t),!l){o.push(t);break}{o=o.concat(l.slice(1));const e=o.pop();if(!e)break;t=e}}let i=s.getTimezoneOffset();r&&(i=Bi(r,i),s=function(e,t,n){const r=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(Bi(t,r)-r))}(s,r));let u="";return o.forEach(e=>{const t=function(e){if(Ui[e])return Ui[e];let t;switch(e){case"G":case"GG":case"GGG":t=ji(qi.Eras,bi.Abbreviated);break;case"GGGG":t=ji(qi.Eras,bi.Wide);break;case"GGGGG":t=ji(qi.Eras,bi.Narrow);break;case"y":t=$i(Ai.FullYear,1,0,!1,!0);break;case"yy":t=$i(Ai.FullYear,2,0,!0,!0);break;case"yyy":t=$i(Ai.FullYear,3,0,!1,!0);break;case"yyyy":t=$i(Ai.FullYear,4,0,!1,!0);break;case"M":case"L":t=$i(Ai.Month,1,1);break;case"MM":case"LL":t=$i(Ai.Month,2,1);break;case"MMM":t=ji(qi.Months,bi.Abbreviated);break;case"MMMM":t=ji(qi.Months,bi.Wide);break;case"MMMMM":t=ji(qi.Months,bi.Narrow);break;case"LLL":t=ji(qi.Months,bi.Abbreviated,vi.Standalone);break;case"LLLL":t=ji(qi.Months,bi.Wide,vi.Standalone);break;case"LLLLL":t=ji(qi.Months,bi.Narrow,vi.Standalone);break;case"w":t=Vi(1);break;case"ww":t=Vi(2);break;case"W":t=Vi(1,!0);break;case"d":t=$i(Ai.Date,1);break;case"dd":t=$i(Ai.Date,2);break;case"E":case"EE":case"EEE":t=ji(qi.Days,bi.Abbreviated);break;case"EEEE":t=ji(qi.Days,bi.Wide);break;case"EEEEE":t=ji(qi.Days,bi.Narrow);break;case"EEEEEE":t=ji(qi.Days,bi.Short);break;case"a":case"aa":case"aaa":t=ji(qi.DayPeriods,bi.Abbreviated);break;case"aaaa":t=ji(qi.DayPeriods,bi.Wide);break;case"aaaaa":t=ji(qi.DayPeriods,bi.Narrow);break;case"b":case"bb":case"bbb":t=ji(qi.DayPeriods,bi.Abbreviated,vi.Standalone,!0);break;case"bbbb":t=ji(qi.DayPeriods,bi.Wide,vi.Standalone,!0);break;case"bbbbb":t=ji(qi.DayPeriods,bi.Narrow,vi.Standalone,!0);break;case"B":case"BB":case"BBB":t=ji(qi.DayPeriods,bi.Abbreviated,vi.Format,!0);break;case"BBBB":t=ji(qi.DayPeriods,bi.Wide,vi.Format,!0);break;case"BBBBB":t=ji(qi.DayPeriods,bi.Narrow,vi.Format,!0);break;case"h":t=$i(Ai.Hours,1,-12);break;case"hh":t=$i(Ai.Hours,2,-12);break;case"H":t=$i(Ai.Hours,1);break;case"HH":t=$i(Ai.Hours,2);break;case"m":t=$i(Ai.Minutes,1);break;case"mm":t=$i(Ai.Minutes,2);break;case"s":t=$i(Ai.Seconds,1);break;case"ss":t=$i(Ai.Seconds,2);break;case"S":t=$i(Ai.FractionalSeconds,1);break;case"SS":t=$i(Ai.FractionalSeconds,2);break;case"SSS":t=$i(Ai.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Li(Oi.Short);break;case"ZZZZZ":t=Li(Oi.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Li(Oi.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Li(Oi.Long);break;default:return null}return Ui[e]=t,t}(e);u+=t?t(s,n,i):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}(new Date(e.year,e.month-1,e.day),"fullDate",this._locale)}})(),_m=(()=>class{constructor(e,t){this._calendar=e,this._i18n=t,this._VALIDATORS={dayTemplateData:e=>{if(this._state.dayTemplateData!==e)return{dayTemplateData:e}},displayMonths:e=>{if(Vf(e=$f(e))&&e>0&&this._state.displayMonths!==e)return{displayMonths:e}},disabled:e=>{if(this._state.disabled!==e)return{disabled:e}},firstDayOfWeek:e=>{if(Vf(e=$f(e))&&e>=0&&this._state.firstDayOfWeek!==e)return{firstDayOfWeek:e}},focusVisible:e=>{if(this._state.focusVisible!==e&&!this._state.disabled)return{focusVisible:e}},markDisabled:e=>{if(this._state.markDisabled!==e)return{markDisabled:e}},maxDate:e=>{const t=this.toValidDate(e,null);if(gm(this._state.maxDate,t))return{maxDate:t}},minDate:e=>{const t=this.toValidDate(e,null);if(gm(this._state.minDate,t))return{minDate:t}},navigation:e=>{if(this._state.navigation!==e)return{navigation:e}},outsideDays:e=>{if(this._state.outsideDays!==e)return{outsideDays:e}}},this._model$=new T,this._dateSelect$=new T,this._state={disabled:!1,displayMonths:1,firstDayOfWeek:1,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectBoxes:{years:[],months:[]},selectedDate:null}}get model$(){return this._model$.pipe(Iu(e=>e.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe(Iu(e=>null!==e))}set(e){let t=Object.keys(e).map(t=>this._VALIDATORS[t](e[t])).reduce((e,t)=>Object.assign({},e,t),{});Object.keys(t).length>0&&this._nextState(t)}focus(e){!this._state.disabled&&this._calendar.isValid(e)&&gm(this._state.focusDate,e)&&this._nextState({focusDate:e})}focusSelect(){ym(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(e){const t=this.toValidDate(e,this._calendar.getToday());this._state.disabled||this._state.firstDate&&!vm(this._state.firstDate,e)||this._nextState({firstDate:t})}select(e,t={}){const n=this.toValidDate(e,null);this._state.disabled||(gm(this._state.selectedDate,n)&&this._nextState({selectedDate:n}),t.emitEvent&&ym(n,this._state)&&this._dateSelect$.next(n))}toValidDate(e,t){const n=cm.from(e);return void 0===t&&(t=this._calendar.getToday()),this._calendar.isValid(n)?n:t}getMonth(e){for(let t of this._state.months)if(e.month===t.number&&e.year===t.year)return t;throw new Error(`month ${e.month} of year ${e.year} not found`)}_nextState(e){const t=this._updateState(e);this._patchContexts(t),this._state=t,this._model$.next(this._state)}_patchContexts(e){const{months:t,displayMonths:n,selectedDate:r,focusDate:s,focusVisible:l,disabled:o,outsideDays:i}=e;e.months.forEach(e=>{e.weeks.forEach(u=>{u.days.forEach(u=>{s&&(u.context.focused=s.equals(u.date)&&l),u.tabindex=!o&&u.date.equals(s)&&s.month===e.number?0:-1,!0===o&&(u.context.disabled=!0),void 0!==r&&(u.context.selected=null!==r&&r.equals(u.date)),e.number!==u.date.month&&(u.hidden="hidden"===i||"collapsed"===i||n>1&&u.date.after(t[0].firstDate)&&u.date.before(t[n-1].lastDate))})})})}_updateState(e){const t=Object.assign({},this._state,e);let n=t.firstDate;if(("minDate"in e||"maxDate"in e)&&(function(e,t){if(t&&e&&t.before(e))throw new Error(`'maxDate' ${t} should be greater than 'minDate' ${e}`)}(t.minDate,t.maxDate),t.focusDate=bm(t.focusDate,t.minDate,t.maxDate),t.firstDate=bm(t.firstDate,t.minDate,t.maxDate),n=t.focusDate),"disabled"in e&&(t.focusVisible=!1),"selectedDate"in e&&0===this._state.months.length&&(n=t.selectedDate),"focusVisible"in e)return t;if("focusDate"in e&&(t.focusDate=bm(t.focusDate,t.minDate,t.maxDate),n=t.focusDate,0!==t.months.length&&!t.focusDate.before(t.firstDate)&&!t.focusDate.after(t.lastDate)))return t;if("firstDate"in e&&(t.firstDate=bm(t.firstDate,t.minDate,t.maxDate),n=t.firstDate),n){const r=function(e,t,n,r,s){const{displayMonths:l,months:o}=n,i=o.splice(0,o.length);return Array.from({length:l},(n,r)=>{const l=Object.assign(e.getNext(t,"m",r),{day:1});if(o[r]=null,!s){const e=i.findIndex(e=>e.firstDate.equals(l));-1!==e&&(o[r]=i.splice(e,1)[0])}return l}).forEach((t,s)=>{null===o[s]&&(o[s]=function(e,t,n,r,s={}){const{dayTemplateData:l,minDate:o,maxDate:i,firstDayOfWeek:u,markDisabled:a,outsideDays:c}=n,d=e.getToday();s.firstDate=null,s.lastDate=null,s.number=t.month,s.year=t.year,s.weeks=s.weeks||[],s.weekdays=s.weekdays||[],t=function(e,t,n){const r=e.getDaysPerWeek(),s=new cm(t.year,t.month,1),l=e.getWeekday(s)%r;return e.getPrev(s,"d",(r+l-n)%r)}(e,t,u);for(let p=0;p<e.getWeeksPerMonth();p++){let n=s.weeks[p];n||(n=s.weeks[p]={number:0,days:[],collapsed:!0});const h=n.days;for(let u=0;u<e.getDaysPerWeek();u++){0===p&&(s.weekdays[u]=e.getWeekday(t));const n=new cm(t.year,t.month,t.day),c=e.getNext(n),f=r.getDayAriaLabel(n);let m=!!(o&&n.before(o)||i&&n.after(i));!m&&a&&(m=a(n,{month:s.number,year:s.year}));let g=n.equals(d),v=l?l(n,{month:s.number,year:s.year}):void 0;null===s.firstDate&&n.month===s.number&&(s.firstDate=n),n.month===s.number&&c.month!==s.number&&(s.lastDate=n);let b=h[u];b||(b=h[u]={}),b.date=n,b.context=Object.assign(b.context||{},{$implicit:n,date:n,data:v,currentMonth:s.number,currentYear:s.year,disabled:m,focused:!1,selected:!1,today:g}),b.tabindex=-1,b.ariaLabel=f,b.hidden=!1,t=c}n.number=e.getWeekNumber(h.map(e=>e.date),u),n.collapsed="collapsed"===c&&h[0].date.month!==s.number&&h[h.length-1].date.month!==s.number}return s}(e,t,n,r,i.shift()||{}))}),o}(this._calendar,n,t,this._i18n,"dayTemplateData"in e||"firstDayOfWeek"in e||"markDisabled"in e||"minDate"in e||"maxDate"in e||"disabled"in e||"outsideDays"in e);t.months=r,t.firstDate=r.length>0?r[0].firstDate:void 0,t.lastDate=r.length>0?r[r.length-1].lastDate:void 0,"selectedDate"in e&&!ym(t.selectedDate,t)&&(t.selectedDate=null),"firstDate"in e&&(void 0===t.focusDate||t.focusDate.before(t.firstDate)||t.focusDate.after(t.lastDate))&&(t.focusDate=n);const s=!this._state.firstDate||this._state.firstDate.year!==t.firstDate.year,l=!this._state.firstDate||this._state.firstDate.month!==t.firstDate.month;"select"===t.navigation?(("minDate"in e||"maxDate"in e||0===t.selectBoxes.years.length||s)&&(t.selectBoxes.years=function(e,t,n){if(!e)return[];const r=t?Math.max(t.year,e.year-500):e.year-10,s=(n?Math.min(n.year,e.year+500):e.year+10)-r+1,l=Array(s);for(let o=0;o<s;o++)l[o]=r+o;return l}(t.firstDate,t.minDate,t.maxDate)),("minDate"in e||"maxDate"in e||0===t.selectBoxes.months.length||s)&&(t.selectBoxes.months=function(e,t,n,r){if(!t)return[];let s=e.getMonths(t.year);if(n&&t.year===n.year){const e=s.findIndex(e=>e===n.month);s=s.slice(e)}if(r&&t.year===r.year){const e=s.findIndex(e=>e===r.month);s=s.slice(0,e+1)}return s}(this._calendar,t.firstDate,t.minDate,t.maxDate))):t.selectBoxes={years:[],months:[]},"arrows"!==t.navigation&&"select"!==t.navigation||!(l||s||"minDate"in e||"maxDate"in e||"disabled"in e)||(t.prevDisabled=t.disabled||function(e,t,n){const r=Object.assign(e.getPrev(t,"m"),{day:1});return n&&(r.year===n.year&&r.month<n.month||r.year<n.year&&1===n.month)}(this._calendar,t.firstDate,t.minDate),t.nextDisabled=t.disabled||function(e,t,n){const r=Object.assign(e.getNext(t,"m"),{day:1});return n&&r.after(n)}(this._calendar,t.lastDate,t.maxDate))}return t}})();const Cm=function(){var e={PREV:0,NEXT:1};return e[e.PREV]="PREV",e[e.NEXT]="NEXT",e}();let km=(()=>{class e{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekdays=!0,this.showWeekNumbers=!1}}return e.ngInjectableDef=he({factory:function(){return new e},token:e,providedIn:"root"}),e})();function Mm(){return new Tm}let Sm=(()=>{class e{}return e.ngInjectableDef=he({factory:Mm,token:e,providedIn:"root"}),e})(),Tm=(()=>class extends Sm{fromModel(e){return e&&Vf(e.year)&&Vf(e.month)&&Vf(e.day)?{year:e.year,month:e.month,day:e.day}:null}toModel(e){return e&&Vf(e.year)&&Vf(e.month)&&Vf(e.day)?{year:e.year,month:e.month,day:e.day}:null}})(),Em=(()=>class{constructor(e,t,n,r,s,l,o,i){this._service=e,this._calendar=t,this.i18n=n,this._elementRef=l,this._ngbDateAdapter=o,this._ngZone=i,this._destroyed$=new T,this._publicState={},this.navigate=new ws,this.dateSelect=new ws,this.select=this.dateSelect,this.onChange=e=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekdays","showWeekNumbers","startDate"].forEach(e=>this[e]=r[e]),e.dateSelect$.pipe(Df(this._destroyed$)).subscribe(e=>{this.dateSelect.emit(e)}),e.model$.pipe(Df(this._destroyed$)).subscribe(e=>{const t=e.firstDate,n=this.model?this.model.firstDate:null;this._publicState={maxDate:e.maxDate,minDate:e.minDate,firstDate:e.firstDate,lastDate:e.lastDate,focusedDate:e.focusDate,months:e.months.map(e=>e.firstDate)};let r=!1;if(!t.equals(n)&&(this.navigate.emit({current:n?{year:n.year,month:n.month}:null,next:{year:t.year,month:t.month},preventDefault:()=>r=!0}),r&&null!==n))return void this._service.open(n);const l=e.selectedDate,o=e.focusDate,i=this.model?this.model.focusDate:null;this.model=e,gm(l,this._controlValue)&&(this._controlValue=l,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(l))),gm(o,i)&&i&&e.focusVisible&&this.focus(),s.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(e){this._service.focus(cm.from(e))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe(Qu(1)).subscribe(()=>{const e=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');e&&e.focus()})}navigateTo(e){this._service.open(cm.from(e?e.day?e:Object.assign({},e,{day:1}):null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const e=Ef(this._contentEl.nativeElement,"focusin"),t=Ef(this._contentEl.nativeElement,"focusout"),{nativeElement:n}=this._elementRef;Y(e,t).pipe(Iu(({target:e,relatedTarget:t})=>!(Bf(e,"ngb-dp-day")&&Bf(t,"ngb-dp-day")&&n.contains(e)&&n.contains(t))),Df(this._destroyed$)).subscribe(({type:e})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===e})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const e={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays"].forEach(t=>e[t]=this[t]),this._service.set(e),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(e){const t={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays"].filter(t=>t in e).forEach(e=>t[e]=this[e]),this._service.set(t),"startDate"in e){const{currentValue:t,previousValue:n}=e.startDate;vm(n,t)&&this.navigateTo(this.startDate)}}onDateSelect(e){this._service.focus(e),this._service.select(e,{emitEvent:!0})}onNavigateDateSelect(e){this._service.open(e)}onNavigateEvent(e){switch(e){case Cm.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case Cm.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._service.set({disabled:e})}writeValue(e){this._controlValue=cm.from(this._ngbDateAdapter.fromModel(e)),this._service.select(this._controlValue)}})();const Im=function(){var e={Tab:9,Enter:13,Escape:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40};return e[e.Tab]="Tab",e[e.Enter]="Enter",e[e.Escape]="Escape",e[e.Space]="Space",e[e.PageUp]="PageUp",e[e.PageDown]="PageDown",e[e.End]="End",e[e.Home]="Home",e[e.ArrowLeft]="ArrowLeft",e[e.ArrowUp]="ArrowUp",e[e.ArrowRight]="ArrowRight",e[e.ArrowDown]="ArrowDown",e}();let Fm=(()=>{class e{processKey(e,t){const{state:n,calendar:r}=t;switch(e.which){case Im.PageUp:t.focusDate(r.getPrev(n.focusedDate,e.shiftKey?"y":"m",1));break;case Im.PageDown:t.focusDate(r.getNext(n.focusedDate,e.shiftKey?"y":"m",1));break;case Im.End:t.focusDate(e.shiftKey?n.maxDate:n.lastDate);break;case Im.Home:t.focusDate(e.shiftKey?n.minDate:n.firstDate);break;case Im.ArrowLeft:t.focusDate(r.getPrev(n.focusedDate,"d",1));break;case Im.ArrowUp:t.focusDate(r.getPrev(n.focusedDate,"d",r.getDaysPerWeek()));break;case Im.ArrowRight:t.focusDate(r.getNext(n.focusedDate,"d",1));break;case Im.ArrowDown:t.focusDate(r.getNext(n.focusedDate,"d",r.getDaysPerWeek()));break;case Im.Enter:case Im.Space:t.focusSelect();break;default:return}e.preventDefault(),e.stopPropagation()}}return e.ngInjectableDef=he({factory:function(){return new e},token:e,providedIn:"root"}),e})(),Pm=(()=>class{constructor(e,t,n,r){this.i18n=e,this.datepicker=t,this._keyboardService=n,this._service=r}set month(e){this.viewModel=this._service.getMonth(e)}onKeyDown(e){this._keyboardService.processKey(e,this.datepicker)}doSelect(e){e.context.disabled||e.hidden||this.datepicker.onDateSelect(e.date)}})(),Dm=(()=>class{constructor(e){this.i18n=e,this.navigation=Cm,this.months=[],this.navigate=new ws,this.select=new ws}onClickPrev(e){e.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(e){e.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}})();const Om=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Am(e){const t=Array.from(e.querySelectorAll(Om)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}let qm=(()=>class{constructor(e){this.i18n=e}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}})(),Rm=(()=>class{constructor(e,t){this.i18n=e,this._renderer=t,this.select=new ws,this._month=-1,this._year=-1}changeMonth(e){this.select.emit(new cm(this.date.year,$f(e),1))}changeYear(e){this.select.emit(new cm($f(e),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}})(),Nm=(()=>class{})(),$m=(()=>class{})(),jm=(()=>class{})(),Lm=(()=>{class e{constructor(){this.backdrop=!0,this.keyboard=!0}}return e.ngInjectableDef=he({factory:function(){return new e},token:e,providedIn:"root"}),e})();class Vm{constructor(e,t,n){this.nodes=e,this.viewRef=t,this.componentRef=n}}const Um=()=>{};let Bm=(()=>{class e{constructor(e){this._document=e}compensate(){const e=this._getWidth();return this._isPresent(e)?this._adjustBody(e):Um}_adjustBody(e){const t=this._document.body,n=t.style.paddingRight,r=parseFloat(window.getComputedStyle(t)["padding-right"]);return t.style["padding-right"]=r+e+"px",()=>t.style["padding-right"]=n}_isPresent(e){const t=this._document.body.getBoundingClientRect();return window.innerWidth-(t.left+t.right)>=e-.1*e}_getWidth(){const e=this._document.createElement("div");e.className="modal-scrollbar-measure";const t=this._document.body;t.appendChild(e);const n=e.getBoundingClientRect().width-e.clientWidth;return t.removeChild(e),n}}return e.ngInjectableDef=he({factory:function(){return new e(De(hu))},token:e,providedIn:"root"}),e})(),zm=(()=>class{})();class Hm{close(e){}dismiss(e){}}class Wm{constructor(e,t,n,r){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=n,this._beforeDismiss=r,e.instance.dismissEvent.subscribe(e=>{this.dismiss(e)}),this.result=new Promise((e,t)=>{this._resolve=e,this._reject=t}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}close(e){this._windowCmptRef&&(this._resolve(e),this._removeModalElements())}_dismiss(e){this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();t&&t.then?t.then(t=>{!1!==t&&this._dismiss(e)},()=>{}):!1!==t&&this._dismiss(e)}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.location.nativeElement;if(e.parentNode.removeChild(e),this._windowCmptRef.destroy(),this._backdropCmptRef){const e=this._backdropCmptRef.location.nativeElement;e.parentNode.removeChild(e),this._backdropCmptRef.destroy()}this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._backdropCmptRef=null,this._contentRef=null}}const Km=function(){var e={BACKDROP_CLICK:0,ESC:1};return e[e.BACKDROP_CLICK]="BACKDROP_CLICK",e[e.ESC]="ESC",e}();let Gm=(()=>class{constructor(e,t,n){this._document=e,this._elRef=t,this._zone=n,this._closed$=new T,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new ws}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement}ngAfterViewInit(){const{nativeElement:e}=this._elRef;if(this._zone.runOutsideAngular(()=>{Ef(e,"keydown").pipe(Df(this._closed$),Iu(e=>e.which===Im.Escape&&this.keyboard)).subscribe(e=>requestAnimationFrame(()=>{e.defaultPrevented||this._zone.run(()=>this.dismiss(Km.ESC))}));let t=!1;Ef(this._dialogEl.nativeElement,"mousedown").pipe(Df(this._closed$),Nu(()=>t=!1),ta(()=>Ef(e,"mouseup").pipe(Df(this._closed$),Qu(1))),Iu(({target:t})=>e===t)).subscribe(()=>{t=!0}),Ef(e,"click").pipe(Df(this._closed$)).subscribe(({target:n})=>{!0!==this.backdrop||e!==n||t||this._zone.run(()=>this.dismiss(Km.BACKDROP_CLICK)),t=!1})}),!e.contains(document.activeElement)){const t=e.querySelector("[ngbAutofocus]"),n=Am(e)[0];(t||n||e).focus()}}ngOnDestroy(){const e=this._document.body,t=this._elWithFocus;let n;n=t&&t.focus&&e.contains(t)?t:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null}),this._closed$.next()}})(),Qm=(()=>{class e{constructor(e,t,n,r,s,l){this._applicationRef=e,this._injector=t,this._document=n,this._scrollBar=r,this._rendererFactory=s,this._ngZone=l,this._activeWindowCmptHasChanged=new T,this._ariaHiddenValues=new Map,this._backdropAttributes=["backdropClass"],this._modalRefs=[],this._windowAttributes=["ariaLabelledBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const e=this._windowCmpts[this._windowCmpts.length-1];((e,t,n,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const e=Ef(t,"focusin").pipe(Df(n),U(e=>e.target));Ef(t,"keydown").pipe(Df(n),Iu(e=>e.which===Im.Tab),qf(e)).subscribe(([e,n])=>{const[r,s]=Am(t);n!==r&&n!==t||!e.shiftKey||(s.focus(),e.preventDefault()),n!==s||e.shiftKey||(r.focus(),e.preventDefault())}),r&&Ef(t,"click").pipe(Df(n),qf(e),U(e=>e[1])).subscribe(e=>e.focus())})})(0,e.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(e.location.nativeElement)}})}open(e,t,n,r){const s=r.container instanceof HTMLElement?r.container:Uf(r.container)?this._document.querySelector(r.container):this._document.body,l=this._rendererFactory.createRenderer(null,null),o=this._scrollBar.compensate(),i=()=>{this._modalRefs.length||(l.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!s)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);const u=new Hm,a=this._getContentRef(e,r.injector||t,n,u,r);let c=!1!==r.backdrop?this._attachBackdrop(e,s):null,d=this._attachWindowComponent(e,s,a),p=new Wm(d,a,c,r.beforeDismiss);return this._registerModalRef(p),this._registerWindowCmpt(d),p.result.then(o,o),p.result.then(i,i),u.close=e=>{p.close(e)},u.dismiss=e=>{p.dismiss(e)},this._applyWindowOptions(d.instance,r),1===this._modalRefs.length&&l.addClass(this._document.body,"modal-open"),c&&c.instance&&this._applyBackdropOptions(c.instance,r),p}dismissAll(e){this._modalRefs.forEach(t=>t.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,t){let n=e.resolveComponentFactory(zm).create(this._injector);return this._applicationRef.attachView(n.hostView),t.appendChild(n.location.nativeElement),n}_attachWindowComponent(e,t,n){let r=e.resolveComponentFactory(Gm).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_applyWindowOptions(e,t){this._windowAttributes.forEach(n=>{Uf(t[n])&&(e[n]=t[n])})}_applyBackdropOptions(e,t){this._backdropAttributes.forEach(n=>{Uf(t[n])&&(e[n]=t[n])})}_getContentRef(e,t,n,r,s){return n?n instanceof xn?this._createFromTemplateRef(n,r):Lf(n)?this._createFromString(n):this._createFromComponent(e,t,n,r,s):new Vm([])}_createFromTemplateRef(e,t){const n=e.createEmbeddedView({$implicit:t,close(e){t.close(e)},dismiss(e){t.dismiss(e)}});return this._applicationRef.attachView(n),new Vm([n.rootNodes],n)}_createFromString(e){const t=this._document.createTextNode(""+e);return new Vm([[t]])}_createFromComponent(e,t,n,r,s){const l=e.resolveComponentFactory(n),o=Ne.create({providers:[{provide:Hm,useValue:r}],parent:t}),i=l.create(o),u=i.location.nativeElement;return s.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(i.hostView),new Vm([[u]],i.hostView,i)}_setAriaHidden(e){const t=e.parentElement;t&&e!==this._document.body&&(Array.from(t.children).forEach(t=>{t!==e&&"SCRIPT"!==t.nodeName&&(this._ariaHiddenValues.set(t,t.getAttribute("aria-hidden")),t.setAttribute("aria-hidden","true"))}),this._setAriaHidden(t))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,t)=>{e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const t=()=>{const t=this._modalRefs.indexOf(e);t>-1&&this._modalRefs.splice(t,1)};this._modalRefs.push(e),e.result.then(t,t)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const t=this._windowCmpts.indexOf(e);t>-1&&(this._windowCmpts.splice(t,1),this._activeWindowCmptHasChanged.next())})}}return e.ngInjectableDef=he({factory:function(){return new e(De(hl),De(Se),De(hu),De(Bm),De(Jt),De(Qs))},token:e,providedIn:"root"}),e})(),Zm=(()=>{class e{constructor(e,t,n,r){this._moduleCFR=e,this._injector=t,this._modalStack=n,this._config=r}open(e,t={}){const n=Object.assign({},this._config,t);return this._modalStack.open(this._moduleCFR,this._injector,e,n)}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return e.ngInjectableDef=he({factory:function(){return new e(De(Ut),De(Se),De(Qm),De(Lm))},token:e,providedIn:"root"}),e})(),Jm=(()=>class{})(),Ym=(()=>class{})(),Xm=(()=>class{})(),eg=(()=>class{isTitleTemplate(){return this.title instanceof xn}})(),tg=(()=>class{})(),ng=(()=>class{})(),rg=(()=>class{})(),sg=(()=>class{})(),lg=(()=>class{})(),og=(()=>class{})(),ig=(()=>class{})(),ug=(()=>class{})(),ag=(()=>class{constructor(){this.highlightClass="ngb-highlight"}ngOnChanges(e){const t=jf(this.result),n=(Array.isArray(this.term)?this.term:[this.term]).map(e=>jf(e).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")).filter(e=>e);this.parts=n.length?t.split(new RegExp(`(${n.join("|")})`,"gmi")):[t]}})(),cg=(()=>class{constructor(){this.activeIdx=0,this.focusFirst=!0,this.formatter=jf,this.selectEvent=new ws,this.activeChangeEvent=new ws}hasActive(){return this.activeIdx>-1&&this.activeIdx<this.results.length}getActive(){return this.results[this.activeIdx]}markActive(e){this.activeIdx=e,this._activeChanged()}next(){this.activeIdx===this.results.length-1?this.activeIdx=this.focusFirst?(this.activeIdx+1)%this.results.length:-1:this.activeIdx++,this._activeChanged()}prev(){this.activeIdx<0?this.activeIdx=this.results.length-1:0===this.activeIdx?this.activeIdx=this.focusFirst?this.results.length-1:-1:this.activeIdx--,this._activeChanged()}resetActive(){this.activeIdx=this.focusFirst?0:-1,this._activeChanged()}select(e){this.selectEvent.emit(e)}ngOnInit(){this.resetActive()}_activeChanged(){this.activeChangeEvent.emit(this.activeIdx>=0?this.id+"-"+this.activeIdx:void 0)}})(),dg=(()=>class{})(),pg=(()=>class{})();var hg=jn({encapsulation:2,styles:[],data:{}});function fg(e){return Jl(0,[(e()(),Dl(0,null,null,0))],null,null)}function mg(e){return Jl(0,[(e()(),Ol(0,0,null,null,4,"button",[["class","btn btn-link"],["type","button"]],[[8,"disabled",0],[2,"collapsed",null],[1,"aria-expanded",0],[1,"aria-controls",0]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==$r(e,1).accordion.toggle($r(e,1).panel.id)&&r),r}),null,null)),Jr(1,16384,null,0,Zf,[Qf,[8,null]],{ngbPanelToggle:[0,"ngbPanelToggle"]},null),(e()(),Gl(2,null,[" ",""])),(e()(),Dl(16777216,null,null,1,null,fg)),Jr(4,540672,null,0,cu,[Cn],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null)],(function(e,t){e(t,1,0,t.context.$implicit),e(t,4,0,null==t.context.$implicit.titleTpl?null:t.context.$implicit.titleTpl.templateRef)}),(function(e,t){e(t,0,0,$r(t,1).panel.disabled,!$r(t,1).panel.isOpen,$r(t,1).panel.isOpen,$r(t,1).panel.id),e(t,2,0,t.context.$implicit.title)}))}function gg(e){return Jl(0,[(e()(),Dl(0,null,null,0))],null,null)}function vg(e){return Jl(0,[(e()(),Dl(0,null,null,0))],null,null)}function bg(e){return Jl(0,[(e()(),Ol(0,0,null,null,3,"div",[["class","collapse"],["role","tabpanel"]],[[8,"id",0],[1,"aria-labelledby",0],[2,"show",null]],null,null,null,null)),(e()(),Ol(1,0,null,null,2,"div",[["class","card-body"]],null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,vg)),Jr(3,540672,null,0,cu,[Cn],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null)],(function(e,t){e(t,3,0,null==t.parent.context.$implicit.contentTpl?null:t.parent.context.$implicit.contentTpl.templateRef)}),(function(e,t){e(t,0,0,pr(1,"",t.parent.context.$implicit.id,""),t.parent.context.$implicit.id+"-header",t.parent.context.$implicit.isOpen)}))}function yg(e){return Jl(0,[(e()(),Ol(0,0,null,null,6,"div",[],[[8,"className",0]],null,null,null,null)),(e()(),Ol(1,0,null,null,3,"div",[["role","tab"]],[[8,"id",0],[8,"className",0]],null,null,null,null)),(e()(),Dl(16777216,null,null,2,null,gg)),Jr(3,540672,null,0,cu,[Cn],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Wl(4,{$implicit:0,opened:1}),(e()(),Dl(16777216,null,null,1,null,bg)),Jr(6,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component,r=e(t,4,0,t.context.$implicit,t.context.$implicit.isOpen);e(t,3,0,r,(null==t.context.$implicit.headerTpl?null:t.context.$implicit.headerTpl.templateRef)||$r(t.parent,0)),e(t,6,0,!n.destroyOnHide||t.context.$implicit.isOpen)}),(function(e,t){var n=t.component;e(t,0,0,"card "+(t.context.$implicit.cardClass||"")),e(t,1,0,pr(1,"",t.context.$implicit.id,"-header"),"card-header "+(t.context.$implicit.type?"bg-"+t.context.$implicit.type:n.type?"bg-"+n.type:""))}))}function wg(e){return Jl(0,[(e()(),Dl(0,[["t",2]],null,1,null,mg)),Jr(1,16384,null,0,Wf,[xn],null,null),(e()(),Dl(16777216,null,null,1,null,yg)),Jr(3,278528,null,0,tu,[Cn,xn,fn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,3,0,t.component.panels)}),null)}var xg=jn({encapsulation:2,styles:["ngb-alert{display:block}"],data:{}});function _g(e){return Jl(0,[(e()(),Ol(0,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.closeHandler()&&r),r}),null,null)),(e()(),Ol(1,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),Gl(-1,null,["\xd7"]))],null,null)}function Cg(e){return Jl(2,[Bl(null,0),(e()(),Dl(16777216,null,null,1,null,_g)),Jr(2,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,2,0,t.component.dismissible)}),null)}function kg(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"ngb-alert",[["class","alert"],["role","alert"]],[[2,"alert-dismissible",null]],null,null,Cg,xg)),Jr(1,638976,null,0,Xf,[Yf,Xt,Gt],null,null)],(function(e,t){e(t,1,0)}),(function(e,t){e(t,0,0,$r(t,1).dismissible)}))}var Mg=Tr("ngb-alert",Xf,kg,{dismissible:"dismissible",type:"type"},{close:"close"},["*"]),Sg=jn({encapsulation:2,styles:[],data:{}});function Tg(e){return Jl(0,[(e()(),Ol(0,0,null,null,0,"li",[],[[8,"id",0],[2,"active",null]],[[null,"click"]],(function(e,t,n){var r=!0,s=e.component;return"click"===t&&(r=!1!==s.select(e.context.$implicit.id,s.NgbSlideEventSource.INDICATOR)&&r),r}),null,null))],null,(function(e,t){e(t,0,0,t.context.$implicit.id,t.context.$implicit.id===t.component.activeId)}))}function Eg(e){return Jl(0,[(e()(),Ol(0,0,null,null,2,"ol",[["class","carousel-indicators"]],null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,Tg)),Jr(2,278528,null,0,tu,[Cn,xn,fn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.component.slides)}),null)}function Ig(e){return Jl(0,[(e()(),Dl(0,null,null,0))],null,null)}function Fg(e){return Jl(0,[(e()(),Ol(0,0,null,null,2,"div",[["class","carousel-item"]],[[2,"active",null]],null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,Ig)),Jr(2,540672,null,0,cu,[Cn],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null)],(function(e,t){e(t,2,0,t.context.$implicit.tplRef)}),(function(e,t){e(t,0,0,t.context.$implicit.id===t.component.activeId)}))}function Pg(e){return Jl(0,[(e()(),Ol(0,0,null,null,3,"a",[["class","carousel-control-prev"],["role","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0,s=e.component;return"click"===t&&(r=!1!==s.prev(s.NgbSlideEventSource.ARROW_LEFT)&&r),r}),null,null)),(e()(),Ol(1,0,null,null,0,"span",[["aria-hidden","true"],["class","carousel-control-prev-icon"]],null,null,null,null,null)),(e()(),Ol(2,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Previous"]))],null,null)}function Dg(e){return Jl(0,[(e()(),Ol(0,0,null,null,3,"a",[["class","carousel-control-next"],["role","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0,s=e.component;return"click"===t&&(r=!1!==s.next(s.NgbSlideEventSource.ARROW_RIGHT)&&r),r}),null,null)),(e()(),Ol(1,0,null,null,0,"span",[["aria-hidden","true"],["class","carousel-control-next-icon"]],null,null,null,null,null)),(e()(),Ol(2,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Next"]))],null,null)}function Og(e){return Jl(2,[(e()(),Dl(16777216,null,null,1,null,Eg)),Jr(1,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(2,0,null,null,2,"div",[["class","carousel-inner"]],null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,Fg)),Jr(4,278528,null,0,tu,[Cn,xn,fn],{ngForOf:[0,"ngForOf"]},null),(e()(),Dl(16777216,null,null,1,null,Pg)),Jr(6,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,Dg)),Jr(8,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.showNavigationIndicators),e(t,4,0,n.slides),e(t,6,0,n.showNavigationArrows),e(t,8,0,n.showNavigationArrows)}),null)}var Ag=jn({encapsulation:2,styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:0 0}[ngbDatepickerDayView].outside{opacity:.5}"],data:{}});function qg(e){return Jl(2,[(e()(),Gl(0,null,["",""]))],null,(function(e,t){var n=t.component;e(t,0,0,n.i18n.getDayNumerals(n.date))}))}var Rg=jn({encapsulation:2,styles:["ngb-datepicker-navigation{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;-webkit-transform:rotate(-135deg);transform:rotate(-135deg)}.right .ngb-dp-navigation-chevron{-webkit-transform:rotate(45deg);transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow{display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{-ms-flex-pack:end;justify-content:flex-end}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:-ms-flexbox;display:flex;-ms-flex:1 1 9rem;flex:1 1 9rem}"],data:{}});function Ng(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"ngb-datepicker-navigation-select",[["class","ngb-dp-navigation-select"]],null,[[null,"select"]],(function(e,t,n){var r=!0;return"select"===t&&(r=!1!==e.component.select.emit(n)&&r),r}),Wg,Bg)),Jr(1,8437760,null,0,Rm,[wm,Xt],{date:[0,"date"],disabled:[1,"disabled"],months:[2,"months"],years:[3,"years"]},{select:"select"})],(function(e,t){var n=t.component;e(t,1,0,n.date,n.disabled,n.selectBoxes.months,n.selectBoxes.years)}),null)}function $g(e){return Jl(0,[(e()(),Ol(0,0,null,null,0,"div",[["class","ngb-dp-arrow"]],null,null,null,null,null))],null,null)}function jg(e){return Jl(0,[(e()(),Ol(0,0,null,null,0,"div",[["class","ngb-dp-arrow"]],null,null,null,null,null))],null,null)}function Lg(e){return Jl(0,[(e()(),Dl(16777216,null,null,1,null,$g)),Jr(1,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(2,0,null,null,1,"div",[["class","ngb-dp-month-name"]],null,null,null,null,null)),(e()(),Gl(3,null,[" "," "," "])),(e()(),Dl(16777216,null,null,1,null,jg)),Jr(5,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(0,null,null,0))],(function(e,t){var n=t.component;e(t,1,0,t.context.index>0),e(t,5,0,t.context.index!==n.months.length-1)}),(function(e,t){var n=t.component;e(t,3,0,n.i18n.getMonthFullName(t.context.$implicit.number,t.context.$implicit.year),n.i18n.getYearNumerals(t.context.$implicit.year))}))}function Vg(e){return Jl(0,[(e()(),Dl(16777216,null,null,1,null,Lg)),Jr(1,278528,null,0,tu,[Cn,xn,fn],{ngForOf:[0,"ngForOf"]},null),(e()(),Dl(0,null,null,0))],(function(e,t){e(t,1,0,t.component.months)}),null)}function Ug(e){return Jl(2,[(e()(),Ol(0,0,null,null,2,"div",[["class","ngb-dp-arrow"]],null,null,null,null,null)),(e()(),Ol(1,0,null,null,1,"button",[["aria-label","Previous month"],["class","btn btn-link ngb-dp-arrow-btn"],["title","Previous month"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.onClickPrev(n)&&r),r}),null,null)),(e()(),Ol(2,0,null,null,0,"span",[["class","ngb-dp-navigation-chevron"]],null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,Ng)),Jr(4,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,Vg)),Jr(6,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(7,0,null,null,2,"div",[["class","ngb-dp-arrow right"]],null,null,null,null,null)),(e()(),Ol(8,0,null,null,1,"button",[["aria-label","Next month"],["class","btn btn-link ngb-dp-arrow-btn"],["title","Next month"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.onClickNext(n)&&r),r}),null,null)),(e()(),Ol(9,0,null,null,0,"span",[["class","ngb-dp-navigation-chevron"]],null,null,null,null,null))],(function(e,t){var n=t.component;e(t,4,0,n.showSelect),e(t,6,0,!n.showSelect)}),(function(e,t){var n=t.component;e(t,1,0,n.prevDisabled),e(t,8,0,n.nextDisabled)}))}var Bg=jn({encapsulation:2,styles:["ngb-datepicker-navigation-select>.custom-select{-ms-flex:1 1 auto;flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.custom-select:focus{z-index:1}ngb-datepicker-navigation-select>.custom-select::-ms-value{background-color:transparent!important}"],data:{}});function zg(e){return Jl(0,[(e()(),Ol(0,0,null,null,3,"option",[],[[1,"aria-label",0]],null,null,null,null)),Jr(1,147456,null,0,Lh,[Gt,Xt,[8,null]],{value:[0,"value"]},null),Jr(2,147456,null,0,Bh,[Gt,Xt,[8,null]],{value:[0,"value"]},null),(e()(),Gl(3,null,["",""]))],(function(e,t){e(t,1,0,t.context.$implicit),e(t,2,0,t.context.$implicit)}),(function(e,t){var n=t.component;e(t,0,0,n.i18n.getMonthFullName(t.context.$implicit,null==n.date?null:n.date.year)),e(t,3,0,n.i18n.getMonthShortName(t.context.$implicit,null==n.date?null:n.date.year))}))}function Hg(e){return Jl(0,[(e()(),Ol(0,0,null,null,3,"option",[],null,null,null,null,null)),Jr(1,147456,null,0,Lh,[Gt,Xt,[8,null]],{value:[0,"value"]},null),Jr(2,147456,null,0,Bh,[Gt,Xt,[8,null]],{value:[0,"value"]},null),(e()(),Gl(3,null,["",""]))],(function(e,t){e(t,1,0,t.context.$implicit),e(t,2,0,t.context.$implicit)}),(function(e,t){e(t,3,0,t.component.i18n.getYearNumerals(t.context.$implicit))}))}function Wg(e){return Jl(2,[$l(402653184,1,{monthSelect:0}),$l(402653184,2,{yearSelect:0}),(e()(),Ol(2,0,[[1,0],["month",1]],null,2,"select",[["aria-label","Select month"],["class","custom-select"],["title","Select month"]],[[8,"disabled",0]],[[null,"change"]],(function(e,t,n){var r=!0;return"change"===t&&(r=!1!==e.component.changeMonth(n.target.value)&&r),r}),null,null)),(e()(),Dl(16777216,null,null,1,null,zg)),Jr(4,278528,null,0,tu,[Cn,xn,fn],{ngForOf:[0,"ngForOf"]},null),(e()(),Ol(5,0,[[2,0],["year",1]],null,2,"select",[["aria-label","Select year"],["class","custom-select"],["title","Select year"]],[[8,"disabled",0]],[[null,"change"]],(function(e,t,n){var r=!0;return"change"===t&&(r=!1!==e.component.changeYear(n.target.value)&&r),r}),null,null)),(e()(),Dl(16777216,null,null,1,null,Hg)),Jr(7,278528,null,0,tu,[Cn,xn,fn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,4,0,n.months),e(t,7,0,n.years)}),(function(e,t){var n=t.component;e(t,2,0,n.disabled),e(t,5,0,n.disabled)}))}var Kg=jn({encapsulation:2,styles:["ngb-datepicker{border:1px solid #dfdfdf;border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}.ngb-dp-body{z-index:1050}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-months{display:-ms-flexbox;display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}"],data:{}});function Gg(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"div",[["class","btn-light"],["ngbDatepickerDayView",""]],[[2,"bg-primary",null],[2,"text-white",null],[2,"text-muted",null],[2,"outside",null],[2,"active",null]],null,null,qg,Ag)),Jr(1,49152,null,0,qm,[wm],{currentMonth:[0,"currentMonth"],date:[1,"date"],disabled:[2,"disabled"],focused:[3,"focused"],selected:[4,"selected"]},null)],(function(e,t){e(t,1,0,t.context.currentMonth,t.context.date,t.context.disabled,t.context.focused,t.context.selected)}),(function(e,t){e(t,0,0,$r(t,1).selected,$r(t,1).selected,$r(t,1).isMuted(),$r(t,1).isMuted(),$r(t,1).focused)}))}function Qg(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"div",[["class","ngb-dp-month-name"]],null,null,null,null,null)),(e()(),Gl(1,null,[" "," "," "]))],null,(function(e,t){var n=t.component;e(t,1,0,n.i18n.getMonthFullName(t.parent.context.$implicit.number,t.parent.context.$implicit.year),n.i18n.getYearNumerals(t.parent.context.$implicit.year))}))}function Zg(e){return Jl(0,[(e()(),Ol(0,0,null,null,4,"div",[["class","ngb-dp-month"]],null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,Qg)),Jr(2,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(3,0,null,null,1,"ngb-datepicker-month",[["role","grid"]],null,[[null,"keydown"]],(function(e,t,n){var r=!0;return"keydown"===t&&(r=!1!==$r(e,4).onKeyDown(n)&&r),r}),fv,sv)),Jr(4,49152,null,0,Pm,[wm,Em,Fm,_m],{month:[0,"month"]},null)],(function(e,t){var n=t.component;e(t,2,0,"none"===n.navigation||n.displayMonths>1&&"select"===n.navigation),e(t,4,0,t.context.$implicit.firstDate)}),null)}function Jg(e){return Jl(0,[(e()(),Dl(16777216,null,null,1,null,Zg)),Jr(1,278528,null,0,tu,[Cn,xn,fn],{ngForOf:[0,"ngForOf"]},null),(e()(),Dl(0,null,null,0))],(function(e,t){e(t,1,0,t.component.model.months)}),null)}function Yg(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"ngb-datepicker-navigation",[],null,[[null,"navigate"],[null,"select"]],(function(e,t,n){var r=!0,s=e.component;return"navigate"===t&&(r=!1!==s.onNavigateEvent(n)&&r),"select"===t&&(r=!1!==s.onNavigateDateSelect(n)&&r),r}),Ug,Rg)),Jr(1,49152,null,0,Dm,[wm],{date:[0,"date"],disabled:[1,"disabled"],months:[2,"months"],showSelect:[3,"showSelect"],prevDisabled:[4,"prevDisabled"],nextDisabled:[5,"nextDisabled"],selectBoxes:[6,"selectBoxes"]},{navigate:"navigate",select:"select"})],(function(e,t){var n=t.component;e(t,1,0,n.model.firstDate,n.model.disabled,n.model.months,"select"===n.model.navigation,n.model.prevDisabled,n.model.nextDisabled,n.model.selectBoxes)}),null)}function Xg(e){return Jl(0,[(e()(),Dl(0,null,null,0))],null,null)}function ev(e){return Jl(0,[(e()(),Dl(0,null,null,0))],null,null)}function tv(e){return Jl(2,[$l(402653184,1,{_defaultDayTemplate:0}),$l(402653184,2,{_contentEl:0}),(e()(),Dl(0,[[1,2],["defaultDayTemplate",2]],null,0,null,Gg)),(e()(),Dl(0,[["defaultContentTemplate",2]],null,0,null,Jg)),(e()(),Ol(4,0,null,null,2,"div",[["class","ngb-dp-header"]],null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,Yg)),Jr(6,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(7,0,[[2,0],["content",1]],null,2,"div",[["class","ngb-dp-content"]],[[2,"ngb-dp-months",null]],null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,Xg)),Jr(9,540672,null,0,cu,[Cn],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(e()(),Dl(16777216,null,null,1,null,ev)),Jr(11,540672,null,0,cu,[Cn],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null)],(function(e,t){var n=t.component;e(t,6,0,"none"!==n.navigation),e(t,9,0,(null==n.contentTemplate?null:n.contentTemplate.templateRef)||$r(t,3)),e(t,11,0,n.footerTemplate)}),(function(e,t){e(t,7,0,!t.component.contentTemplate)}))}function nv(e){return Jl(0,[(e()(),Ol(0,0,null,null,4,"ngb-datepicker",[],null,null,null,tv,Kg)),Yr(5120,null,ph,(function(e){return[e]}),[Em]),Yr(512,null,_m,_m,[fm,wm]),Jr(3,4964352,null,1,Em,[_m,fm,wm,km,gn,Gt,Sm,Qs],null,null),$l(335544320,1,{contentTemplate:0})],(function(e,t){e(t,3,0)}),null)}var rv=Tr("ngb-datepicker",Em,nv,{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekdays:"showWeekdays",showWeekNumbers:"showWeekNumbers",startDate:"startDate"},{navigate:"navigate",dateSelect:"dateSelect",select:"select"},[]),sv=jn({encapsulation:2,styles:['ngb-datepicker-month{display:block}.ngb-dp-week-number,.ngb-dp-weekday{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:#5bc0de;color:var(--info)}.ngb-dp-week{border-radius:.25rem;display:-ms-flexbox;display:flex}.ngb-dp-weekdays{border-bottom:1px solid rgba(0,0,0,.125);border-radius:0;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-day,.ngb-dp-week-number,.ngb-dp-weekday{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default}.ngb-dp-day[tabindex="0"]{z-index:1}'],data:{}});function lv(e){return Jl(0,[(e()(),Ol(0,0,null,null,0,"div",[["class","ngb-dp-weekday ngb-dp-showweek"]],null,null,null,null,null))],null,null)}function ov(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"div",[["class","ngb-dp-weekday small"],["role","columnheader"]],null,null,null,null,null)),(e()(),Gl(1,null,[" "," "]))],null,(function(e,t){e(t,1,0,t.component.i18n.getWeekdayShortName(t.context.$implicit))}))}function iv(e){return Jl(0,[(e()(),Ol(0,0,null,null,4,"div",[["class","ngb-dp-week ngb-dp-weekdays"],["role","row"]],null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,lv)),Jr(2,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,ov)),Jr(4,278528,null,0,tu,[Cn,xn,fn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.datepicker.showWeekNumbers),e(t,4,0,n.viewModel.weekdays)}),null)}function uv(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"div",[["class","ngb-dp-week-number small text-muted"]],null,null,null,null,null)),(e()(),Gl(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.component.i18n.getWeekNumerals(t.parent.parent.context.$implicit.number))}))}function av(e){return Jl(0,[(e()(),Dl(0,null,null,0))],null,null)}function cv(e){return Jl(0,[(e()(),Dl(16777216,null,null,1,null,av)),Jr(1,540672,null,0,cu,[Cn],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),(e()(),Dl(0,null,null,0))],(function(e,t){e(t,1,0,t.parent.context.$implicit.context,t.component.datepicker.dayTemplate)}),null)}function dv(e){return Jl(0,[(e()(),Ol(0,0,null,null,2,"div",[["class","ngb-dp-day"],["role","gridcell"]],[[2,"disabled",null],[8,"tabIndex",0],[2,"hidden",null],[2,"ngb-dp-today",null],[1,"aria-label",0]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(e.component.doSelect(e.context.$implicit),r=!1!==n.preventDefault()&&r),r}),null,null)),(e()(),Dl(16777216,null,null,1,null,cv)),Jr(2,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,2,0,!t.context.$implicit.hidden)}),(function(e,t){e(t,0,0,t.context.$implicit.context.disabled,t.context.$implicit.tabindex,t.context.$implicit.hidden,t.context.$implicit.context.today,t.context.$implicit.ariaLabel)}))}function pv(e){return Jl(0,[(e()(),Ol(0,0,null,null,4,"div",[["class","ngb-dp-week"],["role","row"]],null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,uv)),Jr(2,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,dv)),Jr(4,278528,null,0,tu,[Cn,xn,fn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.component.datepicker.showWeekNumbers),e(t,4,0,t.parent.context.$implicit.days)}),null)}function hv(e){return Jl(0,[(e()(),Dl(16777216,null,null,1,null,pv)),Jr(1,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(0,null,null,0))],(function(e,t){e(t,1,0,!t.context.$implicit.collapsed)}),null)}function fv(e){return Jl(0,[(e()(),Dl(16777216,null,null,1,null,iv)),Jr(1,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,hv)),Jr(3,278528,null,0,tu,[Cn,xn,fn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.datepicker.showWeekdays),e(t,3,0,n.viewModel.weeks)}),null)}var mv=jn({encapsulation:2,styles:["ngb-popover-window.bs-popover-bottom>.arrow,ngb-popover-window.bs-popover-top>.arrow{left:50%;margin-left:-.5rem}ngb-popover-window.bs-popover-bottom-left>.arrow,ngb-popover-window.bs-popover-top-left>.arrow{left:2em}ngb-popover-window.bs-popover-bottom-right>.arrow,ngb-popover-window.bs-popover-top-right>.arrow{left:auto;right:2em}ngb-popover-window.bs-popover-left>.arrow,ngb-popover-window.bs-popover-right>.arrow{top:50%;margin-top:-.5rem}ngb-popover-window.bs-popover-left-top>.arrow,ngb-popover-window.bs-popover-right-top>.arrow{top:.7em}ngb-popover-window.bs-popover-left-bottom>.arrow,ngb-popover-window.bs-popover-right-bottom>.arrow{top:auto;bottom:.7em}"],data:{}});function gv(e){return Jl(0,[(e()(),Gl(0,null,["",""]))],null,(function(e,t){e(t,0,0,t.component.title)}))}function vv(e){return Jl(0,[(e()(),Dl(0,null,null,0))],null,null)}function bv(e){return Jl(0,[(e()(),Ol(0,0,null,null,3,"h3",[["class","popover-header"]],null,null,null,null,null)),(e()(),Dl(0,[["simpleTitle",2]],null,0,null,gv)),(e()(),Dl(16777216,null,null,1,null,vv)),Jr(3,540672,null,0,cu,[Cn],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null)],(function(e,t){var n=t.component;e(t,3,0,n.context,n.isTitleTemplate()?n.title:$r(t,1))}),null)}function yv(e){return Jl(2,[(e()(),Ol(0,0,null,null,0,"div",[["class","arrow"]],null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,bv)),Jr(2,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(3,0,null,null,1,"div",[["class","popover-body"]],null,null,null,null,null)),Bl(null,0)],(function(e,t){e(t,2,0,null!=t.component.title)}),null)}function wv(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"ngb-popover-window",[["role","tooltip"]],[[8,"className",0],[8,"id",0]],null,null,yv,mv)),Jr(1,49152,null,0,eg,[],null,null)],null,(function(e,t){e(t,0,0,"popover"+($r(t,1).popoverClass?" "+$r(t,1).popoverClass:""),$r(t,1).id)}))}var xv=Tr("ngb-popover-window",eg,wv,{title:"title",id:"id",popoverClass:"popoverClass",context:"context"},{},["*"]),_v=jn({encapsulation:2,styles:["ngb-tooltip-window.bs-tooltip-bottom .arrow,ngb-tooltip-window.bs-tooltip-top .arrow{left:calc(50% - .4rem)}ngb-tooltip-window.bs-tooltip-bottom-left .arrow,ngb-tooltip-window.bs-tooltip-top-left .arrow{left:1em}ngb-tooltip-window.bs-tooltip-bottom-right .arrow,ngb-tooltip-window.bs-tooltip-top-right .arrow{left:auto;right:.8rem}ngb-tooltip-window.bs-tooltip-left .arrow,ngb-tooltip-window.bs-tooltip-right .arrow{top:calc(50% - .4rem)}ngb-tooltip-window.bs-tooltip-left-top .arrow,ngb-tooltip-window.bs-tooltip-right-top .arrow{top:.4rem}ngb-tooltip-window.bs-tooltip-left-bottom .arrow,ngb-tooltip-window.bs-tooltip-right-bottom .arrow{top:auto;bottom:.4rem}"],data:{}});function Cv(e){return Jl(2,[(e()(),Ol(0,0,null,null,0,"div",[["class","arrow"]],null,null,null,null,null)),(e()(),Ol(1,0,null,null,1,"div",[["class","tooltip-inner"]],null,null,null,null,null)),Bl(null,0)],null,null)}function kv(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"ngb-tooltip-window",[["role","tooltip"]],[[8,"className",0],[8,"id",0]],null,null,Cv,_v)),Jr(1,49152,null,0,ig,[],null,null)],null,(function(e,t){e(t,0,0,"tooltip show"+($r(t,1).tooltipClass?" "+$r(t,1).tooltipClass:""),$r(t,1).id)}))}var Mv=Tr("ngb-tooltip-window",ig,kv,{id:"id",tooltipClass:"tooltipClass"},{},["*"]),Sv=jn({encapsulation:2,styles:[],data:{}});function Tv(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"ngb-highlight",[],null,null,null,Nv,Ov)),Jr(1,573440,null,0,ag,[],{result:[0,"result"],term:[1,"term"]},null)],(function(e,t){var n=t.context.formatter(t.context.result);e(t,1,0,n,t.context.term)}),null)}function Ev(e){return Jl(0,[(e()(),Dl(0,null,null,0))],null,null)}function Iv(e){return Jl(0,[(e()(),Ol(0,0,null,null,3,"button",[["class","dropdown-item"],["role","option"],["type","button"]],[[8,"id",0],[2,"active",null]],[[null,"mouseenter"],[null,"click"]],(function(e,t,n){var r=!0,s=e.component;return"mouseenter"===t&&(r=!1!==s.markActive(e.context.index)&&r),"click"===t&&(r=!1!==s.select(e.context.$implicit)&&r),r}),null,null)),(e()(),Dl(16777216,null,null,2,null,Ev)),Jr(2,540672,null,0,cu,[Cn],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Wl(3,{result:0,term:1,formatter:2})],(function(e,t){var n=t.component,r=e(t,3,0,t.context.$implicit,n.term,n.formatter);e(t,2,0,r,n.resultTemplate||$r(t.parent,0))}),(function(e,t){var n=t.component;e(t,0,0,n.id+"-"+t.context.index,t.context.index===n.activeIdx)}))}function Fv(e){return Jl(0,[(e()(),Dl(0,[["rt",2]],null,0,null,Tv)),(e()(),Dl(16777216,null,null,1,null,Iv)),Jr(2,278528,null,0,tu,[Cn,xn,fn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.component.results)}),null)}function Pv(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"ngb-typeahead-window",[["class","dropdown-menu show"],["role","listbox"]],[[8,"id",0]],[[null,"mousedown"]],(function(e,t,n){var r=!0;return"mousedown"===t&&(r=!1!==n.preventDefault()&&r),r}),Fv,Sv)),Jr(1,114688,null,0,cg,[],null,null)],(function(e,t){e(t,1,0)}),(function(e,t){e(t,0,0,$r(t,1).id)}))}var Dv=Tr("ngb-typeahead-window",cg,Pv,{id:"id",focusFirst:"focusFirst",results:"results",term:"term",formatter:"formatter",resultTemplate:"resultTemplate"},{selectEvent:"select",activeChangeEvent:"activeChange"},[]),Ov=jn({encapsulation:2,styles:[".ngb-highlight{font-weight:700}"],data:{}});function Av(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"span",[],[[8,"className",0]],null,null,null,null)),(e()(),Gl(1,null,["",""]))],null,(function(e,t){e(t,0,0,t.component.highlightClass),e(t,1,0,t.parent.context.$implicit)}))}function qv(e){return Jl(0,[(e()(),Gl(0,null,["",""]))],null,(function(e,t){e(t,0,0,t.parent.context.$implicit)}))}function Rv(e){return Jl(0,[(e()(),Dl(16777216,null,null,1,null,Av)),Jr(1,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),Dl(0,[["even",2]],null,0,null,qv))],(function(e,t){e(t,1,0,t.context.odd,$r(t,2))}),null)}function Nv(e){return Jl(2,[(e()(),Dl(16777216,null,null,1,null,Rv)),Jr(1,278528,null,0,tu,[Cn,xn,fn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,1,0,t.component.parts)}),null)}var $v=jn({encapsulation:2,styles:[],data:{}});function jv(e){return Jl(0,[],null,null)}function Lv(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"ngb-modal-backdrop",[["style","z-index: 1050"]],[[8,"className",0]],null,null,jv,$v)),Jr(1,49152,null,0,zm,[],null,null)],null,(function(e,t){e(t,0,0,"modal-backdrop fade show"+($r(t,1).backdropClass?" "+$r(t,1).backdropClass:""))}))}var Vv=Tr("ngb-modal-backdrop",zm,Lv,{backdropClass:"backdropClass"},{},[]),Uv=jn({encapsulation:2,styles:["ngb-modal-window .component-host-scrollable{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}"],data:{}});function Bv(e){return Jl(0,[$l(402653184,1,{_dialogEl:0}),(e()(),Ol(1,0,[[1,0],["dialog",1]],null,2,"div",[["role","document"]],[[8,"className",0]],null,null,null,null)),(e()(),Ol(2,0,null,null,1,"div",[["class","modal-content"]],null,null,null,null,null)),Bl(null,0)],null,(function(e,t){var n=t.component;e(t,1,0,"modal-dialog"+(n.size?" modal-"+n.size:"")+(n.centered?" modal-dialog-centered":"")+(n.scrollable?" modal-dialog-scrollable":""))}))}function zv(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"ngb-modal-window",[["role","dialog"],["tabindex","-1"]],[[8,"className",0],[1,"aria-modal",0],[1,"aria-labelledby",0]],null,null,Bv,Uv)),Jr(1,4440064,null,0,Gm,[hu,Gt,Qs],null,null)],(function(e,t){e(t,1,0)}),(function(e,t){e(t,0,0,"modal fade show d-block"+($r(t,1).windowClass?" "+$r(t,1).windowClass:""),!0,$r(t,1).ariaLabelledBy)}))}var Hv=Tr("ngb-modal-window",Gm,zv,{ariaLabelledBy:"ariaLabelledBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass"},{dismissEvent:"dismiss"},["*"]);class Wv{constructor(){}ngOnInit(){}}var Kv=jn({encapsulation:0,styles:[[""]],data:{}});function Gv(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"div",[["class","picsum-img-wrapper"]],null,null,null,null,null)),(e()(),Ol(1,0,null,null,0,"img",[["alt","Create Feature Model"],["class","d-block w-100"],["src","assets/first_screen_exp.png"]],null,null,null,null,null)),(e()(),Ol(2,0,null,null,4,"div",[["class","carousel-caption"],["style","color: black;"]],null,null,null,null,null)),(e()(),Ol(3,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),Gl(-1,null,["1. Create Feature Model"])),(e()(),Ol(5,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Gl(-1,null,["In the first step, the business developer has to create a feature model with the business model decisions."]))],null,null)}function Qv(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"div",[["class","picsum-img-wrapper"]],null,null,null,null,null)),(e()(),Ol(1,0,null,null,0,"img",[["alt","Derive Business Models"],["class","d-block w-100"],["src","assets/second_screen_exp.png"]],null,null,null,null,null)),(e()(),Ol(2,0,null,null,4,"div",[["class","carousel-caption"],["style","color: black;"]],null,null,null,null,null)),(e()(),Ol(3,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),Gl(-1,null,["2. Derive Business Models"])),(e()(),Ol(5,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Gl(-1,null,["In the second step, the business developer can derive different business models from the feature model."]))],null,null)}function Zv(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"div",[["class","picsum-img-wrapper"]],null,null,null,null,null)),(e()(),Ol(1,0,null,null,0,"img",[["alt","Check Conformance"],["class","d-block w-100"],["src","assets/third_screen_exp.png"]],null,null,null,null,null)),(e()(),Ol(2,0,null,null,4,"div",[["class","carousel-caption"],["style","color: black;"]],null,null,null,null,null)),(e()(),Ol(3,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),Gl(-1,null,["3. Check Conformance"])),(e()(),Ol(5,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Gl(-1,null,["In the third step, the business developer can check the conformance between feature model and business model."]))],null,null)}function Jv(e){return Jl(0,[(e()(),Ol(0,0,null,null,3,"div",[["class","nav-scroller bg-white shadow-sm"]],null,null,null,null,null)),(e()(),Ol(1,0,null,null,2,"nav",[["class","nav nav-underline"]],null,null,null,null,null)),(e()(),Ol(2,0,null,null,1,"a",[["class","nav-link active"],["href","#"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Tool Explanation"])),(e()(),Ol(4,0,null,null,49,"main",[["class","container"],["role","main"]],null,null,null,null,null)),(e()(),Ol(5,0,null,null,6,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Ol(6,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Explanation of the Business Modeling Suite"])),(e()(),Ol(8,0,null,null,1,"p",[["class","mt-2"]],null,null,null,null,null)),(e()(),Gl(-1,null,["The Business Modeling Suite is a tool to describe Business Models through a combination of the Business Model Canvas (BMC) and a Software Product Line (SPL). We call this concept Business Model Decision Line (BMDL), where each feature describes a single business model decision. Features can be ordered in hierarchies and marked as mandatory or optional for the business models. Moreover, there can be Or (at least one sub-feature is selected) and Alternate (exactly one sub-feature is selected) relationships between a parent and a child feature. To refine the business models, cross-tree constraints for requiring and excluding dependencies can be made."])),(e()(),Ol(10,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Gl(-1,null,["The current state of the tool allows the creation of feature models and the deriving of business models. New business model decisions of single business models are synchronized with the corresponding feature model to ensure consistency. Moreover, the conformance of business models can be checked with the feature model and occurring conformance errors are explained."])),(e()(),Ol(12,0,null,null,26,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Ol(13,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Execution Steps"])),(e()(),Ol(15,0,null,null,8,"ngb-carousel",[["class","carousel slide"],["tabIndex","0"]],[[4,"display",null]],[[null,"keydown.arrowLeft"],[null,"keydown.arrowRight"],[null,"mouseenter"],[null,"mouseleave"]],(function(e,t,n){var r=!0;return"keydown.arrowLeft"===t&&(r=!1!==($r(e,16).keyboard&&$r(e,16).prev($r(e,16).NgbSlideEventSource.ARROW_LEFT))&&r),"keydown.arrowRight"===t&&(r=!1!==($r(e,16).keyboard&&$r(e,16).next($r(e,16).NgbSlideEventSource.ARROW_RIGHT))&&r),"mouseenter"===t&&(r=!1!==$r(e,16).mouseEnter()&&r),"mouseleave"===t&&(r=!1!==$r(e,16).mouseLeave()&&r),r}),Og,Sg)),Jr(16,3325952,null,1,lm,[nm,Is,Qs,gn],null,null),$l(603979776,1,{slides:1}),(e()(),Dl(0,null,null,1,null,Gv)),Jr(19,16384,[[1,4]],0,sm,[xn],null,null),(e()(),Dl(0,null,null,1,null,Qv)),Jr(21,16384,[[1,4]],0,sm,[xn],null,null),(e()(),Dl(0,null,null,1,null,Zv)),Jr(23,16384,[[1,4]],0,sm,[xn],null,null),(e()(),Ol(24,0,null,null,1,"p",[["class","mt-2"]],null,null,null,null,null)),(e()(),Gl(-1,null,[" Information about the execution steps: "])),(e()(),Ol(26,0,null,null,12,"ol",[],null,null,null,null,null)),(e()(),Ol(27,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),Ol(28,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),Gl(-1,null,["Create Feature Model:"])),(e()(),Gl(-1,null,[" In the first step, the business developer has to create a feature model with all business model decisions. To support the conformance checking process, he can define mandatory and optional features and create dependencies (requires, excludes) between the features."])),(e()(),Ol(31,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),Ol(32,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),Gl(-1,null,["Derive Business Models:"])),(e()(),Gl(-1,null,[" In the second step, the business developer can derive a different business model from the feature model. Here, he can use the existing features from the feature model or add new business model decisions. These new feature model decisions will be added to the feature model to save consistency."])),(e()(),Ol(35,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),Ol(36,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),Gl(-1,null,["Check Conformance:"])),(e()(),Gl(-1,null,[" In the third step, the business developer can check the conformance between the feature model and the business model. Conformance errors will be explained to support the resolution."])),(e()(),Ol(39,0,null,null,14,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Ol(40,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Further Information"])),(e()(),Ol(42,0,null,null,1,"p",[["class","mt-2"]],null,null,null,null,null)),(e()(),Gl(-1,null,[" Further information can be accessed in two ways: "])),(e()(),Ol(44,0,null,null,9,"ul",[],null,null,null,null,null)),(e()(),Ol(45,0,null,null,4,"li",[],null,null,null,null,null)),(e()(),Ol(46,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),Gl(-1,null,["Download Source Code: "])),(e()(),Ol(48,0,null,null,1,"a",[["href","https://github.com/blindreviewconference/business-modeling-suite"]],null,null,null,null,null)),(e()(),Gl(-1,null,["https://github.com/blindreviewconference/business-modeling-suite"])),(e()(),Ol(50,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),Ol(51,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),Gl(-1,null,["Read Research Paper:"])),(e()(),Gl(-1,null,[" Currently under review"]))],null,(function(e,t){e(t,15,0,"block")}))}function Yv(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"app-tool-explanation",[],null,null,null,Jv,Kv)),Jr(1,114688,null,0,Wv,[],null,null)],(function(e,t){e(t,1,0)}),null)}var Xv=Tr("app-tool-explanation",Wv,Yv,{},{},[]);class eb{constructor(){this.closeModal=new ws,this.deletionResult=new ws}ngOnInit(){}}var tb=jn({encapsulation:0,styles:[[""]],data:{}});function nb(e){return Jl(0,[(e()(),Ol(0,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),Ol(1,0,null,null,1,"h4",[["class","modal-title"],["id","modal-basic-title"]],null,null,null,null,null)),(e()(),Gl(2,null,["",""])),(e()(),Ol(3,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.closeModal.emit()&&r),r}),null,null)),(e()(),Ol(4,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),Gl(-1,null,["\xd7"])),(e()(),Ol(6,0,null,null,7,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),Ol(7,0,null,null,6,"div",[["class","alert alert-warning"],["role","alert"]],null,null,null,null,null)),(e()(),Ol(8,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Gl(9,null,['You are trying to remove the feature "','". Please keep in mind that you are removing also all subfeatures together with the corresponding dependencies.'])),(e()(),Ol(10,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Gl(-1,null,["Moreover, the feature is also removed from all business canvases."])),(e()(),Ol(12,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Gl(-1,null,["Additionally all traces to expert models of this feature will be deleted."])),(e()(),Ol(14,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(e()(),Ol(15,0,null,null,1,"button",[["class","btn btn-block btn-warning"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0,s=e.component;return"click"===t&&(r=!1!==s.deletionResult.emit(s.feature.id)&&r),r}),null,null)),(e()(),Gl(-1,null,[" Delete Feature "]))],null,(function(e,t){var n=t.component;e(t,2,0,n.feature.name),e(t,9,0,n.feature.name)}))}var rb=function(e){return e.REQUIRES="requires",e.EXCLUDES="excludes",e.SUPPORTS="supports",e.HURTS="hurts",e}({});class sb{constructor(e){this.requires=[],this.excludes=[],this.supports=[],this.hurts=[],Object.assign(this,e)}addRelationship(e,t){let n;switch(e){case rb.REQUIRES:n=this.requires;break;case rb.EXCLUDES:n=this.excludes;break;case rb.SUPPORTS:n=this.supports;break;case rb.HURTS:n=this.hurts}n.includes(t)||n.push(t)}removeRelationship(e,t){switch(e){case rb.REQUIRES:this.requires=this.requires.filter(e=>e!==t);break;case rb.EXCLUDES:this.excludes=this.excludes.filter(e=>e!==t);break;case rb.SUPPORTS:this.supports=this.supports.filter(e=>e!==t);break;case rb.HURTS:this.hurts=this.hurts.filter(e=>e!==t)}}removeRelationships(e){this.requires=this.requires.filter(t=>!e.includes(t)),this.excludes=this.excludes.filter(t=>!e.includes(t)),this.supports=this.supports.filter(t=>!e.includes(t)),this.hurts=this.hurts.filter(t=>!e.includes(t))}hasNoRelationships(){return this.requires.length+this.excludes.length+this.supports.length+this.hurts.length===0}getAllReferencedFeatureIds(){return[...this.requires,...this.excludes,...this.supports,...this.hurts]}toPouchDb(){return{requires:this.requires,excludes:this.excludes,supports:this.supports,hurts:this.hurts}}}class lb{constructor(){this.companyModel=null,this.closeModal=new ws,this.addRelationshipOnCompanyModel=new ws,this.removeRelationship=new ws}ngOnChanges(e){e.feature&&this.load(e.feature.currentValue)}add(e,t){this.addRelationshipOnCompanyModel.emit({type:e,fromFeatureId:this.feature.id,toFeatureId:this.companyModel.expertModelTraces[this.featureModel._id].expertFeatureIdMap[t]})}remove(e,t){this.removeRelationship.emit({type:e,fromFeatureId:this.feature.id,toFeatureId:t})}load(e){this.relationships=[],this.tracedFeature=null;const t=this.featureModel.getFeatureMap();if(this.loadRelationship("Requires",rb.REQUIRES,e.relationships.requires,t),this.loadRelationship("Excludes",rb.EXCLUDES,e.relationships.excludes,t),this.loadRelationship("Supports",rb.SUPPORTS,e.relationships.supports,t),this.loadRelationship("Hurts",rb.HURTS,e.relationships.hurts,t),this.companyModel){const e=this.companyModel.expertModelTraces[this.featureModel._id].expertFeatureIdMap[this.feature.id];e&&(this.tracedFeature=this.companyModel.getFeature(e))}}loadRelationship(e,t,n,r){this.relationships.push({name:e,type:t,features:n.map(e=>r[e])})}relationshipDoesNotExistInCompanyModel(e,t){const n=this.companyModel.expertModelTraces[this.featureModel._id].expertFeatureIdMap[t];if(n)switch(e){case rb.REQUIRES:return!this.tracedFeature.relationships.requires.includes(n);case rb.EXCLUDES:return!this.tracedFeature.relationships.excludes.includes(n);case rb.SUPPORTS:return!this.tracedFeature.relationships.supports.includes(n);case rb.HURTS:return!this.tracedFeature.relationships.hurts.includes(n)}}}var ob=jn({encapsulation:0,styles:[[""]],data:{}});function ib(e){return Jl(0,[(e()(),Ol(0,0,null,null,2,"div",[["class","alert alert-info"],["role","alert"]],null,null,null,null,null)),(e()(),Ol(1,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Gl(-1,null,["There are no dependencies left to remove."]))],null,null)}function ub(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"button",[["class","btn btn-warning btn-xs bottom-right"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.add(e.parent.parent.parent.context.$implicit.type,e.parent.context.$implicit.id)&&r),r}),null,null)),(e()(),Gl(-1,null,[" Add "]))],null,null)}function ab(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"button",[["class","btn btn-warning btn-xs bottom-right"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.remove(e.parent.parent.parent.context.$implicit.type,e.parent.context.$implicit.id)&&r),r}),null,null)),(e()(),Gl(-1,null,[" Delete "]))],null,null)}function cb(e){return Jl(0,[(e()(),Ol(0,0,null,null,5,"li",[["class","list-group-item justify-content-between align-items-center"]],null,null,null,null,null)),(e()(),Gl(1,null,[" "," "])),(e()(),Dl(16777216,null,null,1,null,ub)),Jr(3,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,ab)),Jr(5,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,3,0,n.companyModel&&n.relationshipDoesNotExistInCompanyModel(t.parent.parent.context.$implicit.type,t.context.$implicit.id)),e(t,5,0,!n.companyModel)}),(function(e,t){e(t,1,0,t.context.$implicit.name)}))}function db(e){return Jl(0,[(e()(),Ol(0,0,null,null,5,"li",[["class","list-group-item justify-content-between align-items-center"]],null,null,null,null,null)),(e()(),Ol(1,0,null,null,0,"i",[["class","fa fa-arrow-right"]],null,null,null,null,null)),(e()(),Gl(2,null,[" ",": "])),(e()(),Ol(3,0,null,null,2,"ul",[["class","list-group inner"],["style","margin:5px;"]],null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,cb)),Jr(5,278528,null,0,tu,[Cn,xn,fn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,5,0,t.parent.context.$implicit.features)}),(function(e,t){e(t,2,0,t.parent.context.$implicit.name)}))}function pb(e){return Jl(0,[(e()(),Ol(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,db)),Jr(2,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(0,null,null,0))],(function(e,t){e(t,2,0,0!==t.context.$implicit.features.length)}),null)}function hb(e){return Jl(0,[(e()(),Ol(0,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),Ol(1,0,null,null,1,"h4",[["class","modal-title"],["id","modal-basic-title"]],null,null,null,null,null)),(e()(),Gl(2,null,["",""])),(e()(),Ol(3,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.closeModal.emit()&&r),r}),null,null)),(e()(),Ol(4,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),Gl(-1,null,["\xd7"])),(e()(),Ol(6,0,null,null,5,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,ib)),Jr(8,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(9,0,null,null,2,"ul",[["class","list-group inner"],["style","margin:5px;"]],null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,pb)),Jr(11,278528,null,0,tu,[Cn,xn,fn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,8,0,n.feature.relationships.hasNoRelationships()),e(t,11,0,n.relationships)}),(function(e,t){e(t,2,0,t.component.feature.name)}))}var fb=function(e){return e.OPTIONAL="optional",e.MANDATORY="mandatory",e}({}),mb=function(e){return e.OR="or",e.XOR="xor",e}({});class gb{constructor(e,t,n){this.type=fb.OPTIONAL,this.subfeatures={},this.subfeatureConnections=null,this.expertModelTrace={},this.parent=null,Object.assign(this,n),this.id=e,this.parent=t,this.level=this.parent?this.parent.level+1:1,Object.entries(this.subfeatures).forEach(([e,t])=>this.subfeatures[e]=new gb(e,this,t)),this.relationships=new sb(this.relationships)}static nameToId(e){return e.toLowerCase().replace(/ /g,"-")}update(e){Object.assign(this,e)}addSubfeature(e){const t=e.id;return this.subfeatures[t]=new gb(t,this,e),this.subfeatures[t]}removeSubfeature(e){if(!(e in this.subfeatures))throw new Error("Feature "+this.name+" has no subfeature with id "+e);delete this.subfeatures[e]}getAllSubfeatures(){const e=[];return this.iterateFeatures(t=>(e.push(t),!1)),e}getLevelname(){return"-".repeat(this.level)+" "+this.name}addRelationship(e,t){this.relationships.addRelationship(e,t)}removeRelationship(e,t){this.relationships.removeRelationship(e,t)}removeRelationships(e){this.relationships.removeRelationships(e)}addTrace(e,t){if(this.expertModelTrace[e])throw new Error("Trace for this feature is already defined");this.expertModelTrace[e]=t}removeTrace(e){delete this.expertModelTrace[e]}toPouchDb(){const e={};return Object.entries(this.subfeatures).forEach(([t,n])=>e[t]=n.toPouchDb()),{name:this.name,description:this.description,type:this.type,subfeatures:e,subfeatureConnections:this.subfeatureConnections,relationships:this.relationships.toPouchDb(),expertModelTrace:this.expertModelTrace}}toJSON(){return{name:this.name,description:this.description?this.description:void 0,type:this.type,subfeatures:this.subfeatures,subfeatureConnections:this.subfeatureConnections,relationships:this.relationships}}iterateFeatures(e){const t=[];for(t.push(...Object.values(this.subfeatures).reverse());t.length>0;){const n=t.pop();if(e(n))return;t.push(...Object.values(n.subfeatures).reverse())}}}class vb{constructor(e){this.fb=e,this.feature=null,this.disabledSubfeatures=[],this.enabledSubfeatures=null,this.submitButtonText="Update Feature",this.submitFeatureForm=new ws}ngOnInit(){null===this.feature&&this.loadForm()}ngOnChanges(e){e.feature&&this.loadForm(e.feature.currentValue)}submitForm(){this.submitFeatureForm.emit(this.featureForm),this.loadForm()}loadForm(e=null){null===e&&(e=new gb(null,new gb(this.featureList[0].id,null,{}),{name:""})),this.featureForm=this.fb.group({name:[e.name,Mh.required],description:e.description,type:e.type,subfeatureConnections:e.subfeatureConnections,subfeatureOf:e.parent?e.parent.id:null}),Object.keys(e.expertModelTrace).length>0&&this.featureForm.get("subfeatureOf").disable()}}var bb=jn({encapsulation:0,styles:[[""]],data:{}});function yb(e){return Jl(0,[(e()(),Ol(0,0,null,null,3,"option",[],[[8,"disabled",0]],null,null,null,null)),Jr(1,147456,null,0,Lh,[Gt,Xt,[2,jh]],{ngValue:[0,"ngValue"]},null),Jr(2,147456,null,0,Bh,[Gt,Xt,[8,null]],{ngValue:[0,"ngValue"]},null),(e()(),Gl(3,null,[""," "]))],(function(e,t){e(t,1,0,t.context.$implicit.id),e(t,2,0,t.context.$implicit.id)}),(function(e,t){var n=t.component;e(t,0,0,n.disabledSubfeatures.includes(t.context.$implicit.id)||n.enabledSubfeatures&&!n.enabledSubfeatures.includes(t.context.$implicit.id)),e(t,3,0,t.context.$implicit.levelname)}))}function wb(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"div",[["class","mt-1"]],null,null,null,null,null)),(e()(),Gl(-1,null,[" Disabled, because this feature has a trace to an expert model "]))],null,null)}function xb(e){return Jl(0,[(e()(),Ol(0,0,null,null,13,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Ol(1,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","subfeatureOf"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Subfeature of"])),(e()(),Ol(3,0,null,null,10,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Ol(4,0,null,null,7,"select",[["class","form-control"],["formControlName","subfeatureOf"],["id","subfeatureOf"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var r=!0;return"change"===t&&(r=!1!==$r(e,5).onChange(n.target.value)&&r),"blur"===t&&(r=!1!==$r(e,5).onTouched()&&r),r}),null,null)),Jr(5,16384,null,0,jh,[Xt,Gt],null,null),Yr(1024,null,ph,(function(e){return[e]}),[jh]),Jr(7,671744,null,0,mf,[[3,vh],[8,null],[8,null],[6,ph],[2,cf]],{name:[0,"name"]},null),Yr(2048,null,yh,null,[mf]),Jr(9,16384,null,0,xh,[[4,yh]],null,null),(e()(),Dl(16777216,null,null,1,null,yb)),Jr(11,278528,null,0,tu,[Cn,xn,fn],{ngForOf:[0,"ngForOf"]},null),(e()(),Dl(16777216,null,null,1,null,wb)),Jr(13,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,7,0,"subfeatureOf"),e(t,11,0,n.featureList),e(t,13,0,n.featureForm.get("subfeatureOf").disabled)}),(function(e,t){e(t,4,0,$r(t,9).ngClassUntouched,$r(t,9).ngClassTouched,$r(t,9).ngClassPristine,$r(t,9).ngClassDirty,$r(t,9).ngClassValid,$r(t,9).ngClassInvalid,$r(t,9).ngClassPending)}))}function _b(e){return Jl(0,[(e()(),Ol(0,0,null,null,70,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,t,n){var r=!0,s=e.component;return"submit"===t&&(r=!1!==$r(e,2).onSubmit(n)&&r),"reset"===t&&(r=!1!==$r(e,2).onReset()&&r),"ngSubmit"===t&&(r=!1!==s.submitForm()&&r),r}),null,null)),Jr(1,16384,null,0,af,[],null,null),Jr(2,540672,null,0,df,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),Yr(2048,null,vh,null,[df]),Jr(4,16384,null,0,_h,[[4,vh]],null,null),(e()(),Ol(5,0,null,null,9,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Ol(6,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","name"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Feature Name"])),(e()(),Ol(8,0,null,null,6,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Ol(9,0,null,null,5,"input",[["class","form-control"],["formControlName","name"],["id","name"],["type","text"]],[[8,"readOnly",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0;return"input"===t&&(r=!1!==$r(e,10)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==$r(e,10).onTouched()&&r),"compositionstart"===t&&(r=!1!==$r(e,10)._compositionStart()&&r),"compositionend"===t&&(r=!1!==$r(e,10)._compositionEnd(n.target.value)&&r),r}),null,null)),Jr(10,16384,null,0,mh,[Xt,Gt,[2,fh]],null,null),Yr(1024,null,ph,(function(e){return[e]}),[mh]),Jr(12,671744,null,0,mf,[[3,vh],[8,null],[8,null],[6,ph],[2,cf]],{name:[0,"name"]},null),Yr(2048,null,yh,null,[mf]),Jr(14,16384,null,0,xh,[[4,yh]],null,null),(e()(),Ol(15,0,null,null,9,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Ol(16,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","description"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Feature Description"])),(e()(),Ol(18,0,null,null,6,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Ol(19,0,null,null,5,"input",[["class","form-control"],["formControlName","description"],["id","description"],["type","text"]],[[8,"readOnly",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0;return"input"===t&&(r=!1!==$r(e,20)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==$r(e,20).onTouched()&&r),"compositionstart"===t&&(r=!1!==$r(e,20)._compositionStart()&&r),"compositionend"===t&&(r=!1!==$r(e,20)._compositionEnd(n.target.value)&&r),r}),null,null)),Jr(20,16384,null,0,mh,[Xt,Gt,[2,fh]],null,null),Yr(1024,null,ph,(function(e){return[e]}),[mh]),Jr(22,671744,null,0,mf,[[3,vh],[8,null],[8,null],[6,ph],[2,cf]],{name:[0,"name"]},null),Yr(2048,null,yh,null,[mf]),Jr(24,16384,null,0,xh,[[4,yh]],null,null),(e()(),Dl(16777216,null,null,1,null,xb)),Jr(26,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(27,0,null,null,17,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Ol(28,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","type"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Mandatory Feature"])),(e()(),Ol(30,0,null,null,14,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Ol(31,0,null,null,13,"select",[["class","form-control"],["formControlName","type"],["id","type"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var r=!0;return"change"===t&&(r=!1!==$r(e,32).onChange(n.target.value)&&r),"blur"===t&&(r=!1!==$r(e,32).onTouched()&&r),r}),null,null)),Jr(32,16384,null,0,jh,[Xt,Gt],null,null),Yr(1024,null,ph,(function(e){return[e]}),[jh]),Jr(34,671744,null,0,mf,[[3,vh],[8,null],[8,null],[6,ph],[2,cf]],{name:[0,"name"]},null),Yr(2048,null,yh,null,[mf]),Jr(36,16384,null,0,xh,[[4,yh]],null,null),(e()(),Ol(37,0,null,null,3,"option",[],null,null,null,null,null)),Jr(38,147456,null,0,Lh,[Gt,Xt,[2,jh]],{ngValue:[0,"ngValue"]},null),Jr(39,147456,null,0,Bh,[Gt,Xt,[8,null]],{ngValue:[0,"ngValue"]},null),(e()(),Gl(-1,null,["Yes"])),(e()(),Ol(41,0,null,null,3,"option",[],null,null,null,null,null)),Jr(42,147456,null,0,Lh,[Gt,Xt,[2,jh]],{ngValue:[0,"ngValue"]},null),Jr(43,147456,null,0,Bh,[Gt,Xt,[8,null]],{ngValue:[0,"ngValue"]},null),(e()(),Gl(-1,null,["No"])),(e()(),Ol(45,0,null,null,21,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Ol(46,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","subfeatureConnections"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Subfeature Connections"])),(e()(),Ol(48,0,null,null,18,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Ol(49,0,null,null,17,"select",[["class","form-control"],["formControlName","subfeatureConnections"],["id","subfeatureConnections"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var r=!0;return"change"===t&&(r=!1!==$r(e,50).onChange(n.target.value)&&r),"blur"===t&&(r=!1!==$r(e,50).onTouched()&&r),r}),null,null)),Jr(50,16384,null,0,jh,[Xt,Gt],null,null),Yr(1024,null,ph,(function(e){return[e]}),[jh]),Jr(52,671744,null,0,mf,[[3,vh],[8,null],[8,null],[6,ph],[2,cf]],{name:[0,"name"]},null),Yr(2048,null,yh,null,[mf]),Jr(54,16384,null,0,xh,[[4,yh]],null,null),(e()(),Ol(55,0,null,null,3,"option",[],null,null,null,null,null)),Jr(56,147456,null,0,Lh,[Gt,Xt,[2,jh]],{ngValue:[0,"ngValue"]},null),Jr(57,147456,null,0,Bh,[Gt,Xt,[8,null]],{ngValue:[0,"ngValue"]},null),(e()(),Gl(-1,null,["None"])),(e()(),Ol(59,0,null,null,3,"option",[],null,null,null,null,null)),Jr(60,147456,null,0,Lh,[Gt,Xt,[2,jh]],{ngValue:[0,"ngValue"]},null),Jr(61,147456,null,0,Bh,[Gt,Xt,[8,null]],{ngValue:[0,"ngValue"]},null),(e()(),Gl(-1,null,["XOR"])),(e()(),Ol(63,0,null,null,3,"option",[],null,null,null,null,null)),Jr(64,147456,null,0,Lh,[Gt,Xt,[2,jh]],{ngValue:[0,"ngValue"]},null),Jr(65,147456,null,0,Bh,[Gt,Xt,[8,null]],{ngValue:[0,"ngValue"]},null),(e()(),Gl(-1,null,["OR"])),(e()(),Ol(67,0,null,null,3,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Ol(68,0,null,null,2,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),Ol(69,0,null,null,1,"button",[["class","btn btn-dark btn-block"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),Gl(70,null,[" "," "]))],(function(e,t){var n=t.component;e(t,2,0,n.featureForm),e(t,12,0,"name"),e(t,22,0,"description"),e(t,26,0,!n.feature||null!==n.feature.parent),e(t,34,0,"type"),e(t,38,0,"mandatory"),e(t,39,0,"mandatory"),e(t,42,0,"optional"),e(t,43,0,"optional"),e(t,52,0,"subfeatureConnections"),e(t,56,0,null),e(t,57,0,null),e(t,60,0,"xor"),e(t,61,0,"xor"),e(t,64,0,"or"),e(t,65,0,"or")}),(function(e,t){var n=t.component;e(t,0,0,$r(t,4).ngClassUntouched,$r(t,4).ngClassTouched,$r(t,4).ngClassPristine,$r(t,4).ngClassDirty,$r(t,4).ngClassValid,$r(t,4).ngClassInvalid,$r(t,4).ngClassPending),e(t,9,0,n.feature&&null===n.feature.parent,$r(t,14).ngClassUntouched,$r(t,14).ngClassTouched,$r(t,14).ngClassPristine,$r(t,14).ngClassDirty,$r(t,14).ngClassValid,$r(t,14).ngClassInvalid,$r(t,14).ngClassPending),e(t,19,0,n.feature&&null===n.feature.parent,$r(t,24).ngClassUntouched,$r(t,24).ngClassTouched,$r(t,24).ngClassPristine,$r(t,24).ngClassDirty,$r(t,24).ngClassValid,$r(t,24).ngClassInvalid,$r(t,24).ngClassPending),e(t,31,0,$r(t,36).ngClassUntouched,$r(t,36).ngClassTouched,$r(t,36).ngClassPristine,$r(t,36).ngClassDirty,$r(t,36).ngClassValid,$r(t,36).ngClassInvalid,$r(t,36).ngClassPending),e(t,49,0,$r(t,54).ngClassUntouched,$r(t,54).ngClassTouched,$r(t,54).ngClassPristine,$r(t,54).ngClassDirty,$r(t,54).ngClassValid,$r(t,54).ngClassInvalid,$r(t,54).ngClassPending),e(t,69,0,!n.featureForm.valid),e(t,70,0,n.submitButtonText)}))}class Cb{constructor(){this.openDependenciesEmitter=new ws,this.updateFeatureEmitter=new ws,this.deleteFeatureEmitter=new ws}openDependencies(e){this.openDependenciesEmitter.emit(e)}openDependenciesForwardEmitter(e){this.openDependencies(e)}updateFeature(e){this.updateFeatureEmitter.emit(e)}updateFeatureForwardEmitter(e){this.updateFeature(e)}deleteFeature(e){this.deleteFeatureEmitter.emit(e)}deleteFeatureForwardEmitter(e){this.deleteFeature(e)}getFeatures(){return Object.values(this.features)}}var kb=jn({encapsulation:0,styles:[[""]],data:{}});function Mb(e){return Jl(0,[(e()(),Ol(0,0,null,null,0,"i",[["class","fa fa-circle"]],null,null,null,null,null))],null,null)}function Sb(e){return Jl(0,[(e()(),Ol(0,0,null,null,0,"i",[["class","fa fa-circle-o"]],null,null,null,null,null))],null,null)}function Tb(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"small",[["class","text-muted"]],null,null,null,null,null)),(e()(),Gl(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.parent.context.$implicit.description)}))}function Eb(e){return Jl(0,[(e()(),Ol(0,0,null,null,0,"i",[["class","fa fa-caret-up"]],null,null,null,null,null))],null,null)}function Ib(e){return Jl(0,[(e()(),Ol(0,0,null,null,0,"i",[["class","fa fa-angle-up"]],null,null,null,null,null))],null,null)}function Fb(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"button",[["class","btn btn-dark btn-xs mr-1"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.openDependencies(e.parent.context.$implicit.id)&&r),r}),null,null)),(e()(),Gl(-1,null,["Show Dependencies "]))],null,null)}function Pb(e){return Jl(0,[(e()(),Ol(0,0,null,null,24,"li",[["class","d-flex flex-wrap list-group-item justify-content-between align-items-center"]],null,null,null,null,null)),(e()(),Ol(1,0,null,null,14,"div",[["class","d-flex"]],null,null,null,null,null)),(e()(),Ol(2,0,null,null,4,"div",[["class","mr-1"]],null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,Mb)),Jr(4,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,Sb)),Jr(6,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(7,0,null,null,3,"div",[["class","mr-1"]],null,null,null,null,null)),(e()(),Gl(8,null,[" "," "])),(e()(),Dl(16777216,null,null,1,null,Tb)),Jr(10,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(11,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,Eb)),Jr(13,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,Ib)),Jr(15,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16,0,null,null,6,"div",[],null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,Fb)),Jr(18,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(19,0,null,null,1,"button",[["class","btn btn-warning btn-xs mr-1"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.updateFeature(e.context.$implicit.id)&&r),r}),null,null)),(e()(),Gl(-1,null,["Update"])),(e()(),Ol(21,0,null,null,1,"button",[["class","btn btn-danger btn-xs"],["type","button"]],[[2,"invisible",null]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.deleteFeature(e.context.$implicit.id)&&r),r}),null,null)),(e()(),Gl(-1,null,[" Delete "])),(e()(),Ol(23,0,null,null,1,"app-feature-tree",[["class","w-100"]],null,[[null,"openDependenciesEmitter"],[null,"updateFeatureEmitter"],[null,"deleteFeatureEmitter"]],(function(e,t,n){var r=!0,s=e.component;return"openDependenciesEmitter"===t&&(r=!1!==s.openDependenciesForwardEmitter(n)&&r),"updateFeatureEmitter"===t&&(r=!1!==s.updateFeatureForwardEmitter(n)&&r),"deleteFeatureEmitter"===t&&(r=!1!==s.deleteFeatureForwardEmitter(n)&&r),r}),Ob,kb)),Jr(24,49152,null,0,Cb,[],{features:[0,"features"]},{openDependenciesEmitter:"openDependenciesEmitter",updateFeatureEmitter:"updateFeatureEmitter",deleteFeatureEmitter:"deleteFeatureEmitter"})],(function(e,t){e(t,4,0,"mandatory"===t.context.$implicit.type),e(t,6,0,"optional"===t.context.$implicit.type),e(t,10,0,t.context.$implicit.description),e(t,13,0,"or"===t.context.$implicit.subfeatureConnections),e(t,15,0,"xor"===t.context.$implicit.subfeatureConnections);var n=!t.context.$implicit.relationships.hasNoRelationships();e(t,18,0,n),e(t,24,0,t.context.$implicit.subfeatures)}),(function(e,t){e(t,8,0,t.context.$implicit.name),e(t,21,0,null===t.context.$implicit.parent)}))}function Db(e){return Jl(0,[(e()(),Ol(0,0,null,null,2,"ul",[["class","list-group inner"],["style","margin:5px;"]],null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,Pb)),Jr(2,278528,null,0,tu,[Cn,xn,fn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.component.getFeatures())}),null)}function Ob(e){return Jl(0,[(e()(),Dl(16777216,null,null,1,null,Db)),Jr(1,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,t.component.features)}),null)}class Ab{constructor(e){this.fb=e,this.submitRelationshipForm=new ws}ngOnInit(){this.loadForm()}loadForm(){this.relationshipForm=this.fb.group({relationshipType:rb.REQUIRES,fromFeatureId:[this.featureList[0].id],toFeatureId:[this.featureList[1].id]})}submitForm(){this.submitRelationshipForm.emit(this.relationshipForm),this.loadForm()}}var qb=jn({encapsulation:0,styles:[[""]],data:{}});function Rb(e){return Jl(0,[(e()(),Ol(0,0,null,null,3,"option",[],null,null,null,null,null)),Jr(1,147456,null,0,Lh,[Gt,Xt,[2,jh]],{ngValue:[0,"ngValue"]},null),Jr(2,147456,null,0,Bh,[Gt,Xt,[8,null]],{ngValue:[0,"ngValue"]},null),(e()(),Gl(3,null,[""," "]))],(function(e,t){e(t,1,0,t.context.$implicit.id),e(t,2,0,t.context.$implicit.id)}),(function(e,t){e(t,3,0,t.context.$implicit.levelname)}))}function Nb(e){return Jl(0,[(e()(),Ol(0,0,null,null,3,"option",[],null,null,null,null,null)),Jr(1,147456,null,0,Lh,[Gt,Xt,[2,jh]],{ngValue:[0,"ngValue"]},null),Jr(2,147456,null,0,Bh,[Gt,Xt,[8,null]],{ngValue:[0,"ngValue"]},null),(e()(),Gl(3,null,[""," "]))],(function(e,t){e(t,1,0,t.context.$implicit.id),e(t,2,0,t.context.$implicit.id)}),(function(e,t){e(t,3,0,t.context.$implicit.levelname)}))}function $b(e){return Jl(0,[(e()(),Ol(0,0,null,null,58,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,t,n){var r=!0,s=e.component;return"submit"===t&&(r=!1!==$r(e,2).onSubmit(n)&&r),"reset"===t&&(r=!1!==$r(e,2).onReset()&&r),"ngSubmit"===t&&(r=!1!==s.submitForm()&&r),r}),null,null)),Jr(1,16384,null,0,af,[],null,null),Jr(2,540672,null,0,df,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),Yr(2048,null,vh,null,[df]),Jr(4,16384,null,0,_h,[[4,vh]],null,null),(e()(),Ol(5,0,null,null,25,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Ol(6,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","relationshipType"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Type of Relationship"])),(e()(),Ol(8,0,null,null,22,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Ol(9,0,null,null,21,"select",[["class","form-control"],["formControlName","relationshipType"],["id","relationshipType"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var r=!0;return"change"===t&&(r=!1!==$r(e,10).onChange(n.target.value)&&r),"blur"===t&&(r=!1!==$r(e,10).onTouched()&&r),r}),null,null)),Jr(10,16384,null,0,jh,[Xt,Gt],null,null),Yr(1024,null,ph,(function(e){return[e]}),[jh]),Jr(12,671744,null,0,mf,[[3,vh],[8,null],[8,null],[6,ph],[2,cf]],{name:[0,"name"]},null),Yr(2048,null,yh,null,[mf]),Jr(14,16384,null,0,xh,[[4,yh]],null,null),(e()(),Ol(15,0,null,null,3,"option",[["selected",""]],null,null,null,null,null)),Jr(16,147456,null,0,Lh,[Gt,Xt,[2,jh]],{value:[0,"value"]},null),Jr(17,147456,null,0,Bh,[Gt,Xt,[8,null]],{value:[0,"value"]},null),(e()(),Gl(-1,null,["A requires B"])),(e()(),Ol(19,0,null,null,3,"option",[],null,null,null,null,null)),Jr(20,147456,null,0,Lh,[Gt,Xt,[2,jh]],{value:[0,"value"]},null),Jr(21,147456,null,0,Bh,[Gt,Xt,[8,null]],{value:[0,"value"]},null),(e()(),Gl(-1,null,["A excludes B"])),(e()(),Ol(23,0,null,null,3,"option",[],null,null,null,null,null)),Jr(24,147456,null,0,Lh,[Gt,Xt,[2,jh]],{value:[0,"value"]},null),Jr(25,147456,null,0,Bh,[Gt,Xt,[8,null]],{value:[0,"value"]},null),(e()(),Gl(-1,null,["A supports B"])),(e()(),Ol(27,0,null,null,3,"option",[],null,null,null,null,null)),Jr(28,147456,null,0,Lh,[Gt,Xt,[2,jh]],{value:[0,"value"]},null),Jr(29,147456,null,0,Bh,[Gt,Xt,[8,null]],{value:[0,"value"]},null),(e()(),Gl(-1,null,["A hurts B"])),(e()(),Ol(31,0,null,null,11,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Ol(32,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","fromFeatureId"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Feature A"])),(e()(),Ol(34,0,null,null,8,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Ol(35,0,null,null,7,"select",[["class","form-control"],["formControlName","fromFeatureId"],["id","fromFeatureId"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var r=!0;return"change"===t&&(r=!1!==$r(e,36).onChange(n.target.value)&&r),"blur"===t&&(r=!1!==$r(e,36).onTouched()&&r),r}),null,null)),Jr(36,16384,null,0,jh,[Xt,Gt],null,null),Yr(1024,null,ph,(function(e){return[e]}),[jh]),Jr(38,671744,null,0,mf,[[3,vh],[8,null],[8,null],[6,ph],[2,cf]],{name:[0,"name"]},null),Yr(2048,null,yh,null,[mf]),Jr(40,16384,null,0,xh,[[4,yh]],null,null),(e()(),Dl(16777216,null,null,1,null,Rb)),Jr(42,278528,null,0,tu,[Cn,xn,fn],{ngForOf:[0,"ngForOf"]},null),(e()(),Ol(43,0,null,null,11,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Ol(44,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","toFeatureId"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Feature B"])),(e()(),Ol(46,0,null,null,8,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Ol(47,0,null,null,7,"select",[["class","form-control"],["formControlName","toFeatureId"],["id","toFeatureId"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var r=!0;return"change"===t&&(r=!1!==$r(e,48).onChange(n.target.value)&&r),"blur"===t&&(r=!1!==$r(e,48).onTouched()&&r),r}),null,null)),Jr(48,16384,null,0,jh,[Xt,Gt],null,null),Yr(1024,null,ph,(function(e){return[e]}),[jh]),Jr(50,671744,null,0,mf,[[3,vh],[8,null],[8,null],[6,ph],[2,cf]],{name:[0,"name"]},null),Yr(2048,null,yh,null,[mf]),Jr(52,16384,null,0,xh,[[4,yh]],null,null),(e()(),Dl(16777216,null,null,1,null,Nb)),Jr(54,278528,null,0,tu,[Cn,xn,fn],{ngForOf:[0,"ngForOf"]},null),(e()(),Ol(55,0,null,null,3,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Ol(56,0,null,null,2,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),Ol(57,0,null,null,1,"button",[["class","btn btn-sm btn-dark btn-block"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),Gl(-1,null,["Add Cross-Tree Relationship "]))],(function(e,t){var n=t.component;e(t,2,0,n.relationshipForm),e(t,12,0,"relationshipType"),e(t,16,0,"requires"),e(t,17,0,"requires"),e(t,20,0,"excludes"),e(t,21,0,"excludes"),e(t,24,0,"supports"),e(t,25,0,"supports"),e(t,28,0,"hurts"),e(t,29,0,"hurts"),e(t,38,0,"fromFeatureId"),e(t,42,0,n.featureList),e(t,50,0,"toFeatureId"),e(t,54,0,n.featureList)}),(function(e,t){var n=t.component;e(t,0,0,$r(t,4).ngClassUntouched,$r(t,4).ngClassTouched,$r(t,4).ngClassPristine,$r(t,4).ngClassDirty,$r(t,4).ngClassValid,$r(t,4).ngClassInvalid,$r(t,4).ngClassPending),e(t,9,0,$r(t,14).ngClassUntouched,$r(t,14).ngClassTouched,$r(t,14).ngClassPristine,$r(t,14).ngClassDirty,$r(t,14).ngClassValid,$r(t,14).ngClassInvalid,$r(t,14).ngClassPending),e(t,35,0,$r(t,40).ngClassUntouched,$r(t,40).ngClassTouched,$r(t,40).ngClassPristine,$r(t,40).ngClassDirty,$r(t,40).ngClassValid,$r(t,40).ngClassInvalid,$r(t,40).ngClassPending),e(t,47,0,$r(t,52).ngClassUntouched,$r(t,52).ngClassTouched,$r(t,52).ngClassPristine,$r(t,52).ngClassDirty,$r(t,52).ngClassValid,$r(t,52).ngClassInvalid,$r(t,52).ngClassPending),e(t,57,0,!n.relationshipForm.valid)}))}class jb{constructor(e){Object.assign(this,e)}update(e){Object.assign(this,e)}toPouchDb(){return{name:this.name,company:this.company,email:this.email,website:this.website}}}class Lb{constructor(e){this.fb=e,this.author=null,this.submitAuthorForm=new ws}ngOnInit(){null===this.author&&this.loadForm()}ngOnChanges(e){e.author&&this.loadForm(e.author.currentValue)}submitForm(){this.submitAuthorForm.emit(this.authorForm)}loadForm(e=new jb({})){this.authorForm=this.fb.group({name:e.name,company:e.company,email:[e.email,Mh.email],website:e.website})}}var Vb=jn({encapsulation:0,styles:[[""]],data:{}});function Ub(e){return Jl(0,[(e()(),Ol(0,0,null,null,50,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,t,n){var r=!0,s=e.component;return"submit"===t&&(r=!1!==$r(e,2).onSubmit(n)&&r),"reset"===t&&(r=!1!==$r(e,2).onReset()&&r),"ngSubmit"===t&&(r=!1!==s.submitForm()&&r),r}),null,null)),Jr(1,16384,null,0,af,[],null,null),Jr(2,540672,null,0,df,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),Yr(2048,null,vh,null,[df]),Jr(4,16384,null,0,_h,[[4,vh]],null,null),(e()(),Ol(5,0,null,null,9,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Ol(6,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","name"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Name"])),(e()(),Ol(8,0,null,null,6,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Ol(9,0,null,null,5,"input",[["class","form-control"],["formControlName","name"],["id","name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0;return"input"===t&&(r=!1!==$r(e,10)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==$r(e,10).onTouched()&&r),"compositionstart"===t&&(r=!1!==$r(e,10)._compositionStart()&&r),"compositionend"===t&&(r=!1!==$r(e,10)._compositionEnd(n.target.value)&&r),r}),null,null)),Jr(10,16384,null,0,mh,[Xt,Gt,[2,fh]],null,null),Yr(1024,null,ph,(function(e){return[e]}),[mh]),Jr(12,671744,null,0,mf,[[3,vh],[8,null],[8,null],[6,ph],[2,cf]],{name:[0,"name"]},null),Yr(2048,null,yh,null,[mf]),Jr(14,16384,null,0,xh,[[4,yh]],null,null),(e()(),Ol(15,0,null,null,9,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Ol(16,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","company"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Company"])),(e()(),Ol(18,0,null,null,6,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Ol(19,0,null,null,5,"input",[["class","form-control"],["formControlName","company"],["id","company"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0;return"input"===t&&(r=!1!==$r(e,20)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==$r(e,20).onTouched()&&r),"compositionstart"===t&&(r=!1!==$r(e,20)._compositionStart()&&r),"compositionend"===t&&(r=!1!==$r(e,20)._compositionEnd(n.target.value)&&r),r}),null,null)),Jr(20,16384,null,0,mh,[Xt,Gt,[2,fh]],null,null),Yr(1024,null,ph,(function(e){return[e]}),[mh]),Jr(22,671744,null,0,mf,[[3,vh],[8,null],[8,null],[6,ph],[2,cf]],{name:[0,"name"]},null),Yr(2048,null,yh,null,[mf]),Jr(24,16384,null,0,xh,[[4,yh]],null,null),(e()(),Ol(25,0,null,null,11,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Ol(26,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","email"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Email"])),(e()(),Ol(28,0,null,null,8,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Ol(29,0,null,null,5,"input",[["aria-describedby","eMailErrorDescription"],["class","form-control"],["formControlName","email"],["id","email"],["type","email"]],[[2,"is-invalid",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0;return"input"===t&&(r=!1!==$r(e,30)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==$r(e,30).onTouched()&&r),"compositionstart"===t&&(r=!1!==$r(e,30)._compositionStart()&&r),"compositionend"===t&&(r=!1!==$r(e,30)._compositionEnd(n.target.value)&&r),r}),null,null)),Jr(30,16384,null,0,mh,[Xt,Gt,[2,fh]],null,null),Yr(1024,null,ph,(function(e){return[e]}),[mh]),Jr(32,671744,null,0,mf,[[3,vh],[8,null],[8,null],[6,ph],[2,cf]],{name:[0,"name"]},null),Yr(2048,null,yh,null,[mf]),Jr(34,16384,null,0,xh,[[4,yh]],null,null),(e()(),Ol(35,0,null,null,1,"div",[["class","invalid-feedback"],["id","eMailErrorDescription"]],null,null,null,null,null)),(e()(),Gl(-1,null,[" Email is not valid. "])),(e()(),Ol(37,0,null,null,9,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Ol(38,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","website"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Website"])),(e()(),Ol(40,0,null,null,6,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Ol(41,0,null,null,5,"input",[["class","form-control"],["formControlName","website"],["id","website"],["type","url"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0;return"input"===t&&(r=!1!==$r(e,42)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==$r(e,42).onTouched()&&r),"compositionstart"===t&&(r=!1!==$r(e,42)._compositionStart()&&r),"compositionend"===t&&(r=!1!==$r(e,42)._compositionEnd(n.target.value)&&r),r}),null,null)),Jr(42,16384,null,0,mh,[Xt,Gt,[2,fh]],null,null),Yr(1024,null,ph,(function(e){return[e]}),[mh]),Jr(44,671744,null,0,mf,[[3,vh],[8,null],[8,null],[6,ph],[2,cf]],{name:[0,"name"]},null),Yr(2048,null,yh,null,[mf]),Jr(46,16384,null,0,xh,[[4,yh]],null,null),(e()(),Ol(47,0,null,null,3,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Ol(48,0,null,null,2,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),Ol(49,0,null,null,1,"button",[["class","btn btn-sm btn-dark btn-block"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),Gl(-1,null,[" Update Author Info "]))],(function(e,t){e(t,2,0,t.component.authorForm),e(t,12,0,"name"),e(t,22,0,"company"),e(t,32,0,"email"),e(t,44,0,"website")}),(function(e,t){var n=t.component;e(t,0,0,$r(t,4).ngClassUntouched,$r(t,4).ngClassTouched,$r(t,4).ngClassPristine,$r(t,4).ngClassDirty,$r(t,4).ngClassValid,$r(t,4).ngClassInvalid,$r(t,4).ngClassPending),e(t,9,0,$r(t,14).ngClassUntouched,$r(t,14).ngClassTouched,$r(t,14).ngClassPristine,$r(t,14).ngClassDirty,$r(t,14).ngClassValid,$r(t,14).ngClassInvalid,$r(t,14).ngClassPending),e(t,19,0,$r(t,24).ngClassUntouched,$r(t,24).ngClassTouched,$r(t,24).ngClassPristine,$r(t,24).ngClassDirty,$r(t,24).ngClassValid,$r(t,24).ngClassInvalid,$r(t,24).ngClassPending),e(t,29,0,n.authorForm.get("email").hasError("email"),$r(t,34).ngClassUntouched,$r(t,34).ngClassTouched,$r(t,34).ngClassPristine,$r(t,34).ngClassDirty,$r(t,34).ngClassValid,$r(t,34).ngClassInvalid,$r(t,34).ngClassPending),e(t,41,0,$r(t,46).ngClassUntouched,$r(t,46).ngClassTouched,$r(t,46).ngClassPristine,$r(t,46).ngClassDirty,$r(t,46).ngClassValid,$r(t,46).ngClassInvalid,$r(t,46).ngClassPending),e(t,49,0,!n.authorForm.valid)}))}class Bb{constructor(e,t,n,r,s){this.fb=e,this.route=t,this.location=n,this.pouchDBServer=r,this.modalService=s,this.featureList=[]}ngOnInit(){this.featureModelId=this.route.snapshot.paramMap.get("id"),this.loadFeatureModel(),this.loadForms()}openDependenciesModal(e){this.pouchDBServer.getFeatureModel(this.featureModelId).then(t=>{this.modalFeature=t.getFeature(e),this.modalReference=this.modalService.open(this.dependencyModal,{size:"lg"})},e=>{console.log("OpenDependencyModal: "+e)})}updateFeatureModal(e){this.pouchDBServer.getFeatureModel(this.featureModelId).then(t=>{const n=t.getFeature(e);this.modalFeature=n,this.modalSubfeatureIds=n.getAllSubfeatures().map(e=>e.id),this.modalSubfeatureIds.push(n.id),this.modalReference=this.modalService.open(this.updateModal,{size:"lg"})},e=>{console.log("UpdateFeatureModal: "+e)})}deleteFeatureModal(e){this.pouchDBServer.getFeatureModel(this.featureModelId).then(t=>{this.modalFeature=t.getFeature(e),this.modalReference=this.modalService.open(this.deleteModal,{size:"lg"})},e=>{console.log("DeleteFeatureModal: "+e)})}closeModal(){this.modalReference.close(),this.modalFeature=null,this.loadForms(),this.loadFeatureModel()}removeRelationship(e,t,n){this.pouchDBServer.removeRelationship(this.featureModelId,e,t,n).then(()=>{this.pouchDBServer.getFeatureModel(this.featureModelId).then(e=>{this.modalFeature=e.getFeature(this.modalFeature.id),this.loadFeatureModel()},e=>{console.log("DeleteDependency (new load): "+e)})},e=>{console.log("DeleteDependency: "+e)})}updateFeature(e){this.pouchDBServer.updateFeature(this.featureModelId,this.modalFeature.id,e.value,e.get("subfeatureOf").value).then(()=>{this.closeModal()},e=>{console.log("UpdateFeature: "+e)})}deleteFeature(e){this.pouchDBServer.deleteFeature(this.featureModelId,e).then(()=>{this.closeModal()},e=>{console.log("DeleteFeature: "+e)})}loadForms(){this.featureModelForm=this.fb.group({name:["",Mh.required],description:[""],version:[""],copyright:[""]})}loadFeatureModel(){this.pouchDBServer.getFeatureModel(this.featureModelId).then(e=>{this.featureModel=e,this.featureModelForm.patchValue({name:this.featureModel.name,description:this.featureModel.description,version:this.featureModel.version,copyright:this.featureModel.copyright}),this.featureList=this.featureModel.getFeatureList()},e=>{console.log("LoadFeatureModel: "+e)})}insertFeature(e){this.pouchDBServer.addFeature(this.featureModelId,e.value,e.get("subfeatureOf").value).then(()=>{this.loadFeatureModel()},e=>{console.log("InsertFeature: "+e)})}addRelationship(e){this.pouchDBServer.addRelationship(this.featureModelId,e.value.relationshipType,e.value.fromFeatureId,e.value.toFeatureId).then(()=>{this.loadFeatureModel()},e=>{console.log("InsertDependency: "+e)})}updateFeatureModelAuthor(e){this.pouchDBServer.updateFeatureModelAuthor(this.featureModelId,e.value).then(()=>this.loadFeatureModel())}updateFeatureModel(){this.pouchDBServer.updateFeatureModel(this.featureModel._id,this.featureModelForm.value.name,this.featureModelForm.value.description,this.featureModelForm.value.version,this.featureModelForm.value.copyright).then(()=>this.loadFeatureModel(),e=>{console.log("UpdateFeatureModel: "+e)})}deleteFeatureModel(){this.pouchDBServer.deleteFeatureModel(this.featureModel._id).then(()=>{this.location.back()},e=>{console.log("DeleteFeatureModel: "+e)})}}var zb=n("9Krd"),Hb=n.n(zb),Wb="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),Kb=new Uint8Array(16);function Gb(){if(!Wb)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Wb(Kb)}for(var Qb=[],Zb=0;Zb<256;++Zb);var Jb,Yb,Xb=function(e,t,n){"string"==typeof e&&(t="binary"===e?new Uint8Array(16):null,e=null);var r=(e=e||{}).random||(e.rng||Gb)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){for(var s=n||0,l=0;l<16;++l)t[s+l]=r[l];return t}return function(e,t){return(Qb[e[0]]+Qb[e[1]]+Qb[e[2]]+Qb[e[3]]+"-"+Qb[e[4]]+Qb[e[5]]+"-"+Qb[e[6]]+Qb[e[7]]+"-"+Qb[e[8]]+Qb[e[9]]+"-"+Qb[e[10]]+Qb[e[11]]+Qb[e[12]]+Qb[e[13]]+Qb[e[14]]+Qb[e[15]]).toLowerCase()}(r)},ey=n("aaBP"),ty=n.n(ey),ny=n("byjP"),ry=n.n(ny),sy=n("3Y9A"),ly=n.n(sy),oy=n("P7XM"),iy=n.n(oy),uy=n("+qE3"),ay=n.n(uy);function cy(e){return"$"+e}function dy(e){return e.substring(1)}function py(){this._store={}}function hy(e){if(this._store=new py,e&&Array.isArray(e))for(var t=0,n=e.length;t<n;t++)this.add(e[t])}py.prototype.get=function(e){var t=cy(e);return this._store[t]},py.prototype.set=function(e,t){var n=cy(e);return this._store[n]=t,!0},py.prototype.has=function(e){return cy(e)in this._store},py.prototype.delete=function(e){var t=cy(e),n=t in this._store;return delete this._store[t],n},py.prototype.forEach=function(e){for(var t=Object.keys(this._store),n=0,r=t.length;n<r;n++){var s=t[n];e(this._store[s],s=dy(s))}},Object.defineProperty(py.prototype,"size",{get:function(){return Object.keys(this._store).length}}),hy.prototype.add=function(e){return this._store.set(e,!0)},hy.prototype.has=function(e){return this._store.has(e)},hy.prototype.forEach=function(e){this._store.forEach((function(t,n){e(n)}))},Object.defineProperty(hy.prototype,"size",{get:function(){return this._store.size}}),function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(Jb=Set,Yb=Map):(Jb=hy,Yb=py);var fy,my=Function.prototype.toString,gy=my.call(Object);function vy(e){var t,n,r;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],n=0,r=e.length;n<r;n++)t[n]=vy(e[n]);return t}if(e instanceof Date)return e.toISOString();if(function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}(e))return function(e){if(e instanceof ArrayBuffer)return function(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),n=new Uint8Array(t),r=new Uint8Array(e);return n.set(r),t}(e);var t=e.size,n=e.type;return"function"==typeof e.slice?e.slice(0,t,n):e.webkitSlice(0,t,n)}(e);if(!function(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&my.call(n)==gy}(e))return e;for(n in t={},e)if(Object.prototype.hasOwnProperty.call(e,n)){var s=vy(e[n]);void 0!==s&&(t[n]=s)}return t}function by(e){var t=!1;return ly()((function(n){if(t)throw new Error("once called more than once");t=!0,e.apply(this,n)}))}function yy(e){return ly()((function(t){t=vy(t);var n=this,r="function"==typeof t[t.length-1]&&t.pop(),s=new Promise((function(r,s){var l;try{var o=by((function(e,t){e?s(e):r(t)}));t.push(o),(l=e.apply(n,t))&&"function"==typeof l.then&&r(l)}catch(i){s(i)}}));return r&&s.then((function(e){r(null,e)}),r),s}))}function wy(e,t){return yy(ly()((function(n){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var r=this;return function(e,t,n){if(e.constructor.listeners("debug").length){for(var r=["api",e.name,t],s=0;s<n.length-1;s++)r.push(n[s]);e.constructor.emit("debug",r);var l=n[n.length-1];n[n.length-1]=function(n,r){var s=["api",e.name,t];s=s.concat(n?["error",n]:["success",r]),e.constructor.emit("debug",s),l(n,r)}}}(r,e,n),this.taskqueue.isReady?t.apply(this,n):new Promise((function(t,s){r.taskqueue.addTask((function(l){l?s(l):t(r[e].apply(r,n))}))}))})))}function xy(e,t){for(var n={},r=0,s=t.length;r<s;r++){var l=t[r];l in e&&(n[l]=e[l])}return n}function _y(e){return e}function Cy(e){return[{ok:e}]}function ky(e,t,n){var r=t.docs,s=new Yb;r.forEach((function(e){s.has(e.id)?s.get(e.id).push(e):s.set(e.id,[e])}));var l=s.size,o=0,i=new Array(l),u=[];s.forEach((function(e,t){u.push(t)}));var a=0;!function r(){if(!(a>=u.length)){var c=Math.min(a+6,u.length),d=u.slice(a,c);!function(u,a){u.forEach((function(u,c){var d=a+c,p=s.get(u),h=xy(p[0],["atts_since","attachments"]);h.open_revs=p.map((function(e){return e.rev})),h.open_revs=h.open_revs.filter(_y);var f=_y;0===h.open_revs.length&&(delete h.open_revs,f=Cy),["revs","attachments","binary","ajax","latest"].forEach((function(e){e in t&&(h[e]=t[e])})),e.get(u,h,(function(e,t){var s,a;s=e?[{error:e}]:f(t),i[d]={id:u,docs:s},++o===l&&(a=[],i.forEach((function(e){e.docs.forEach((function(t){a.push({id:e.id,docs:[t]})}))})),n(null,{results:a})),r()}))}))}(d,a),a+=d.length}}()}try{localStorage.setItem("_pouch_check_localstorage",1),fy=!!localStorage.getItem("_pouch_check_localstorage")}catch(oE){fy=!1}function My(){return fy}function Sy(){ay.a.call(this),this._listeners={},function(e){My()&&addEventListener("storage",(function(t){e.emit(t.key)}))}(this)}function Ty(e){if("undefined"!=typeof console&&"function"==typeof console[e]){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function Ey(e){var t=0;return e||(t=2e3),function(e,t){return e=parseInt(e,10)||0,(t=parseInt(t,10))!=t||t<=e?t=(e||1)<<1:t+=1,t>6e5&&(e=3e5,t=6e5),~~((t-e)*Math.random()+e)}(e,t)}function Iy(e,t){Ty("info","The above "+e+" is totally normal. "+t)}iy()(Sy,ay.a),Sy.prototype.addListener=function(e,t,n,r){if(!this._listeners[t]){var s=this,l=!1;this._listeners[t]=o,this.on(e,o)}function o(){if(s._listeners[t])if(l)l="waiting";else{l=!0;var e=xy(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);n.changes(e).on("change",(function(e){e.seq>r.since&&!r.cancelled&&(r.since=e.seq,r.onChange(e))})).on("complete",(function(){"waiting"===l&&Hb()(o),l=!1})).on("error",(function(){l=!1}))}}},Sy.prototype.removeListener=function(e,t){t in this._listeners&&(ay.a.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},Sy.prototype.notifyLocalWindows=function(e){My()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},Sy.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var Fy="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t};function Py(e,t,n){Error.call(this,n),this.status=e,this.name=t,this.message=n,this.error=!0}iy()(Py,Error),Py.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})},new Py(401,"unauthorized","Name or password is incorrect.");var Dy=new Py(400,"bad_request","Missing JSON list of 'docs'"),Oy=new Py(404,"not_found","missing"),Ay=new Py(409,"conflict","Document update conflict"),qy=new Py(400,"bad_request","_id field must contain a string"),Ry=new Py(412,"missing_id","_id is required for puts"),Ny=new Py(400,"bad_request","Only reserved document ids may start with underscore."),$y=(new Py(412,"precondition_failed","Database not open"),new Py(500,"unknown_error","Database encountered an unknown error")),jy=new Py(500,"badarg","Some query argument is invalid"),Ly=(new Py(400,"invalid_request","Request was invalid"),new Py(400,"query_parse_error","Some query parameter is invalid")),Vy=new Py(500,"doc_validation","Bad special document member"),Uy=new Py(400,"bad_request","Something wrong with the request"),By=new Py(400,"bad_request","Document must be a JSON object"),zy=(new Py(404,"not_found","Database not found"),new Py(500,"indexed_db_went_bad","unknown")),Hy=(new Py(500,"web_sql_went_bad","unknown"),new Py(500,"levelDB_went_went_bad","unknown"),new Py(403,"forbidden","Forbidden by design doc validate_doc_update function"),new Py(400,"bad_request","Invalid rev format")),Wy=(new Py(412,"file_exists","The database could not be created, the file already exists."),new Py(412,"missing_stub","A pre-existing attachment stub wasn't found"));function Ky(e,t){function n(t){for(var n=Object.getOwnPropertyNames(e),r=0,s=n.length;r<s;r++)"function"!=typeof e[n[r]]&&(this[n[r]]=e[n[r]]);void 0!==t&&(this.reason=t)}return n.prototype=Py.prototype,new n(t)}function Gy(e){if("object"!=typeof e){var t=e;(e=$y).data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),e}function Qy(e){var t={},n=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(r){r.doc||(r.doc={});var s=n&&function(e,t,n){try{return!e(t,n)}catch(s){var r="Filter function threw: "+s.toString();return Ky(Uy,r)}}(e.filter,r.doc,t);if("object"==typeof s)return s;if(s)return!1;if(e.include_docs){if(!e.attachments)for(var l in r.doc._attachments)r.doc._attachments.hasOwnProperty(l)&&(r.doc._attachments[l].stub=!0)}else delete r.doc;return!0}}function Zy(e){for(var t=[],n=0,r=e.length;n<r;n++)t=t.concat(e[n]);return t}function Jy(e){var t;if(e?"string"!=typeof e?t=Ky(qy):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=Ky(Ny)):t=Ky(Ry),t)throw t}function Yy(e){return"boolean"==typeof e._remote?e._remote:"function"==typeof e.type&&(Ty("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function Xy(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function ew(e){var t=Xy(e);return t?t.join("/"):null}new Py(413,"invalid_url","Provided URL is invalid");var tw=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],nw=/(?:^|&)([^&=]*)=?([^&]*)/g,rw=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function sw(e){for(var t=rw.exec(e),n={},r=14;r--;){var s=tw[r],l=t[r]||"",o=-1!==["user","password"].indexOf(s);n[s]=o?decodeURIComponent(l):l}return n.queryKey={},n[tw[12]].replace(nw,(function(e,t,r){t&&(n.queryKey[t]=r)})),n}function lw(e,t){var n=[],r=[];for(var s in t)t.hasOwnProperty(s)&&(n.push(s),r.push(t[s]));return n.push(e),Function.apply(null,n).apply(null,r)}function ow(e,t,n){return new Promise((function(r,s){e.get(t,(function(l,o){if(l){if(404!==l.status)return s(l);o={}}var i=o._rev,u=n(o);if(!u)return r({updated:!1,rev:i});u._id=t,u._rev=i,r(function(e,t,n){return e.put(t).then((function(e){return{updated:!0,rev:e.rev}}),(function(r){if(409!==r.status)throw r;return ow(e,t._id,n)}))}(e,u,n))}))}))}var iw=function(e){return atob(e)},uw=function(e){return btoa(e)};function aw(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(oE){if("TypeError"!==oE.name)throw oE;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}function cw(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),s=0;s<t;s++)r[s]=e.charCodeAt(s);return n}function dw(e,t){return aw([cw(e)],{type:t})}function pw(e,t){return dw(iw(e),t)}function hw(e,t){var n=new FileReader,r="function"==typeof n.readAsBinaryString;n.onloadend=function(e){var n=e.target.result||"";if(r)return t(n);t(function(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,s=0;s<r;s++)t+=String.fromCharCode(n[s]);return t}(n))},r?n.readAsBinaryString(e):n.readAsArrayBuffer(e)}function fw(e,t){hw(e,(function(e){t(e)}))}function mw(e,t){fw(e,(function(e){t(uw(e))}))}var gw=self.setImmediate||self.setTimeout;function vw(e,t,n,r,s){(n>0||r<t.size)&&(t=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.slice(t,n)}(t,n,r)),function(e,t){var n=new FileReader;n.onloadend=function(e){var n=e.target.result||new ArrayBuffer(0);t(n)},n.readAsArrayBuffer(e)}(t,(function(t){e.append(t),s()}))}function bw(e,t,n,r,s){(n>0||r<t.length)&&(t=t.substring(n,r)),e.appendBinary(t),s()}function yw(e,t){var n="string"==typeof e,r=n?e.length:e.size,s=Math.min(32768,r),l=Math.ceil(r/s),o=0,i=n?new ty.a:new ty.a.ArrayBuffer,u=n?bw:vw;function a(){gw(d)}function c(){var e,n=(e=i.end(!0),uw(e));t(n),i.destroy()}function d(){var t=o*s;o++,u(i,e,t,t+s,o<l?a:c)}d()}function ww(e){return ty.a.hash(e)}function xw(e,t){var n=vy(e);return t?(delete n._rev_tree,ww(JSON.stringify(n))):Xb().replace(/-/g,"").toLowerCase()}var _w=Xb;function Cw(e){for(var t,n,r,s,l=e.rev_tree.slice();s=l.pop();){var o=s.ids,i=o[2],u=s.pos;if(i.length)for(var a=0,c=i.length;a<c;a++)l.push({pos:u+1,ids:i[a]});else{var d=!!o[1].deleted,p=o[0];t&&!(r!==d?r:n!==u?n<u:t<p)||(t=p,n=u,r=d)}}return n+"-"+t}function kw(e,t){for(var n,r=e.slice();n=r.pop();)for(var s=n.pos,l=n.ids,o=l[2],i=t(0===o.length,s,l[0],n.ctx,l[1]),u=0,a=o.length;u<a;u++)r.push({pos:s+1,ids:o[u],ctx:i})}function Mw(e,t){return e.pos-t.pos}function Sw(e){var t=[];kw(e,(function(e,n,r,s,l){e&&t.push({rev:n+"-"+r,pos:n,opts:l})})),t.sort(Mw).reverse();for(var n=0,r=t.length;n<r;n++)delete t[n].pos;return t}function Tw(e){for(var t=Cw(e),n=Sw(e.rev_tree),r=[],s=0,l=n.length;s<l;s++){var o=n[s];o.rev===t||o.opts.deleted||r.push(o.rev)}return r}function Ew(e){for(var t,n=[],r=e.slice();t=r.pop();){var s=t.pos,l=t.ids,o=l[0],i=l[1],u=l[2],a=0===u.length,c=t.history?t.history.slice():[];c.push({id:o,opts:i}),a&&n.push({pos:s+1-c.length,ids:c});for(var d=0,p=u.length;d<p;d++)r.push({pos:s+1,ids:u[d],history:c})}return n.reverse()}function Iw(e,t){return e.pos-t.pos}function Fw(e,t,n){var r=function(e,t,n){for(var r,s=0,l=e.length;s<l;)n(e[r=s+l>>>1],t)<0?s=r+1:l=r;return s}(e,t,n);e.splice(r,0,t)}function Pw(e,t){for(var n,r,s=t,l=e.length;s<l;s++){var o=e[s],i=[o.id,o.opts,[]];r?(r[2].push(i),r=i):n=r=i}return n}function Dw(e,t){return e[0]<t[0]?-1:1}function Ow(e,t){for(var n=[{tree1:e,tree2:t}],r=!1;n.length>0;){var s=n.pop(),l=s.tree1,o=s.tree2;(l[1].status||o[1].status)&&(l[1].status="available"===l[1].status||"available"===o[1].status?"available":"missing");for(var i=0;i<o[2].length;i++)if(l[2][0]){for(var u=!1,a=0;a<l[2].length;a++)l[2][a][0]===o[2][i][0]&&(n.push({tree1:l[2][a],tree2:o[2][i]}),u=!0);u||(r="new_branch",Fw(l[2],o[2][i],Dw))}else r="new_leaf",l[2][0]=o[2][i]}return{conflicts:r,tree:e}}function Aw(e,t,n){var r,s=[],l=!1,o=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var i=0,u=e.length;i<u;i++){var a=e[i];if(a.pos===t.pos&&a.ids[0]===t.ids[0])r=Ow(a.ids,t.ids),s.push({pos:a.pos,ids:r.tree}),l=l||r.conflicts,o=!0;else if(!0!==n){var c=a.pos<t.pos?a:t,d=a.pos<t.pos?t:a,p=[],h=[];for(h.push({ids:c.ids,diff:d.pos-c.pos,parent:null,parentIdx:null});h.length>0;){var f=h.pop();if(0!==f.diff)for(var m=f.ids[2],g=0,v=m.length;g<v;g++)h.push({ids:m[g],diff:f.diff-1,parent:f.ids,parentIdx:g});else f.ids[0]===d.ids[0]&&p.push(f)}var b=p[0];b?(r=Ow(b.ids,d.ids),b.parent[2][b.parentIdx]=r.tree,s.push({pos:c.pos,ids:c.ids}),l=l||r.conflicts,o=!0):s.push(a)}else s.push(a)}return o||s.push(t),s.sort(Iw),{tree:s,conflicts:l||"internal_node"}}function qw(e,t,n){var r=Aw(e,t),s=function(e,t){for(var n,r,s=Ew(e),l=0,o=s.length;l<o;l++){var i,u=s[l],a=u.ids;if(a.length>t){n||(n={});var c=a.length-t;i={pos:u.pos+c,ids:Pw(a,c)};for(var d=0;d<c;d++)n[u.pos+d+"-"+a[d].id]=!0}else i={pos:u.pos,ids:Pw(a,0)};r=r?Aw(r,i,!0).tree:[i]}return n&&kw(r,(function(e,t,r){delete n[t+"-"+r]})),{tree:r,revs:n?Object.keys(n):[]}}(r.tree,n);return{tree:s.tree,stemmedRevs:s.revs,conflicts:r.conflicts}}function Rw(e){return e.ids}function Nw(e,t){t||(t=Cw(e));for(var n,r=t.substring(t.indexOf("-")+1),s=e.rev_tree.map(Rw);n=s.pop();){if(n[0]===r)return!!n[1].deleted;s=s.concat(n[2])}}function $w(e){return/^_local/.test(e)}function jw(e,t,n){ay.a.call(this);var r=this;this.db=e;var s=(t=t?vy(t):{}).complete=by((function(t,n){var s;t?("listenerCount"in(s=r)?s.listenerCount("error"):ay.a.listenerCount(s,"error"))>0&&r.emit("error",t):r.emit("complete",n),r.removeAllListeners(),e.removeListener("destroyed",l)}));function l(){r.cancel()}n&&(r.on("complete",(function(e){n(null,e)})),r.on("error",n)),e.once("destroyed",l),t.onChange=function(e,t,n){r.isCancelled||function(e,t,n,r){try{e.emit("change",t,n,r)}catch(oE){Ty("error",'Error in .on("change", function):',oE)}}(r,e,t,n)};var o=new Promise((function(e,n){t.complete=function(t,r){t?n(t):e(r)}}));r.once("cancel",(function(){e.removeListener("destroyed",l),t.complete(null,{status:"cancelled"})})),this.then=o.then.bind(o),this.catch=o.catch.bind(o),this.then((function(e){s(null,e)}),s),e.taskqueue.isReady?r.validateChanges(t):e.taskqueue.addTask((function(e){e?t.complete(e):r.isCancelled?r.emit("cancel"):r.validateChanges(t)}))}function Lw(e,t,n){var r=[{rev:e._rev}];"all_docs"===n.style&&(r=Sw(t.rev_tree).map((function(e){return{rev:e.rev}})));var s={id:t.id,changes:r,doc:e};return Nw(t,e._rev)&&(s.deleted=!0),n.conflicts&&(s.doc._conflicts=Tw(t),s.doc._conflicts.length||delete s.doc._conflicts),s}function Vw(e,t){return e<t?-1:e>t?1:0}function Uw(e,t){return function(n,r){n||r[0]&&r[0].error?((n=n||r[0]).docId=t,e(n)):e(null,r.length?r[0]:r)}}function Bw(e,t){var n=Vw(e._id,t._id);return 0!==n?n:Vw(e._revisions?e._revisions.start:0,t._revisions?t._revisions.start:0)}function zw(){for(var e in ay.a.call(this),zw.prototype)"function"==typeof this[e]&&(this[e]=this[e].bind(this))}function Hw(){this.isReady=!1,this.failed=!1,this.queue=[]}function Ww(e,t){if(!(this instanceof Ww))return new Ww(e,t);var n=this;if(t=t||{},e&&"object"==typeof e&&(e=(t=e).name,delete t.name),void 0===t.deterministic_revs&&(t.deterministic_revs=!0),this.__opts=t=vy(t),n.auto_compaction=t.auto_compaction,n.prefix=Ww.prefix,"string"!=typeof e)throw new Error("Missing/invalid DB name");var r=function(e,t){var n=e.match(/([a-z-]*):\/\/(.*)/);if(n)return{name:/https?/.test(n[1])?n[1]+"://"+n[2]:n[2],adapter:n[1]};var r=Ww.adapters,s=Ww.preferredAdapters,l=Ww.prefix,o=t.adapter;if(!o)for(var i=0;i<s.length&&"idb"===(o=s[i])&&"websql"in r&&My()&&localStorage["_pouch__websqldb_"+l+e];++i)Ty("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');var u=r[o];return{name:u&&"use_prefix"in u&&!u.use_prefix?e:l+e,adapter:o}}((t.prefix||"")+e,t);if(t.name=r.name,t.adapter=t.adapter||r.adapter,n.name=e,n._adapter=t.adapter,Ww.emit("debug",["adapter","Picked adapter: ",t.adapter]),!Ww.adapters[t.adapter]||!Ww.adapters[t.adapter].valid())throw new Error("Invalid Adapter: "+t.adapter);zw.call(n),n.taskqueue=new Hw,n.adapter=t.adapter,Ww.adapters[t.adapter].call(n,t,(function(e){if(e)return n.taskqueue.fail(e);!function(e){function t(t){e.removeListener("closed",n),t||e.constructor.emit("destroyed",e.name)}function n(){e.removeListener("destroyed",t),e.constructor.emit("unref",e)}e.once("destroyed",t),e.once("closed",n),e.constructor.emit("ref",e)}(n),n.emit("created",n),Ww.emit("created",n.name),n.taskqueue.ready(n)}))}iy()(jw,ay.a),jw.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},jw.prototype.validateChanges=function(e){var t=e.complete,n=this;Ww._changesFilterPlugin?Ww._changesFilterPlugin.validate(e,(function(r){if(r)return t(r);n.doChanges(e)})):n.doChanges(e)},jw.prototype.doChanges=function(e){var t=this,n=e.complete;if("live"in(e=vy(e))&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=Lw,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"!==e.since){if(Ww._changesFilterPlugin){if(Ww._changesFilterPlugin.normalize(e),Ww._changesFilterPlugin.shouldFilter(this,e))return Ww._changesFilterPlugin.filter(this,e)}else["doc_ids","filter","selector","view"].forEach((function(t){t in e&&Ty("warn",'The "'+t+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')}));"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=n;var r=this.db._changes(e);if(r&&"function"==typeof r.cancel){var s=t.cancel;t.cancel=ly()((function(e){r.cancel(),s.apply(this,e)}))}}else this.db.info().then((function(r){t.isCancelled?n(null,{status:"cancelled"}):(e.since=r.update_seq,t.doChanges(e))}),n)},iy()(zw,ay.a),zw.prototype.post=wy("post",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e))return n(Ky(By));this.bulkDocs({docs:[e]},t,Uw(n,e._id))})),zw.prototype.put=wy("put",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e))return n(Ky(By));if(Jy(e._id),$w(e._id)&&"function"==typeof this._putLocal)return e._deleted?this._removeLocal(e,n):this._putLocal(e,n);var r,s,l,o,i=this;function u(n){"function"==typeof i._put&&!1!==t.new_edits?i._put(e,t,n):i.bulkDocs({docs:[e]},t,Uw(n,e._id))}t.force&&e._rev?(s=(r=e._rev.split("-"))[1],l=parseInt(r[0],10)+1,o=xw(),e._revisions={start:l,ids:[o,s]},e._rev=l+"-"+o,t.new_edits=!1,u((function(t){n(t,t?null:{ok:!0,id:e._id,rev:e._rev})}))):u(n)})),zw.prototype.putAttachment=wy("putAttachment",(function(e,t,n,r,s){var l=this;function o(e){var n="_rev"in e?parseInt(e._rev,10):0;return e._attachments=e._attachments||{},e._attachments[t]={content_type:s,data:r,revpos:++n},l.put(e)}return"function"==typeof s&&(s=r,r=n,n=null),void 0===s&&(s=r,r=n,n=null),s||Ty("warn","Attachment",t,"on document",e,"is missing content_type"),l.get(e).then((function(e){if(e._rev!==n)throw Ky(Ay);return o(e)}),(function(t){if(t.reason===Oy.message)return o({_id:e});throw t}))})),zw.prototype.removeAttachment=wy("removeAttachment",(function(e,t,n,r){var s=this;s.get(e,(function(e,l){if(e)r(e);else if(l._rev===n){if(!l._attachments)return r();delete l._attachments[t],0===Object.keys(l._attachments).length&&delete l._attachments,s.put(l,r)}else r(Ky(Ay))}))})),zw.prototype.remove=wy("remove",(function(e,t,n,r){var s;"string"==typeof t?(s={_id:e,_rev:t},"function"==typeof n&&(r=n,n={})):(s=e,"function"==typeof t?(r=t,n={}):(r=n,n=t)),(n=n||{}).was_delete=!0;var l={_id:s._id,_rev:s._rev||n.rev,_deleted:!0};if($w(l._id)&&"function"==typeof this._removeLocal)return this._removeLocal(s,r);this.bulkDocs({docs:[l]},n,Uw(r,l._id))})),zw.prototype.revsDiff=wy("revsDiff",(function(e,t,n){"function"==typeof t&&(n=t,t={});var r=Object.keys(e);if(!r.length)return n(null,{});var s=0,l=new Yb;function o(e,t){l.has(e)||l.set(e,{missing:[]}),l.get(e).missing.push(t)}r.map((function(t){this._getRevisionTree(t,(function(i,u){if(i&&404===i.status&&"missing"===i.message)l.set(t,{missing:e[t]});else{if(i)return n(i);!function(t,n){var r=e[t].slice(0);kw(n,(function(e,n,s,l,i){var u=n+"-"+s,a=r.indexOf(u);-1!==a&&(r.splice(a,1),"available"!==i.status&&o(t,u))})),r.forEach((function(e){o(t,e)}))}(t,u)}if(++s===r.length){var a={};return l.forEach((function(e,t){a[t]=e})),n(null,a)}}))}),this)})),zw.prototype.bulkGet=wy("bulkGet",(function(e,t){ky(this,e,t)})),zw.prototype.compactDocument=wy("compactDocument",(function(e,t,n){var r=this;this._getRevisionTree(e,(function(s,l){if(s)return n(s);var o=function(e){var t={},n=[];return kw(e,(function(e,r,s,l){var o=r+"-"+s;return e&&(t[o]=0),void 0!==l&&n.push({from:l,to:o}),o})),n.reverse(),n.forEach((function(e){t[e.from]=void 0===t[e.from]?1+t[e.to]:Math.min(t[e.from],1+t[e.to])})),t}(l),i=[],u=[];Object.keys(o).forEach((function(e){o[e]>t&&i.push(e)})),kw(l,(function(e,t,n,r,s){var l=t+"-"+n;"available"===s.status&&-1!==i.indexOf(l)&&u.push(l)})),r._doCompaction(e,u,n)}))})),zw.prototype.compact=wy("compact",(function(e,t){"function"==typeof e&&(t=e,e={}),e=e||{},this._compactionQueue=this._compactionQueue||[],this._compactionQueue.push({opts:e,callback:t}),1===this._compactionQueue.length&&function e(t){var n=t._compactionQueue[0],r=n.opts,s=n.callback;t.get("_local/compaction").catch((function(){return!1})).then((function(n){n&&n.last_seq&&(r.last_seq=n.last_seq),t._compact(r,(function(n,r){n?s(n):s(null,r),Hb()((function(){t._compactionQueue.shift(),t._compactionQueue.length&&e(t)}))}))}))}(this)})),zw.prototype._compact=function(e,t){var n=this,r=[];n.changes({return_docs:!1,last_seq:e.last_seq||0}).on("change",(function(e){r.push(n.compactDocument(e.id,0))})).on("complete",(function(e){var s=e.last_seq;Promise.all(r).then((function(){return ow(n,"_local/compaction",(function(e){return(!e.last_seq||e.last_seq<s)&&(e.last_seq=s,e)}))})).then((function(){t(null,{ok:!0})})).catch(t)})).on("error",t)},zw.prototype.get=wy("get",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),"string"!=typeof e)return n(Ky(qy));if($w(e)&&"function"==typeof this._getLocal)return this._getLocal(e,n);var r=[],s=this;function l(){var l=[],o=r.length;if(!o)return n(null,l);r.forEach((function(r){s.get(e,{rev:r,revs:t.revs,latest:t.latest,attachments:t.attachments,binary:t.binary},(function(e,t){if(e)l.push({missing:r});else{for(var s,i=0,u=l.length;i<u;i++)if(l[i].ok&&l[i].ok._rev===t._rev){s=!0;break}s||l.push({ok:t})}--o||n(null,l)}))}))}if(!t.open_revs)return this._get(e,t,(function(r,l){if(r)return r.docId=e,n(r);var o=l.doc,i=l.metadata,u=l.ctx;if(t.conflicts){var a=Tw(i);a.length&&(o._conflicts=a)}if(Nw(i,o._rev)&&(o._deleted=!0),t.revs||t.revs_info){for(var c=o._rev.split("-"),d=parseInt(c[0],10),p=c[1],h=Ew(i.rev_tree),f=null,m=0;m<h.length;m++){var g=h[m],v=g.ids.map((function(e){return e.id})).indexOf(p);(v===d-1||!f&&-1!==v)&&(f=g)}if(!f)return(r=new Error("invalid rev tree")).docId=e,n(r);var b=f.ids.map((function(e){return e.id})).indexOf(o._rev.split("-")[1])+1;if(f.ids.splice(b,f.ids.length-b),f.ids.reverse(),t.revs&&(o._revisions={start:f.pos+f.ids.length-1,ids:f.ids.map((function(e){return e.id}))}),t.revs_info){var y=f.pos+f.ids.length;o._revs_info=f.ids.map((function(e){return{rev:--y+"-"+e.id,status:e.opts.status}}))}}if(t.attachments&&o._attachments){var w=o._attachments,x=Object.keys(w).length;if(0===x)return n(null,o);Object.keys(w).forEach((function(e){this._getAttachment(o._id,e,w[e],{rev:o._rev,binary:t.binary,ctx:u},(function(t,r){var s=o._attachments[e];s.data=r,delete s.stub,delete s.length,--x||n(null,o)}))}),s)}else{if(o._attachments)for(var _ in o._attachments)o._attachments.hasOwnProperty(_)&&(o._attachments[_].stub=!0);n(null,o)}}));if("all"===t.open_revs)this._getRevisionTree(e,(function(e,t){if(e)return n(e);r=Sw(t).map((function(e){return e.rev})),l()}));else{if(!Array.isArray(t.open_revs))return n(Ky($y,"function_clause"));r=t.open_revs;for(var o=0;o<r.length;o++){var i=r[o];if("string"!=typeof i||!/^\d+-/.test(i))return n(Ky(Hy))}l()}})),zw.prototype.getAttachment=wy("getAttachment",(function(e,t,n,r){var s=this;n instanceof Function&&(r=n,n={}),this._get(e,n,(function(l,o){return l?r(l):o.doc._attachments&&o.doc._attachments[t]?(n.ctx=o.ctx,n.binary=!0,void s._getAttachment(e,t,o.doc._attachments[t],n,r)):r(Ky(Oy))}))})),zw.prototype.allDocs=wy("allDocs",(function(e,t){if("function"==typeof e&&(t=e,e={}),e.skip=void 0!==e.skip?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter((function(t){return t in e}))[0];if(n)return void t(Ky(Ly,"Query parameter `"+n+"` is not compatible with multi-get"));if(!Yy(this)&&(function(e){var t="limit"in e?e.keys.slice(e.skip,e.limit+e.skip):e.skip>0?e.keys.slice(e.skip):e.keys;e.keys=t,e.skip=0,delete e.limit,e.descending&&(t.reverse(),e.descending=!1)}(e),0===e.keys.length))return this._allDocs({limit:0},t)}return this._allDocs(e,t)})),zw.prototype.changes=function(e,t){return"function"==typeof e&&(t=e,e={}),(e=e||{}).return_docs="return_docs"in e?e.return_docs:!e.live,new jw(this,e,t)},zw.prototype.close=wy("close",(function(e){return this._closed=!0,this.emit("closed"),this._close(e)})),zw.prototype.info=wy("info",(function(e){var t=this;this._info((function(n,r){if(n)return e(n);r.db_name=r.db_name||t.name,r.auto_compaction=!(!t.auto_compaction||Yy(t)),r.adapter=t.adapter,e(null,r)}))})),zw.prototype.id=wy("id",(function(e){return this._id(e)})),zw.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},zw.prototype.bulkDocs=wy("bulkDocs",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),t=t||{},Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return n(Ky(Dy));for(var r=0;r<e.docs.length;++r)if("object"!=typeof e.docs[r]||Array.isArray(e.docs[r]))return n(Ky(By));var s;if(e.docs.forEach((function(e){e._attachments&&Object.keys(e._attachments).forEach((function(t){s=s||function(e){return"_"===e.charAt(0)&&e+" is not a valid attachment name, attachment names cannot start with '_'"}(t),e._attachments[t].content_type||Ty("warn","Attachment",t,"on document",e._id,"is missing content_type")}))})),s)return n(Ky(Uy,s));"new_edits"in t||(t.new_edits=!("new_edits"in e)||e.new_edits);var l=this;t.new_edits||Yy(l)||e.docs.sort(Bw),function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n._deleted)delete n._attachments;else if(n._attachments)for(var r=Object.keys(n._attachments),s=0;s<r.length;s++){var l=r[s];n._attachments[l]=xy(n._attachments[l],["data","digest","content_type","length","revpos","stub"])}}}(e.docs);var o=e.docs.map((function(e){return e._id}));return this._bulkDocs(e,t,(function(e,r){if(e)return n(e);if(t.new_edits||(r=r.filter((function(e){return e.error}))),!Yy(l))for(var s=0,i=r.length;s<i;s++)r[s].id=r[s].id||o[s];n(null,r)}))})),zw.prototype.registerDependentDatabase=wy("registerDependentDatabase",(function(e,t){var n=new this.constructor(e,this.__opts);ow(this,"_local/_pouch_dependentDbs",(function(t){return t.dependentDbs=t.dependentDbs||{},!t.dependentDbs[e]&&(t.dependentDbs[e]=!0,t)})).then((function(){t(null,{db:n})})).catch(t)})),zw.prototype.destroy=wy("destroy",(function(e,t){"function"==typeof e&&(t=e,e={});var n=this,r=!("use_prefix"in n)||n.use_prefix;function s(){n._destroy(e,(function(e,r){if(e)return t(e);n._destroyed=!0,n.emit("destroyed"),t(null,r||{ok:!0})}))}if(Yy(n))return s();n.get("_local/_pouch_dependentDbs",(function(e,l){if(e)return 404!==e.status?t(e):s();var o=n.constructor,i=Object.keys(l.dependentDbs).map((function(e){var t=r?e.replace(new RegExp("^"+o.prefix),""):e;return new o(t,n.__opts).destroy()}));Promise.all(i).then(s,t)}))})),Hw.prototype.execute=function(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()},Hw.prototype.fail=function(e){this.failed=e,this.execute()},Hw.prototype.ready=function(e){this.isReady=!0,this.db=e,this.execute()},Hw.prototype.addTask=function(e){this.queue.push(e),this.failed&&this.execute()},iy()(Ww,zw);var Kw="undefined"!=typeof AbortController?AbortController:function(){return{abort:function(){}}},Gw=fetch,Qw=Headers;Ww.adapters={},Ww.preferredAdapters=[],Ww.prefix="_pouch_";var Zw=new ay.a;function Jw(e,t){for(var n=e,r=0,s=t.length;r<s&&(n=n[t[r]]);r++);return n}function Yw(e){for(var t=[],n="",r=0,s=e.length;r<s;r++){var l=e[r];"."===l?r>0&&"\\"===e[r-1]?n=n.substring(0,n.length-1)+".":(t.push(n),n=""):n+=l}return t.push(n),t}!function(e){Object.keys(ay.a.prototype).forEach((function(t){"function"==typeof ay.a.prototype[t]&&(e[t]=Zw[t].bind(Zw))}));var t=e._destructionListeners=new Yb;e.on("ref",(function(e){t.has(e.name)||t.set(e.name,[]),t.get(e.name).push(e)})),e.on("unref",(function(e){if(t.has(e.name)){var n=t.get(e.name),r=n.indexOf(e);r<0||(n.splice(r,1),n.length>1?t.set(e.name,n):t.delete(e.name))}})),e.on("destroyed",(function(e){if(t.has(e)){var n=t.get(e);t.delete(e),n.forEach((function(e){e.emit("destroyed",!0)}))}}))}(Ww),Ww.adapter=function(e,t,n){t.valid()&&(Ww.adapters[e]=t,n&&Ww.preferredAdapters.push(e))},Ww.plugin=function(e){if("function"==typeof e)e(Ww);else{if("object"!=typeof e||0===Object.keys(e).length)throw new Error('Invalid plugin: got "'+e+'", expected an object or a function');Object.keys(e).forEach((function(t){Ww.prototype[t]=e[t]}))}return this.__defaults&&(Ww.__defaults=Fy({},this.__defaults)),Ww},Ww.defaults=function(e){function t(e,n){if(!(this instanceof t))return new t(e,n);n=n||{},e&&"object"==typeof e&&(e=(n=e).name,delete n.name),n=Fy({},t.__defaults,n),Ww.call(this,e,n)}return iy()(t,Ww),t.preferredAdapters=Ww.preferredAdapters.slice(),Object.keys(Ww).forEach((function(e){e in t||(t[e]=Ww[e])})),t.__defaults=Fy({},this.__defaults,e),t},Ww.fetch=function(e,t){return Gw(e,t)};var Xw=["$or","$nor","$not"];function ex(e){return Xw.indexOf(e)>-1}function tx(e){return Object.keys(e)[0]}function nx(e){var t={};return e.forEach((function(e){Object.keys(e).forEach((function(n){var r=e[n];if("object"!=typeof r&&(r={$eq:r}),ex(n))t[n]=r instanceof Array?r.map((function(e){return nx([e])})):nx([r]);else{var s=t[n]=t[n]||{};Object.keys(r).forEach((function(e){var t=r[e];return"$gt"===e||"$gte"===e?function(e,t,n){void 0===n.$eq&&(void 0!==n.$gte?"$gte"===e?t>n.$gte&&(n.$gte=t):t>=n.$gte&&(delete n.$gte,n.$gt=t):void 0!==n.$gt?"$gte"===e?t>n.$gt&&(delete n.$gt,n.$gte=t):t>n.$gt&&(n.$gt=t):n[e]=t)}(e,t,s):"$lt"===e||"$lte"===e?function(e,t,n){void 0===n.$eq&&(void 0!==n.$lte?"$lte"===e?t<n.$lte&&(n.$lte=t):t<=n.$lte&&(delete n.$lte,n.$lt=t):void 0!==n.$lt?"$lte"===e?t<n.$lt&&(delete n.$lt,n.$lte=t):t<n.$lt&&(n.$lt=t):n[e]=t)}(e,t,s):"$ne"===e?function(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}(t,s):"$eq"===e?function(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}(t,s):void(s[e]=t)}))}}))})),t}function rx(e){var t=vy(e),n=!1;(function e(t,n){for(var r in t){"$and"===r&&(n=!0);var s=t[r];"object"==typeof s&&(n=e(s,n))}return n})(t,!1)&&("$and"in(t=function e(t){for(var n in t){if(Array.isArray(t))for(var r in t)t[r].$and&&(t[r]=nx(t[r].$and));var s=t[n];"object"==typeof s&&e(s)}return t}(t))&&(t=nx(t.$and)),n=!0),["$or","$nor"].forEach((function(e){e in t&&t[e].forEach((function(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var r=t[n],s=e[r];"object"==typeof s&&null!==s||(e[r]={$eq:s})}}))})),"$not"in t&&(t.$not=nx([t.$not]));for(var r=Object.keys(t),s=0;s<r.length;s++){var l=r[s],o=t[l];"object"!=typeof o||null===o?o={$eq:o}:"$ne"in o&&!n&&(o.$ne=[o.$ne]),t[l]=o}return t}function sx(e,t){if(e===t)return 0;e=lx(e),t=lx(t);var n=ax(e),r=ax(t);if(n-r!=0)return n-r;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return function(e,t){return e===t?0:e>t?1:-1}(e,t)}return Array.isArray(e)?function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var s=sx(e[r],t[r]);if(0!==s)return s}return e.length===t.length?0:e.length>t.length?1:-1}(e,t):function(e,t){for(var n=Object.keys(e),r=Object.keys(t),s=Math.min(n.length,r.length),l=0;l<s;l++){var o=sx(n[l],r[l]);if(0!==o)return o;if(0!==(o=sx(e[n[l]],t[r[l]])))return o}return n.length===r.length?0:n.length>r.length?1:-1}(e,t)}function lx(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var n=e.length;e=new Array(n);for(var r=0;r<n;r++)e[r]=lx(t[r])}else{if(e instanceof Date)return e.toJSON();if(null!==e)for(var s in e={},t)if(t.hasOwnProperty(s)){var l=t[s];void 0!==l&&(e[s]=lx(l))}}}return e}function ox(e){return ax(e=lx(e))+""+function(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return function(e){if(0===e)return"1";var t,n=e.toExponential().split(/e\+?/),r=parseInt(n[1],10),s=e<0,l=s?"0":"2";l+=""+(function(e,t,n){for(var r="",s=3-e.length;r.length<s;)r+="0";return r}(t=((s?-r:r)- -324).toString())+t);var o=Math.abs(parseFloat(n[0]));s&&(o=10-o);var i=o.toFixed(20);return l+""+i.replace(/\.?0+$/,"")}(e);case"string":return e.replace(/\u0002/g,"\x02\x02").replace(/\u0001/g,"\x01\x02").replace(/\u0000/g,"\x01\x01");case"object":var t=Array.isArray(e),n=t?e:Object.keys(e),r=-1,s=n.length,l="";if(t)for(;++r<s;)l+=ox(n[r]);else for(;++r<s;){var o=n[r];l+=ox(o)+ox(e[o])}return l}return""}(e)+"\0"}function ix(e,t){var n,r=t;if("1"===e[t])n=0,t++;else{var s="0"===e[t];t++;var l="",o=e.substring(t,t+3),i=parseInt(o,10)+-324;for(s&&(i=-i),t+=3;;){var u=e[t];if("\0"===u)break;l+=u,t++}n=1===(l=l.split(".")).length?parseInt(l,10):parseFloat(l[0]+"."+l[1]),s&&(n-=10),0!==i&&(n=parseFloat(n+"e"+i))}return{num:n,length:t-r}}function ux(e,t){var n=e.pop();if(t.length){var r=t[t.length-1];n===r.element&&(t.pop(),r=t[t.length-1]);var s=r.element,l=r.index;Array.isArray(s)?s.push(n):l===e.length-2?s[e.pop()]=n:e.push(n)}}function ax(e){var t=["boolean","number","string","object"].indexOf(typeof e);return~t?null===e?1:Array.isArray(e)?5:t<3?t+2:t+3:Array.isArray(e)?5:void 0}function cx(e,t,n){return n.every((function(n){var r=t[n],s=Yw(n),l=Jw(e,s);return ex(n)?function(e,t,n){return"$or"===e?t.some((function(e){return cx(n,e,Object.keys(e))})):"$not"===e?!cx(n,t,Object.keys(t)):!t.find((function(e){return cx(n,e,Object.keys(e))}))}(n,r,e):dx(r,e,s,l)}))}function dx(e,t,n,r){return!e||("object"==typeof e?Object.keys(e).every((function(s){return function(e,t,n,r,s){if(!mx[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return mx[e](t,n,r,s)}(s,t,e[s],n,r)})):e===r)}function px(e){return null!=e}function hx(e){return void 0!==e}function fx(e,t){return t.some((function(t){return e instanceof Array?e.indexOf(t)>-1:e===t}))}var mx={$elemMatch:function(e,t,n,r){return!!Array.isArray(r)&&0!==r.length&&r.some("object"==typeof r[0]?function(e){return cx(e,t,Object.keys(t))}:function(r){return dx(t,e,n,r)})},$allMatch:function(e,t,n,r){return!!Array.isArray(r)&&0!==r.length&&r.every("object"==typeof r[0]?function(e){return cx(e,t,Object.keys(t))}:function(r){return dx(t,e,n,r)})},$eq:function(e,t,n,r){return hx(r)&&0===sx(r,t)},$gte:function(e,t,n,r){return hx(r)&&sx(r,t)>=0},$gt:function(e,t,n,r){return hx(r)&&sx(r,t)>0},$lte:function(e,t,n,r){return hx(r)&&sx(r,t)<=0},$lt:function(e,t,n,r){return hx(r)&&sx(r,t)<0},$exists:function(e,t,n,r){return t?hx(r):!hx(r)},$mod:function(e,t,n,r){return px(r)&&function(e,t){var n=t[0],r=t[1];if(0===n)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(n,10)!==n)throw new Error("Divisor is not an integer");if(parseInt(r,10)!==r)throw new Error("Modulus is not an integer");return parseInt(e,10)===e&&e%n===r}(r,t)},$ne:function(e,t,n,r){return t.every((function(e){return 0!==sx(r,e)}))},$in:function(e,t,n,r){return px(r)&&fx(r,t)},$nin:function(e,t,n,r){return px(r)&&!fx(r,t)},$size:function(e,t,n,r){return px(r)&&function(e,t){return e.length===t}(r,t)},$all:function(e,t,n,r){return Array.isArray(r)&&function(e,t){return t.every((function(t){return e.indexOf(t)>-1}))}(r,t)},$regex:function(e,t,n,r){return px(r)&&function(e,t){return new RegExp(t).test(e)}(r,t)},$type:function(e,t,n,r){return function(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}throw new Error(t+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}(r,t)}};function gx(e,t){if(e.selector&&e.filter&&"_selector"!==e.filter)return t(new Error('selector invalid for filter "'+("string"==typeof e.filter?e.filter:"function")+'"'));t()}function vx(e){e.view&&!e.filter&&(e.filter="_view"),e.selector&&!e.filter&&(e.filter="_selector"),e.filter&&"string"==typeof e.filter&&("_view"===e.filter?e.view=ew(e.view):e.filter=ew(e.filter))}function bx(e,t){return t.filter&&"string"==typeof t.filter&&!t.doc_ids&&!Yy(e.db)}function yx(e,t){var n=t.complete;if("_view"===t.filter){if(!t.view||"string"!=typeof t.view){var r=Ky(Uy,"`view` filter parameter not found or invalid.");return n(r)}var s=Xy(t.view);e.db.get("_design/"+s[0],(function(r,l){if(e.isCancelled)return n(null,{status:"cancelled"});if(r)return n(Gy(r));var o=l&&l.views&&l.views[s[1]]&&l.views[s[1]].map;if(!o)return n(Ky(Oy,l.views?"missing json key: "+s[1]:"missing json key: views"));t.filter=lw(["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+o+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n"),{}),e.doChanges(t)}))}else if(t.selector)t.filter=function(e){return function(e,t){if("object"!=typeof t)throw new Error("Selector error: expected a JSON object");var n=function(e,t,n){if(e=e.filter((function(e){return cx(e.doc,t.selector,n)})),t.sort){var r=function(e){function t(t){return e.map((function(e){var n=Yw(tx(e));return Jw(t,n)}))}return function(e,n){var r,s,l=sx(t(e.doc),t(n.doc));return 0!==l?l:(r=e.doc._id)<(s=n.doc._id)?-1:r>s?1:0}}(t.sort);e=e.sort(r),"string"!=typeof t.sort[0]&&"desc"===(s=t.sort[0])[tx(s)]&&(e=e.reverse())}var s;if("limit"in t||"skip"in t){var l=t.skip||0;e=e.slice(l,("limit"in t?t.limit:e.length)+l)}return e}([{doc:e}],{selector:t=rx(t)},Object.keys(t));return n&&1===n.length}(e,t.selector)},e.doChanges(t);else{var l=Xy(t.filter);e.db.get("_design/"+l[0],(function(r,s){if(e.isCancelled)return n(null,{status:"cancelled"});if(r)return n(Gy(r));var o=s&&s.filters&&s.filters[l[1]];if(!o)return n(Ky(Oy,s&&s.filters?"missing json key: "+l[1]:"missing json key: filters"));t.filter=lw('"use strict";\nreturn '+o+";",{}),e.doChanges(t)}))}}function wx(e){return e.reduce((function(e,t){return e[t]=!0,e}),{})}Ww.plugin((function(e){e._changesFilterPlugin={validate:gx,normalize:vx,shouldFilter:bx,filter:yx}})),Ww.version="7.2.2";var xx=wx(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),_x=wx(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function Cx(e){if(!/^\d+-/.test(e))return Ky(Hy);var t=e.indexOf("-"),n=e.substring(0,t),r=e.substring(t+1);return{prefix:parseInt(n,10),id:r}}function kx(e,t,n){var r,s,l;n||(n={deterministic_revs:!0});var o={status:"available"};if(e._deleted&&(o.deleted=!0),t)if(e._id||(e._id=_w()),s=xw(e,n.deterministic_revs),e._rev){if((l=Cx(e._rev)).error)return l;e._rev_tree=[{pos:l.prefix,ids:[l.id,{status:"missing"},[[s,o,[]]]]}],r=l.prefix+1}else e._rev_tree=[{pos:1,ids:[s,o,[]]}],r=1;else if(e._revisions&&(e._rev_tree=function(e,t){for(var n=e.start-e.ids.length+1,r=e.ids,s=[r[0],t,[]],l=1,o=r.length;l<o;l++)s=[r[l],{status:"missing"},[s]];return[{pos:n,ids:s}]}(e._revisions,o),r=e._revisions.start,s=e._revisions.ids[0]),!e._rev_tree){if((l=Cx(e._rev)).error)return l;e._rev_tree=[{pos:r=l.prefix,ids:[s=l.id,o,[]]}]}Jy(e._id),e._rev=r+"-"+s;var i={metadata:{},data:{}};for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var a="_"===u[0];if(a&&!xx[u]){var c=Ky(Vy,u);throw c.message=Vy.message+": "+u,c}a&&!_x[u]?i.metadata[u.slice(1)]=e[u]:i.data[u]=e[u]}return i}function Mx(e,t,n){if(e.stub)return n();"string"==typeof e.data?function(e,t,n){var r=function(e){try{return iw(e)}catch(oE){return{error:Ky(jy,"Attachment is not a valid base64 string")}}}(e.data);if(r.error)return n(r.error);e.length=r.length,e.data="blob"===t?dw(r,e.content_type):"base64"===t?uw(r):r,yw(r,(function(t){e.digest="md5-"+t,n()}))}(e,t,n):function(e,t,n){yw(e.data,(function(r){e.digest="md5-"+r,e.length=e.data.size||e.data.length||0,"binary"===t?fw(e.data,(function(t){e.data=t,n()})):"base64"===t?mw(e.data,(function(t){e.data=t,n()})):n()}))}(e,t,n)}var Sx="document-store",Tx="meta-store";function Ex(e){try{return JSON.stringify(e)}catch(oE){return ry.a.stringify(e)}}function Ix(e){return function(t){var n="unknown_error";t.target&&t.target.error&&(n=t.target.error.name||t.target.error.message),e(Ky(zy,n))}}function Fx(e,t,n){return{data:Ex(e),winningRev:t,deletedOrLocal:n?"1":"0",seq:e.seq,id:e.id}}function Px(e){if(!e)return null;var t=function(e){try{return JSON.parse(e)}catch(oE){return ry.a.parse(e)}}(e.data);return t.winningRev=e.winningRev,t.deleted="1"===e.deletedOrLocal,t.seq=e.seq,t}function Dx(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function Ox(e,t,n,r){n?r(e?"string"!=typeof e?e:pw(e,t):aw([""],{type:t})):e?"string"!=typeof e?hw(e,(function(e){r(uw(e))})):r(e):r("")}function Ax(e,t,n,r){var s=Object.keys(e._attachments||{});if(!s.length)return r&&r();var l=0;function o(){++l===s.length&&r&&r()}s.forEach((function(r){t.attachments&&t.include_docs?function(e,t){var r=e._attachments[t],s=r.digest;n.objectStore("attach-store").get(s).onsuccess=function(e){r.body=e.target.result.body,o()}}(e,r):(e._attachments[r].stub=!0,o())}))}function qx(e,t){return Promise.all(e.map((function(e){if(e.doc&&e.doc._attachments){var n=Object.keys(e.doc._attachments);return Promise.all(n.map((function(n){var r=e.doc._attachments[n];if("body"in r){var s=r.body,l=r.content_type;return new Promise((function(o){Ox(s,l,t,(function(t){e.doc._attachments[n]=Fy(xy(r,["digest","content_type"]),{data:t}),o()}))}))}})))}})))}function Rx(e,t,n){var r=[],s=n.objectStore("by-sequence"),l=n.objectStore("attach-store"),o=n.objectStore("attach-seq-store"),i=e.length;function u(){--i||r.length&&r.forEach((function(e){o.index("digestSeq").count(IDBKeyRange.bound(e+"::",e+"::\uffff",!1,!1)).onsuccess=function(t){t.target.result||l.delete(e)}}))}e.forEach((function(e){s.index("_doc_id_rev").getKey(t+"::"+e).onsuccess=function(e){var t=e.target.result;if("number"!=typeof t)return u();s.delete(t),o.index("seq").openCursor(IDBKeyRange.only(t)).onsuccess=function(e){var t=e.target.result;if(t){var n=t.value.digestSeq.split("::")[0];r.push(n),o.delete(t.primaryKey),t.continue()}else u()}}}))}function Nx(e,t,n){try{return{txn:e.transaction(t,n)}}catch(r){return{error:r}}}var $x=new Sy;function jx(e,t,n,r,s){var l,o,i;function u(e){o=e.target.result,l&&s(l,o,i)}function a(e){l=e.target.result,o&&s(l,o,i)}function c(e){var t=e.target.result;if(!t)return s();s([t.key],[t.value],t)}-1===r&&(r=1e3),"function"==typeof e.getAll&&"function"==typeof e.getAllKeys&&r>1&&!n?(i={continue:function(){if(!l.length)return s();var n,i=l[l.length-1];if(t&&t.upper)try{n=IDBKeyRange.bound(i,t.upper,!0,t.upperOpen)}catch(oE){if("DataError"===oE.name&&0===oE.code)return s()}else n=IDBKeyRange.lowerBound(i,!0);l=null,o=null,e.getAll(t=n,r).onsuccess=u,e.getAllKeys(t,r).onsuccess=a}},e.getAll(t,r).onsuccess=u,e.getAllKeys(t,r).onsuccess=a):n?e.openCursor(t,"prev").onsuccess=c:e.openCursor(t).onsuccess=c}var Lx=!1,Vx=[];function Ux(){!Lx&&Vx.length&&(Lx=!0,Vx.shift()())}var Bx,zx=new Yb,Hx=new Yb;function Wx(e,t){var n=this;!function(t,r,s){Vx.push((function(){!function(e,t,n){var r=t.name,s=null;function l(e,t){var n=e.objectStore(Sx);n.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),n.openCursor().onsuccess=function(e){var r=e.target.result;if(r){var s=r.value,l=Nw(s);s.deletedOrLocal=l?"1":"0",n.put(s),r.continue()}else t()}}function o(e,t){var n=e.objectStore("local-store"),r=e.objectStore(Sx),s=e.objectStore("by-sequence");r.openCursor().onsuccess=function(e){var l=e.target.result;if(l){var o=l.value,i=o.id,u=$w(i),a=Cw(o);if(u){var c=i+"::"+a,d=i+"::",p=i+"::~",h=s.index("_doc_id_rev"),f=IDBKeyRange.bound(d,p,!1,!1),m=h.openCursor(f);m.onsuccess=function(e){if(m=e.target.result){var t=m.value;t._doc_id_rev===c&&n.put(t),s.delete(m.primaryKey),m.continue()}else r.delete(l.primaryKey),l.continue()}}else l.continue()}else t&&t()}}function i(e,t){var n=e.objectStore("by-sequence"),r=e.objectStore("attach-store"),s=e.objectStore("attach-seq-store");r.count().onsuccess=function(e){if(!e.target.result)return t();n.openCursor().onsuccess=function(e){var n=e.target.result;if(!n)return t();for(var r=n.value,l=n.primaryKey,o=Object.keys(r._attachments||{}),i={},u=0;u<o.length;u++)i[r._attachments[o[u]].digest]=!0;var a=Object.keys(i);for(u=0;u<a.length;u++)s.put({seq:l,digestSeq:a[u]+"::"+l});n.continue()}}}function u(e){var t=e.objectStore("by-sequence"),n=e.objectStore(Sx);n.openCursor().onsuccess=function(e){var r=e.target.result;if(r){var s,l=(s=r.value).data?Px(s):(s.deleted="1"===s.deletedOrLocal,s);if(l.winningRev=l.winningRev||Cw(l),l.seq)return o();!function(){var e=l.id+"::",n=l.id+"::\uffff",r=t.index("_doc_id_rev").openCursor(IDBKeyRange.bound(e,n)),s=0;r.onsuccess=function(e){var t=e.target.result;if(!t)return l.seq=s,o();var n=t.primaryKey;n>s&&(s=n),t.continue()}}()}function o(){var e=Fx(l,l.winningRev,l.deleted);n.put(e).onsuccess=function(){r.continue()}}}}e._meta=null,e._remote=!1,e.type=function(){return"idb"},e._id=yy((function(t){t(null,e._meta.instanceId)})),e._bulkDocs=function(n,r,l){!function(e,t,n,r,s,l){for(var o,i,u,a,c,d,p,h,f=t.docs,m=0,g=f.length;m<g;m++){var v=f[m];v._id&&$w(v._id)||(v=f[m]=kx(v,n.new_edits,e)).error&&!p&&(p=v)}if(p)return l(p);var b=!1,y=0,w=new Array(f.length),x=new Yb,_=!1;function C(){b=!0,k()}function k(){h&&b&&(h.docCount+=y,d.put(h))}function M(){_||($x.notify(r._meta.name),l(null,w))}function S(e,t,n,r,s,l,o,i){e.metadata.winningRev=t,e.metadata.deleted=n;var u=e.data;if(u._id=e.metadata.id,u._rev=e.metadata.rev,r&&(u._deleted=!0),u._attachments&&Object.keys(u._attachments).length)return function(e,t,n,r,s,l){var o=0,i=Object.keys(e.data._attachments);function u(){o===i.length&&T(e,t,n,r,s,l)}function c(){o++,u()}i.forEach((function(n){var r=e.data._attachments[n];if(r.stub)o++,u();else{var s=r.data;delete r.data,r.revpos=parseInt(t,10),function(e,t,n){a.count(e).onsuccess=function(r){if(r.target.result)return n();a.put({digest:e,body:t}).onsuccess=n}}(r.digest,s,c)}}))}(e,t,n,s,o,i);y+=l,k(),T(e,t,n,s,o,i)}function T(e,t,n,s,l,a){var d=e.data,p=e.metadata;function h(l){var u=e.stemmedRevs||[];s&&r.auto_compaction&&(u=u.concat(function(e){var t=[];return kw(e.rev_tree,(function(e,n,r,s,l){"available"!==l.status||e||(t.push(n+"-"+r),l.status="missing")})),t}(e.metadata))),u&&u.length&&Rx(u,e.metadata.id,o),p.seq=l.target.result;var a=Fx(p,t,n);i.put(a).onsuccess=f}function f(){w[l]={ok:!0,id:p.id,rev:p.rev},x.set(e.metadata.id,e.metadata),function(e,t,n){var r=0,s=Object.keys(e.data._attachments||{});if(!s.length)return n();function l(){++r===s.length&&n()}function o(n){var r=c.put({seq:t,digestSeq:e.data._attachments[n].digest+"::"+t});r.onsuccess=l,r.onerror=function(e){e.preventDefault(),e.stopPropagation(),l()}}for(var i=0;i<s.length;i++)o(s[i])}(e,p.seq,a)}d._doc_id_rev=p.id+"::"+p.rev,delete d._id,delete d._rev;var m=u.put(d);m.onsuccess=h,m.onerror=function(e){e.preventDefault(),e.stopPropagation(),u.index("_doc_id_rev").getKey(d._doc_id_rev).onsuccess=function(e){u.put(d,e.target.result).onsuccess=h}}}!function(e,t,n){if(!e.length)return n();var r,s=0;function l(){s++,e.length===s&&(r?n(r):n())}e.forEach((function(e){var n=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],s=0;if(!n.length)return l();function o(e){r=e,++s===n.length&&l()}for(var i in e.data._attachments)e.data._attachments.hasOwnProperty(i)&&Mx(e.data._attachments[i],t,o)}))}(f,r._meta.blobSupport?"blob":"base64",(function(t){if(t)return l(t);!function(){var t=Nx(s,[Sx,"by-sequence","attach-store","local-store","attach-seq-store",Tx],"readwrite");if(t.error)return l(t.error);(o=t.txn).onabort=Ix(l),o.ontimeout=Ix(l),o.oncomplete=M,i=o.objectStore(Sx),u=o.objectStore("by-sequence"),a=o.objectStore("attach-store"),c=o.objectStore("attach-seq-store"),(d=o.objectStore(Tx)).get(Tx).onsuccess=function(e){h=e.target.result,k()},function(e){var t=[];if(f.forEach((function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach((function(n){var r=e.data._attachments[n];r.stub&&t.push(r.digest)}))})),!t.length)return e();var n,r=0;t.forEach((function(s){!function(e,t){a.get(e).onsuccess=function(n){if(n.target.result)t();else{var r=Ky(Wy,"unknown stub attachment with digest "+e);r.status=412,t(r)}}}(s,(function(s){s&&!n&&(n=s),++r===t.length&&e(n)}))}))}((function(t){if(t)return _=!0,l(t);!function(){if(f.length)for(var t=0,s=0,l=f.length;s<l;s++){var u=f[s];u._id&&$w(u._id)?a():i.get(u.metadata.id).onsuccess=c}function a(){++t===f.length&&function(e,t,n,r,s,l,o,i,u){e=e||1e3;var a=i.new_edits,c=new Yb,d=0,p=t.length;function h(){++d===p&&u&&u()}t.forEach((function(e,t){if(e._id&&$w(e._id))n[e._deleted?"_removeLocal":"_putLocal"](e,{ctx:s},(function(e,n){l[t]=e||n,h()}));else{var r=e.metadata.id;c.has(r)?(p--,c.get(r).push([e,t])):c.set(r,[[e,t]])}})),c.forEach((function(t,n){var s=0;function u(){++s<t.length?c():h()}function c(){var c=t[s],d=c[0],p=c[1];if(r.has(n))!function(e,t,n,r,s,l,o,i){if(function(e,t){for(var n,r=e.slice(),s=t.split("-"),l=parseInt(s[0],10),o=s[1];n=r.pop();){if(n.pos===l&&n.ids[0]===o)return!0;for(var i=n.ids[2],u=0,a=i.length;u<a;u++)r.push({pos:n.pos+1,ids:i[u]})}return!1}(t.rev_tree,n.metadata.rev)&&!i)return r[s]=n,l();var u=t.winningRev||Cw(t),a="deleted"in t?t.deleted:Nw(t,u),c="deleted"in n.metadata?n.metadata.deleted:Nw(n.metadata),d=/^1-/.test(n.metadata.rev);if(a&&!c&&i&&d){var p=n.data;p._rev=u,p._id=n.metadata.id,n=kx(p,i)}var h=qw(t.rev_tree,n.metadata.rev_tree[0],e);if(i&&(a&&c&&"new_leaf"!==h.conflicts||!a&&"new_leaf"!==h.conflicts||a&&!c&&"new_branch"===h.conflicts)){var f=Ky(Ay);return r[s]=f,l()}var m=n.metadata.rev;n.metadata.rev_tree=h.tree,n.stemmedRevs=h.stemmedRevs||[],t.rev_map&&(n.metadata.rev_map=t.rev_map);var g=Cw(n.metadata),v=Nw(n.metadata,g),b=a===v?0:a<v?-1:1;o(n,g,v,m===g?v:Nw(n.metadata,m),!0,b,s,l)}(e,r.get(n),d,l,p,u,o,a);else{var h=qw([],d.metadata.rev_tree[0],e);d.metadata.rev_tree=h.tree,d.stemmedRevs=h.stemmedRevs||[],function(e,t,n){var r=Cw(e.metadata),s=Nw(e.metadata,r);if("was_delete"in i&&s)return l[t]=Ky(Oy,"deleted"),n();if(a&&function(e){return"missing"===e.metadata.rev_tree[0].ids[1].status}(e)){var u=Ky(Ay);return l[t]=u,n()}o(e,r,s,s,!1,s?0:1,t,n)}(d,p,u)}}c()}))}(e.revs_limit,f,r,x,o,w,S,n,C)}function c(e){var t=Px(e.target.result);t&&x.set(t.id,t),a()}}()}))}()}))}(t,n,r,e,s,l)},e._get=function(e,t,n){var r,l,o,i=t.ctx;if(!i){var u=Nx(s,[Sx,"by-sequence","attach-store"],"readonly");if(u.error)return n(u.error);i=u.txn}function a(){n(o,{doc:r,metadata:l,ctx:i})}i.objectStore(Sx).get(e).onsuccess=function(e){if(!(l=Px(e.target.result)))return o=Ky(Oy,"missing"),a();var n;if(t.rev)n=t.latest?function(e,t){for(var n,r=t.rev_tree.slice();n=r.pop();){var s=n.pos,l=n.ids,o=l[0],i=l[1],u=l[2],a=0===u.length,c=n.history?n.history.slice():[];if(c.push({id:o,pos:s,opts:i}),a)for(var d=0,p=c.length;d<p;d++){var h=c[d];if(h.pos+"-"+h.id===e)return s+"-"+o}for(var f=0,m=u.length;f<m;f++)r.push({pos:s+1,ids:u[f],history:c})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}(t.rev,l):t.rev;else if(n=l.winningRev,Nw(l))return o=Ky(Oy,"deleted"),a();var s=i.objectStore("by-sequence"),u=l.id+"::"+n;s.index("_doc_id_rev").get(u).onsuccess=function(e){if((r=e.target.result)&&(r=Dx(r)),!r)return o=Ky(Oy,"missing"),a();a()}}},e._getAttachment=function(e,t,n,r,l){var o;if(r.ctx)o=r.ctx;else{var i=Nx(s,[Sx,"by-sequence","attach-store"],"readonly");if(i.error)return l(i.error);o=i.txn}var u=n.digest,a=n.content_type;o.objectStore("attach-store").get(u).onsuccess=function(e){Ox(e.target.result.body,a,r.binary,(function(e){l(null,e)}))}},e._info=function(t){var n,r,l=Nx(s,[Tx,"by-sequence"],"readonly");if(l.error)return t(l.error);var o=l.txn;o.objectStore(Tx).get(Tx).onsuccess=function(e){r=e.target.result.docCount},o.objectStore("by-sequence").openCursor(null,"prev").onsuccess=function(e){var t=e.target.result;n=t?t.key:0},o.oncomplete=function(){t(null,{doc_count:r,update_seq:n,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(e,t){!function(e,t,n){var r,s,l="keys"in e&&e.keys,o=e.skip||0,i="number"==typeof e.limit?e.limit:-1;if(!l&&(s=(r=function(e,t,n,r,s){try{if(e&&t)return s?IDBKeyRange.bound(t,e,!n,!1):IDBKeyRange.bound(e,t,!1,!n);if(e)return s?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return s?IDBKeyRange.lowerBound(t,!n):IDBKeyRange.upperBound(t,!n);if(r)return IDBKeyRange.only(r)}catch(oE){return{error:oE}}return null}("startkey"in e&&e.startkey,"endkey"in e&&e.endkey,!1!==e.inclusive_end,"key"in e&&e.key,e.descending))&&r.error)&&("DataError"!==s.name||0!==s.code))return n(Ky(zy,s.name));var u=[Sx,"by-sequence",Tx];e.attachments&&u.push("attach-store");var a=Nx(t,u,"readonly");if(a.error)return n(a.error);var c=a.txn;c.oncomplete=function(){e.attachments?qx(b,e.binary).then(_):_()},c.onabort=Ix(n);var d,p,h,f=c.objectStore(Sx),m=c.objectStore("by-sequence"),g=c.objectStore(Tx),v=m.index("_doc_id_rev"),b=[];function y(t,n){var r={id:n.id,key:n.id,value:{rev:t}};n.deleted?l&&(b.push(r),r.value.deleted=!0,r.doc=null):o--<=0&&(b.push(r),e.include_docs&&function(t,n,r){v.get(t.id+"::"+r).onsuccess=function(r){if(n.doc=Dx(r.target.result)||{},e.conflicts){var s=Tw(t);s.length&&(n.doc._conflicts=s)}Ax(n.doc,e,c)}}(n,r,t))}function w(e){for(var t=0,n=e.length;t<n&&b.length!==i;t++){var r=e[t];if(r.error&&l)b.push(r);else{var s=Px(r);y(s.winningRev,s)}}}function x(e,t,n){n&&(w(t),b.length<i&&n.continue())}function _(){var t={total_rows:d,offset:e.skip,rows:b};e.update_seq&&void 0!==p&&(t.update_seq=p),n(null,t)}g.get(Tx).onsuccess=function(e){d=e.target.result.docCount},e.update_seq&&(h=function(e){e.target.result&&e.target.result.length>0&&(p=e.target.result[0])},m.openCursor(null,"prev").onsuccess=function(e){var t=e.target.result,n=void 0;return t&&t.key&&(n=t.key),h({target:{result:[n]}})}),s||0===i||(l?function(e,t,n){var r=new Array(e.length),s=0;e.forEach((function(l,o){t.get(l).onsuccess=function(t){r[o]=t.target.result?t.target.result:{key:l,error:"not_found"},++s===e.length&&n(e,r,{})}}))}(e.keys,f,x):-1===i?function(e,t,n){if("function"!=typeof e.getAll){var r=[];e.openCursor(t).onsuccess=function(e){var t=e.target.result;t?(r.push(t.value),t.continue()):n({target:{result:r}})}}else e.getAll(t).onsuccess=n}(f,r,(function(t){var n=t.target.result;e.descending&&(n=n.reverse()),w(n)})):jx(f,r,e.descending,i+o,x))}(e,s,t)},e._changes=function(t){return function(e,t,n,r){if((e=vy(e)).continuous){var s=n+":"+_w();return $x.addListener(n,s,t,e),$x.notify(n),{cancel:function(){$x.removeListener(n,s)}}}var l=e.doc_ids&&new Jb(e.doc_ids);e.since=e.since||0;var o=e.since,i="limit"in e?e.limit:-1;0===i&&(i=1);var u,a,c,d,p=[],h=0,f=Qy(e),m=new Yb;function g(e,t,n,r){return n.seq!==t?r():n.winningRev===e._rev?r(n,e):void(d.get(e._id+"::"+n.winningRev).onsuccess=function(e){r(n,Dx(e.target.result))})}function v(){e.complete(null,{results:p,last_seq:o})}var b=[Sx,"by-sequence"];e.attachments&&b.push("attach-store");var y=Nx(r,b,"readonly");if(y.error)return e.complete(y.error);(u=y.txn).onabort=Ix(e.complete),u.oncomplete=function(){!e.continuous&&e.attachments?qx(p).then(v):v()},a=u.objectStore("by-sequence"),c=u.objectStore(Sx),d=a.index("_doc_id_rev"),jx(a,e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null,e.descending,i,(function(t,n,r){if(r&&t.length){var s=new Array(t.length),a=new Array(t.length),d=0;n.forEach((function(n,o){!function(e,t,n){if(l&&!l.has(e._id))return n();var r=m.get(e._id);if(r)return g(e,t,r,n);c.get(e._id).onsuccess=function(s){r=Px(s.target.result),m.set(e._id,r),g(e,t,r,n)}}(Dx(n),t[o],(function(n,l){a[o]=n,s[o]=l,++d===t.length&&function(){for(var t=[],n=0,l=s.length;n<l&&h!==i;n++){var o=s[n];o&&t.push(v(a[n],o))}Promise.all(t).then((function(t){for(var n=0,r=t.length;n<r;n++)t[n]&&e.onChange(t[n])})).catch(e.complete),h!==i&&r.continue()}()}))}))}function v(t,n){var r=e.processChange(n,t,e);o=r.seq=t.seq;var s=f(r);return"object"==typeof s?Promise.reject(s):s?(h++,e.return_docs&&p.push(r),e.attachments&&e.include_docs?new Promise((function(t){Ax(n,e,u,(function(){qx([r],e.binary).then((function(){t(r)}))}))})):Promise.resolve(r)):Promise.resolve()}}))}(t,e,r,s)},e._close=function(e){s.close(),zx.delete(r),e()},e._getRevisionTree=function(e,t){var n=Nx(s,[Sx],"readonly");if(n.error)return t(n.error);n.txn.objectStore(Sx).get(e).onsuccess=function(e){var n=Px(e.target.result);n?t(null,n.rev_tree):t(Ky(Oy))}},e._doCompaction=function(e,t,n){var r=Nx(s,[Sx,"by-sequence","attach-store","attach-seq-store"],"readwrite");if(r.error)return n(r.error);var l=r.txn;l.objectStore(Sx).get(e).onsuccess=function(n){var r=Px(n.target.result);kw(r.rev_tree,(function(e,n,r,s,l){-1!==t.indexOf(n+"-"+r)&&(l.status="missing")})),Rx(t,e,l);var s=r.winningRev,o=r.deleted;l.objectStore(Sx).put(Fx(r,s,o))},l.onabort=Ix(n),l.oncomplete=function(){n()}},e._getLocal=function(e,t){var n=Nx(s,["local-store"],"readonly");if(n.error)return t(n.error);var r=n.txn.objectStore("local-store").get(e);r.onerror=Ix(t),r.onsuccess=function(e){var n=e.target.result;n?(delete n._doc_id_rev,t(null,n)):t(Ky(Oy))}},e._putLocal=function(e,t,n){"function"==typeof t&&(n=t,t={}),delete e._revisions;var r=e._rev,l=e._id;e._rev=r?"0-"+(parseInt(r.split("-")[1],10)+1):"0-1";var o,i=t.ctx;if(!i){var u=Nx(s,["local-store"],"readwrite");if(u.error)return n(u.error);(i=u.txn).onerror=Ix(n),i.oncomplete=function(){o&&n(null,o)}}var a,c=i.objectStore("local-store");r?(a=c.get(l)).onsuccess=function(s){var l=s.target.result;l&&l._rev===r?c.put(e).onsuccess=function(){o={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,o)}:n(Ky(Ay))}:((a=c.add(e)).onerror=function(e){n(Ky(Ay)),e.preventDefault(),e.stopPropagation()},a.onsuccess=function(){o={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,o)})},e._removeLocal=function(e,t,n){"function"==typeof t&&(n=t,t={});var r,l=t.ctx;if(!l){var o=Nx(s,["local-store"],"readwrite");if(o.error)return n(o.error);(l=o.txn).oncomplete=function(){r&&n(null,r)}}var i=e._id,u=l.objectStore("local-store"),a=u.get(i);a.onerror=Ix(n),a.onsuccess=function(s){var l=s.target.result;l&&l._rev===e._rev?(u.delete(i),r={ok:!0,id:i,rev:"0-0"},t.ctx&&n(null,r)):n(Ky(Oy))}},e._destroy=function(e,t){$x.removeAllListeners(r);var n=Hx.get(r);n&&n.result&&(n.result.close(),zx.delete(r));var s=indexedDB.deleteDatabase(r);s.onsuccess=function(){Hx.delete(r),My()&&r in localStorage&&delete localStorage[r],t(null,{ok:!0})},s.onerror=Ix(t)};var a=zx.get(r);if(a)return s=a.idb,e._meta=a.global,Hb()((function(){n(null,e)}));var c=indexedDB.open(r,5);Hx.set(r,c),c.onupgradeneeded=function(e){var t=e.target.result;if(e.oldVersion<1)return function(e){var t=e.createObjectStore(Sx,{keyPath:"id"});e.createObjectStore("by-sequence",{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.createObjectStore("attach-store",{keyPath:"digest"}),e.createObjectStore(Tx,{keyPath:"id",autoIncrement:!1}),e.createObjectStore("detect-blob-support"),t.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),e.createObjectStore("local-store",{keyPath:"_id"});var n=e.createObjectStore("attach-seq-store",{autoIncrement:!0});n.createIndex("seq","seq"),n.createIndex("digestSeq","digestSeq",{unique:!0})}(t);var n=e.currentTarget.transaction;e.oldVersion<3&&function(e){e.createObjectStore("local-store",{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}(t),e.oldVersion<4&&function(e){var t=e.createObjectStore("attach-seq-store",{autoIncrement:!0});t.createIndex("seq","seq"),t.createIndex("digestSeq","digestSeq",{unique:!0})}(t);var r=[l,o,i,u],s=e.oldVersion;!function e(){var t=r[s-1];s++,t&&t(n,e)}()},c.onsuccess=function(t){(s=t.target.result).onversionchange=function(){s.close(),zx.delete(r)},s.onabort=function(e){Ty("error","Database has a global failure",e.target.error),s.close(),zx.delete(r)};var l,o,i,u,a=s.transaction([Tx,"detect-blob-support",Sx],"readwrite"),c=!1;function d(){void 0!==i&&c&&(e._meta={name:r,instanceId:u,blobSupport:i},zx.set(r,{idb:s,global:e._meta}),n(null,e))}function p(){if(void 0!==o&&void 0!==l){var e=r+"_id";e in l?u=l[e]:l[e]=u=_w(),l.docCount=o,a.objectStore(Tx).put(l)}}a.objectStore(Tx).get(Tx).onsuccess=function(e){l=e.target.result||{id:Tx},p()},function(e,t){e.objectStore(Sx).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(e){o=e.target.result,p()}}(a),Bx||(Bx=function(e){return new Promise((function(t){var n=aw([""]),r=e.objectStore("detect-blob-support").put(n,"key");r.onsuccess=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)},r.onerror=e.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)}})).catch((function(){return!1}))}(a)),Bx.then((function(e){i=e,d()})),a.oncomplete=function(){c=!0,d()},a.onabort=Ix(n)},c.onerror=function(e){var t=e.target.error&&e.target.error.message;t?-1!==t.indexOf("stored database is a higher version")&&(t=new Error('This DB was created with the newer "indexeddb" adapter, but you are trying to open it with the older "idb" adapter')):t="Failed to open indexedDB, are you in private browsing mode?",Ty("error",t),n(Ky(zy,t))}}(n,e,(function(e,t){!function(e,t,n,r){try{e(t,n)}catch(t){r.emit("error",t)}}(r,e,t,s),Lx=!1,Hb()((function(){Ux()}))}))})),Ux()}(0,t,n.constructor)}Wx.valid=function(){try{return"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(oE){return!1}};var Kx={};function Gx(e){var t=e.doc||e.ok,n=t&&t._attachments;n&&Object.keys(n).forEach((function(e){var t=n[e];t.data=pw(t.data,t.content_type)}))}function Qx(e){return/^_design/.test(e)?"_design/"+encodeURIComponent(e.slice(8)):/^_local/.test(e)?"_local/"+encodeURIComponent(e.slice(7)):encodeURIComponent(e)}function Zx(e){return e._attachments&&Object.keys(e._attachments)?Promise.all(Object.keys(e._attachments).map((function(t){var n=e._attachments[t];if(n.data&&"string"!=typeof n.data)return new Promise((function(e){mw(n.data,e)})).then((function(e){n.data=e}))}))):Promise.resolve()}function Jx(e,t){return Yx(e,e.db+"/"+t)}function Yx(e,t){return e.protocol+"://"+e.host+(e.port?":"+e.port:"")+"/"+e.path+(e.path?"/":"")+t}function Xx(e){return"?"+Object.keys(e).map((function(t){return t+"="+encodeURIComponent(e[t])})).join("&")}function e_(e,t){var n=this,r=function(e,t){if(function(e){if(!e.prefix)return!1;var t=sw(e.prefix).protocol;return"http"===t||"https"===t}(t)){var n=t.name.substr(t.prefix.length);e=t.prefix.replace(/\/?$/,"/")+encodeURIComponent(n)}var r=sw(e);(r.user||r.password)&&(r.auth={username:r.user,password:r.password});var s=r.path.replace(/(^\/|\/$)/g,"").split("/");return r.db=s.pop(),-1===r.db.indexOf("%")&&(r.db=encodeURIComponent(r.db)),r.path=s.join("/"),r}(e.name,e),s=Jx(r,"");e=vy(e);var l,o=function(t,n){if((n=n||{}).headers=n.headers||new Qw,n.credentials="include",e.auth||r.auth){var s=e.auth||r.auth,l=uw(unescape(encodeURIComponent(s.username+":"+s.password)));n.headers.set("Authorization","Basic "+l)}var o=e.headers||{};return Object.keys(o).forEach((function(e){n.headers.append(e,o[e])})),function(e){var t="undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",n=-1!==t.indexOf("msie"),r=-1!==t.indexOf("trident"),s=-1!==t.indexOf("edge");return(n||r||s)&&(!("method"in e)||"GET"===e.method)}(n)&&(t+=(-1===t.indexOf("?")?"?":"&")+"_nonce="+Date.now()),(e.fetch||Gw)(t,n)};function i(e,t){return wy(e,ly()((function(e){a().then((function(){return t.apply(this,e)})).catch((function(t){e.pop()(t)}))}))).bind(n)}function u(e,t,n){var r={};return(t=t||{}).headers=t.headers||new Qw,t.headers.get("Content-Type")||t.headers.set("Content-Type","application/json"),t.headers.get("Accept")||t.headers.set("Accept","application/json"),o(e,t).then((function(e){return r.ok=e.ok,r.status=e.status,e.json()})).then((function(e){if(r.data=e,!r.ok){r.data.status=r.status;var t=Gy(r.data);if(n)return n(t);throw t}if(Array.isArray(r.data)&&(r.data=r.data.map((function(e){return e.error||e.missing?Gy(e):e}))),!n)return r;n(null,r.data)}))}function a(){return e.skip_setup?Promise.resolve():l||((l=u(s).catch((function(e){return e&&e.status&&404===e.status?(Iy(404,"PouchDB is just detecting if the remote exists."),u(s,{method:"PUT"})):Promise.reject(e)})).catch((function(e){return!(!e||!e.status||412!==e.status)||Promise.reject(e)}))).catch((function(){l=null})),l)}function c(e){return e.split("/").map(encodeURIComponent).join("/")}Hb()((function(){t(null,n)})),n._remote=!0,n.type=function(){return"http"},n.id=i("id",(function(e){o(Yx(r,"")).then((function(e){return e.json()})).catch((function(){return{}})).then((function(t){var n=t&&t.uuid?t.uuid+r.db:Jx(r,"");e(null,n)}))})),n.compact=i("compact",(function(e,t){"function"==typeof e&&(t=e,e={}),e=vy(e),u(Jx(r,"_compact"),{method:"POST"}).then((function(){!function r(){n.info((function(n,s){s&&!s.compact_running?t(null,{ok:!0}):setTimeout(r,e.interval||200)}))}()}))})),n.bulkGet=wy("bulkGet",(function(e,t){var n=this;function s(t){var n={};e.revs&&(n.revs=!0),e.attachments&&(n.attachments=!0),e.latest&&(n.latest=!0),u(Jx(r,"_bulk_get"+Xx(n)),{method:"POST",body:JSON.stringify({docs:e.docs})}).then((function(n){e.attachments&&e.binary&&n.data.results.forEach((function(e){e.docs.forEach(Gx)})),t(null,n.data)})).catch(t)}function l(){var r=Math.ceil(e.docs.length/50),s=0,l=new Array(r);function o(e){return function(n,o){l[e]=o.results,++s===r&&t(null,{results:Zy(l)})}}for(var i=0;i<r;i++){var u=xy(e,["revs","attachments","binary","latest"]);u.docs=e.docs.slice(50*i,Math.min(e.docs.length,50*(i+1))),ky(n,u,o(i))}}var o=Yx(r,""),i=Kx[o];"boolean"!=typeof i?s((function(e,n){e?(Kx[o]=!1,Iy(e.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),l()):(Kx[o]=!0,t(null,n))})):i?s(t):l()})),n._info=function(e){a().then((function(){return o(Jx(r,""))})).then((function(e){return e.json()})).then((function(t){t.host=Jx(r,""),e(null,t)})).catch(e)},n.fetch=function(e,t){return a().then((function(){var n="/"===e.substring(0,1)?Yx(r,e.substring(1)):Jx(r,e);return o(n,t)}))},n.get=i("get",(function(e,t,n){"function"==typeof t&&(n=t,t={});var s={};function l(e){var n,s=e._attachments,l=s&&Object.keys(s);if(s&&l.length)return n=l.map((function(n){return function(){return function(n){var l=s[n],i=Qx(e._id)+"/"+c(n)+"?rev="+e._rev;return o(Jx(r,i)).then((function(e){return"buffer"in e?e.buffer():e.blob()})).then((function(e){if(t.binary){var n=Object.getOwnPropertyDescriptor(e.__proto__,"type");return n&&!n.set||(e.type=l.content_type),e}return new Promise((function(t){mw(e,t)}))})).then((function(e){delete l.stub,delete l.length,l.data=e}))}(n)}})),new Promise((function(e,t){var r,s=0,l=0,o=0,i=n.length;function u(){++o===i?r?t(r):e():d()}function a(){s--,u()}function c(e){s--,r=r||e,u()}function d(){for(;s<5&&l<i;)s++,n[l++]().then(a,c)}d()}))}(t=vy(t)).revs&&(s.revs=!0),t.revs_info&&(s.revs_info=!0),t.latest&&(s.latest=!0),t.open_revs&&("all"!==t.open_revs&&(t.open_revs=JSON.stringify(t.open_revs)),s.open_revs=t.open_revs),t.rev&&(s.rev=t.rev),t.conflicts&&(s.conflicts=t.conflicts),t.update_seq&&(s.update_seq=t.update_seq),e=Qx(e),u(Jx(r,e+Xx(s))).then((function(e){return Promise.resolve().then((function(){if(t.attachments)return n=e.data,Array.isArray(n)?Promise.all(n.map((function(e){if(e.ok)return l(e.ok)}))):l(n);var n})).then((function(){n(null,e.data)}))})).catch((function(t){t.docId=e,n(t)}))})),n.remove=i("remove",(function(e,t,n,s){var l;"string"==typeof t?(l={_id:e,_rev:t},"function"==typeof n&&(s=n,n={})):(l=e,"function"==typeof t?(s=t,n={}):(s=n,n=t));var o=l._rev||n.rev;u(Jx(r,Qx(l._id))+"?rev="+o,{method:"DELETE"},s).catch(s)})),n.getAttachment=i("getAttachment",(function(e,t,n,s){"function"==typeof n&&(s=n,n={});var l,i=n.rev?"?rev="+n.rev:"",u=Jx(r,Qx(e))+"/"+c(t)+i;o(u,{method:"GET"}).then((function(e){if(l=e.headers.get("content-type"),e.ok)return"undefined"==typeof process||process.browser||"function"!=typeof e.buffer?e.blob():e.buffer();throw e})).then((function(e){"undefined"==typeof process||process.browser||(e.type=l),s(null,e)})).catch((function(e){s(e)}))})),n.removeAttachment=i("removeAttachment",(function(e,t,n,s){u(Jx(r,Qx(e)+"/"+c(t))+"?rev="+n,{method:"DELETE"},s).catch(s)})),n.putAttachment=i("putAttachment",(function(e,t,n,s,l,o){"function"==typeof l&&(o=l,l=s,s=n,n=null);var i=Qx(e)+"/"+c(t),a=Jx(r,i);if(n&&(a+="?rev="+n),"string"==typeof s){var d;try{d=iw(s)}catch(p){return o(Ky(jy,"Attachment is not a valid base64 string"))}s=d?dw(d,l):""}u(a,{headers:new Qw({"Content-Type":l}),method:"PUT",body:s},o).catch(o)})),n._bulkDocs=function(e,t,n){e.new_edits=t.new_edits,a().then((function(){return Promise.all(e.docs.map(Zx))})).then((function(){return u(Jx(r,"_bulk_docs"),{method:"POST",body:JSON.stringify(e)},n)})).catch(n)},n._put=function(e,t,n){a().then((function(){return Zx(e)})).then((function(){return u(Jx(r,Qx(e._id)),{method:"PUT",body:JSON.stringify(e)})})).then((function(e){n(null,e.data)})).catch((function(t){t.docId=e&&e._id,n(t)}))},n.allDocs=i("allDocs",(function(e,t){"function"==typeof e&&(t=e,e={});var n,s={},l="GET";(e=vy(e)).conflicts&&(s.conflicts=!0),e.update_seq&&(s.update_seq=!0),e.descending&&(s.descending=!0),e.include_docs&&(s.include_docs=!0),e.attachments&&(s.attachments=!0),e.key&&(s.key=JSON.stringify(e.key)),e.start_key&&(e.startkey=e.start_key),e.startkey&&(s.startkey=JSON.stringify(e.startkey)),e.end_key&&(e.endkey=e.end_key),e.endkey&&(s.endkey=JSON.stringify(e.endkey)),void 0!==e.inclusive_end&&(s.inclusive_end=!!e.inclusive_end),void 0!==e.limit&&(s.limit=e.limit),void 0!==e.skip&&(s.skip=e.skip);var o=Xx(s);void 0!==e.keys&&(l="POST",n={keys:e.keys}),u(Jx(r,"_all_docs"+o),{method:l,body:JSON.stringify(n)}).then((function(n){e.include_docs&&e.attachments&&e.binary&&n.data.rows.forEach(Gx),t(null,n.data)})).catch(t)})),n._changes=function(e){var t="batch_size"in e?e.batch_size:25;(e=vy(e)).continuous&&!("heartbeat"in e)&&(e.heartbeat=1e4);var n="timeout"in e?e.timeout:3e4;"timeout"in e&&e.timeout&&n-e.timeout<5e3&&(n=e.timeout+5e3),"heartbeat"in e&&e.heartbeat&&n-e.heartbeat<5e3&&(n=e.heartbeat+5e3);var s={};"timeout"in e&&e.timeout&&(s.timeout=e.timeout);var l=void 0!==e.limit&&e.limit,o=l;if(e.style&&(s.style=e.style),(e.include_docs||e.filter&&"function"==typeof e.filter)&&(s.include_docs=!0),e.attachments&&(s.attachments=!0),e.continuous&&(s.feed="longpoll"),e.seq_interval&&(s.seq_interval=e.seq_interval),e.conflicts&&(s.conflicts=!0),e.descending&&(s.descending=!0),e.update_seq&&(s.update_seq=!0),"heartbeat"in e&&e.heartbeat&&(s.heartbeat=e.heartbeat),e.filter&&"string"==typeof e.filter&&(s.filter=e.filter),e.view&&"string"==typeof e.view&&(s.filter="_view",s.view=e.view),e.query_params&&"object"==typeof e.query_params)for(var i in e.query_params)e.query_params.hasOwnProperty(i)&&(s[i]=e.query_params[i]);var c,d="GET";e.doc_ids?(s.filter="_doc_ids",d="POST",c={doc_ids:e.doc_ids}):e.selector&&(s.filter="_selector",d="POST",c={selector:e.selector});var p,h=new Kw,f=function(n,i){if(!e.aborted){s.since=n,"object"==typeof s.since&&(s.since=JSON.stringify(s.since)),e.descending?l&&(s.limit=o):s.limit=!l||o>t?t:o;var f=Jx(r,"_changes"+Xx(s)),m={signal:h.signal,method:d,body:JSON.stringify(c)};p=n,e.aborted||a().then((function(){return u(f,m,i)})).catch(i)}},m={results:[]},g=function(n,r){if(!e.aborted){var s=0;if(r&&r.results){s=r.results.length,m.last_seq=r.last_seq;var i=null,u=null;"number"==typeof r.pending&&(i=r.pending),"string"!=typeof m.last_seq&&"number"!=typeof m.last_seq||(u=m.last_seq),r.results=r.results.filter((function(t){o--;var n=Qy(e)(t);return n&&(e.include_docs&&e.attachments&&e.binary&&Gx(t),e.return_docs&&m.results.push(t),e.onChange(t,i,u)),n}))}else if(n)return e.aborted=!0,void e.complete(n);r&&r.last_seq&&(p=r.last_seq),(!e.continuous||l&&o<=0)&&(l&&o<=0||r&&s<t||e.descending)?e.complete(null,m):Hb()((function(){f(p,g)}))}};return f(e.since||0,g),{cancel:function(){e.aborted=!0,h.abort()}}},n.revsDiff=i("revsDiff",(function(e,t,n){"function"==typeof t&&(n=t,t={}),u(Jx(r,"_revs_diff"),{method:"POST",body:JSON.stringify(e)},n).catch(n)})),n._close=function(e){e()},n._destroy=function(e,t){u(Jx(r,""),{method:"DELETE"}).then((function(e){t(null,e)})).catch((function(e){404===e.status?t(null,{ok:!0}):t(e)}))}}function t_(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,t_)}catch(oE){}}function n_(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,n_)}catch(oE){}}function r_(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,r_)}catch(oE){}}function s_(e,t){return t&&e.then((function(e){Hb()((function(){t(null,e)}))}),(function(e){Hb()((function(){t(e)}))})),e}function l_(e,t){return function(){var n=arguments,r=this;return e.add((function(){return t.apply(r,n)}))}}function o_(e){var t=new Jb(e),n=new Array(t.size),r=-1;return t.forEach((function(e){n[++r]=e})),n}function i_(e){var t=new Array(e.size),n=-1;return e.forEach((function(e,r){t[++n]=r})),t}function u_(e){return new r_("builtin "+e+" function requires map values to be numbers or number arrays")}function a_(e){for(var t=0,n=0,r=e.length;n<r;n++){var s=e[n];if("number"!=typeof s){if(!Array.isArray(s))throw u_("_sum");t="number"==typeof t?[t]:t;for(var l=0,o=s.length;l<o;l++){var i=s[l];if("number"!=typeof i)throw u_("_sum");void 0===t[l]?t.push(i):t[l]+=i}}else"number"==typeof t?t+=s:t[0]+=s}return t}e_.valid=function(){return!0},iy()(t_,Error),iy()(n_,Error),iy()(r_,Error);var c_=Ty.bind(null,"log"),d_=Array.isArray,p_=JSON.parse;function h_(e,t){return lw("return ("+e.replace(/;\s*$/,"")+");",{emit:t,sum:a_,log:c_,isArray:d_,toJSON:p_})}function f_(){this.promise=new Promise((function(e){e()}))}function m_(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}function g_(e,t,n,r,s,l){var o,i=function(e,t){return m_(e)+m_(t)+"undefined"}(n,r);if(!s&&(o=e._cachedViews=e._cachedViews||{})[i])return o[i];var u=e.info().then((function(u){var a=u.db_name+"-mrview-"+(s?"temp":ww(i));return ow(e,"_local/"+l,(function(e){e.views=e.views||{};var n=t;-1===n.indexOf("/")&&(n=t+"/"+t);var r=e.views[n]=e.views[n]||{};if(!r[a])return r[a]=!0,e})).then((function(){return e.registerDependentDatabase(a).then((function(t){var s=t.db;s.auto_compaction=!0;var l={name:a,db:s,sourceDB:e,adapter:e.adapter,mapFun:n,reduceFun:r};return l.db.get("_local/lastSeq").catch((function(e){if(404!==e.status)throw e})).then((function(e){return l.seq=e?e.seq:0,o&&l.db.once("destroyed",(function(){delete o[i]})),l}))}))}))}));return o&&(o[i]=u),u}f_.prototype.add=function(e){return this.promise=this.promise.catch((function(){})).then((function(){return e()})),this.promise},f_.prototype.finish=function(){return this.promise};var v_={},b_=new f_;function y_(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function w_(e,t){try{e.emit("error",t)}catch(n){Ty("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),Ty("error",t)}}var x_=function(e,t){return a_(t)},__=function(e,t){return t.length},C_=function(e,t){return{sum:a_(t),min:Math.min.apply(null,t),max:Math.max.apply(null,t),count:t.length,sumsqr:function(e){for(var t=0,n=0,r=e.length;n<r;n++){var s=e[n];t+=s*s}return t}(t)}},k_=function(e,t,n,r){function s(e,t,n){try{t(n)}catch(oE){w_(e,oE)}}function l(e,t,n,r,s){try{return{output:t(n,r,s)}}catch(oE){return w_(e,oE),{error:oE}}}function o(e,t){var n=sx(e.key,t.key);return 0!==n?n:sx(e.value,t.value)}function i(e,t,n){return n=n||0,"number"==typeof t?e.slice(n,t+n):n>0?e.slice(n):e}function u(e){var t=e.value;return t&&"object"==typeof t&&t._id||e.id}function a(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&function(e){e.rows.forEach((function(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach((function(e){var n=t[e];t[e].data=pw(n.data,n.content_type)}))}))}(t),t}}function c(e,t,n,r){var s=t[e];void 0!==s&&(r&&(s=encodeURIComponent(JSON.stringify(s))),n.push(e+"="+s))}function d(e){if(void 0!==e){var t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function p(e,t){var n=e.descending?"endkey":"startkey",r=e.descending?"startkey":"endkey";if(void 0!==e[n]&&void 0!==e[r]&&sx(e[n],e[r])>0)throw new t_("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new t_("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new t_("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach((function(t){var n=function(e){if(e){if("number"!=typeof e)return new t_('Invalid value for integer: "'+e+'"');if(e<0)return new t_('Invalid value for positive integer: "'+e+'"')}}(e[t]);if(n)throw n}))}function h(e){return function(t){if(404===t.status)return e;throw t}}function f(e){var t="string"==typeof e?e:e.name,n=v_[t];return n||(n=v_[t]=new f_),n}function m(e){return l_(f(e),(function(){return function(e){var t,n,r=function(e,t){if("function"==typeof e&&2===e.length){var n=e;return function(e){return n(e,t)}}return h_(e.toString(),t)}(e.mapFun,(function(e,r){var s={id:n._id,key:lx(e)};null!=r&&(s.value=lx(r)),t.push(s)})),l=e.seq||0;var i=new f_;function u(){return e.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:l,limit:50}).then(a)}function a(a){var d=a.results;if(d.length){var p=function(i){for(var u=new Yb,a=0,d=i.length;a<d;a++){var p=i[a];if("_"!==p.doc._id[0]){t=[],(n=p.doc)._deleted||s(e.sourceDB,r,n),t.sort(o);var h=c(t);u.set(p.doc._id,[h,p.changes])}l=p.seq}return u}(d);if(i.add(function(t,n){return function(){return function(e,t,n){return e.db.get("_local/lastSeq").catch(h({_id:"_local/lastSeq",seq:0})).then((function(r){var s=i_(t);return Promise.all(s.map((function(n){return function(e,t,n){var r,s="_local/doc_"+e,l={_id:s,keys:[]},o=n.get(e),i=o[0];return(r=o[1],1===r.length&&/^1-/.test(r[0].rev)?Promise.resolve(l):t.db.get(s).catch(h(l))).then((function(e){return function(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):Promise.resolve({rows:[]})}(e).then((function(t){return function(e,t){for(var n=[],r=new Jb,s=0,l=t.rows.length;s<l;s++){var o=t.rows[s].doc;if(o&&(n.push(o),r.add(o._id),o._deleted=!i.has(o._id),!o._deleted)){var u=i.get(o._id);"value"in u&&(o.value=u.value)}}var a=i_(i);return a.forEach((function(e){if(!r.has(e)){var t={_id:e},s=i.get(e);"value"in s&&(t.value=s.value),n.push(t)}})),e.keys=o_(a.concat(e.keys)),n.push(e),n}(e,t)}))}))}(n,e,t)}))).then((function(t){var s=Zy(t);return r.seq=n,s.push(r),e.db.bulkDocs({docs:s})}))}))}(e,t,n)}}(p,l)),!(d.length<50))return u()}}function c(e){for(var t,n=new Yb,r=0,s=e.length;r<s;r++){var l=e[r],o=[l.key,l.id];r>0&&0===sx(l.key,t)&&o.push(r),n.set(ox(o),l),t=l.key}return n}return u().then((function(){return i.finish()})).then((function(){e.seq=l}))}(e)}))()}function g(e,t){return l_(f(e),(function(){return function(e,t){var n,r=e.reduceFun&&!1!==t.reduce,s=t.skip||0;function o(t){return t.include_docs=!0,e.db.allDocs(t).then((function(e){return n=e.total_rows,e.rows.map((function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),n=["id","key","value"];if(!(t<n||t>n))return e.doc.value}var r=function(e){for(var t=[],n=[],r=0;;){var s=e[r++];if("\0"!==s)switch(s){case"1":t.push(null);break;case"2":t.push("1"===e[r]),r++;break;case"3":var l=ix(e,r);t.push(l.num),r+=l.length;break;case"4":for(var o="";;){var i=e[r];if("\0"===i)break;o+=i,r++}o=o.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"\x01").replace(/\u0002\u0002/g,"\x02"),t.push(o);break;case"5":var u={element:[],index:t.length};t.push(u.element),n.push(u);break;case"6":var a={element:{},index:t.length};t.push(a.element),n.push(a);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+s)}else{if(1===t.length)return t.pop();ux(t,n)}}}(e.doc._id);return{key:r[0],id:r[1],value:"value"in e.doc?e.doc.value:null}}))}))}function a(o){var a;if(a=r?function(e,t,n){0===n.group_level&&delete n.group_level;var r=n.group||n.group_level,s=function(e){var t=e.toString();return function(e){if(/^_sum/.test(e))return x_;if(/^_count/.test(e))return __;if(/^_stats/.test(e))return C_;if(/^_/.test(e))throw new Error(e+" is not a supported reduce function.")}(t)||h_(t)}(e.reduceFun),o=[],u=isNaN(n.group_level)?Number.POSITIVE_INFINITY:n.group_level;t.forEach((function(e){var t=o[o.length-1],n=r?e.key:null;if(r&&Array.isArray(n)&&(n=n.slice(0,u)),t&&0===sx(t.groupKey,n))return t.keys.push([e.key,e.id]),void t.values.push(e.value);o.push({keys:[[e.key,e.id]],values:[e.value],groupKey:n})})),t=[];for(var a=0,c=o.length;a<c;a++){var d=o[a],p=l(e.sourceDB,s,d.keys,d.values,!1);if(p.error&&p.error instanceof r_)throw p.error;t.push({value:p.error?null:p.output,key:d.groupKey})}return{rows:i(t,n.limit,n.skip)}}(e,o,t):{total_rows:n,offset:s,rows:o},t.update_seq&&(a.update_seq=e.seq),t.include_docs){var c=o_(o.map(u));return e.sourceDB.allDocs({keys:c,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then((function(e){var t=new Yb;return e.rows.forEach((function(e){t.set(e.id,e.doc)})),o.forEach((function(e){var n=u(e),r=t.get(n);r&&(e.doc=r)})),a}))}return a}if(void 0===t.keys||t.keys.length||(t.limit=0,delete t.keys),void 0!==t.keys){var c=t.keys.map((function(e){var n={startkey:ox([e]),endkey:ox([e,{}])};return t.update_seq&&(n.update_seq=!0),o(n)}));return Promise.all(c).then(Zy).then(a)}var d,p,h={descending:t.descending};if(t.update_seq&&(h.update_seq=!0),"start_key"in t&&(d=t.start_key),"startkey"in t&&(d=t.startkey),"end_key"in t&&(p=t.end_key),"endkey"in t&&(p=t.endkey),void 0!==d&&(h.startkey=ox(t.descending?[d,{}]:[d])),void 0!==p){var f=!1!==t.inclusive_end;t.descending&&(f=!f),h.endkey=ox(f?[p,{}]:[p])}if(void 0!==t.key){var m=ox([t.key]),g=ox([t.key,{}]);h.descending?(h.endkey=m,h.startkey=g):(h.startkey=m,h.endkey=g)}return r||("number"==typeof t.limit&&(h.limit=t.limit),h.skip=s),o(h).then(a)}(e,t)}))()}var v;return{query:function(e,t,n){var r=this;"function"==typeof t&&(n=t,t={}),t=t?function(e){return e.group_level=d(e.group_level),e.limit=d(e.limit),e.skip=d(e.skip),e}(t):{},"function"==typeof e&&(e={map:e});var s=Promise.resolve().then((function(){return function(e,t,n){if("function"==typeof e._query)return function(e,t,n){return new Promise((function(r,s){e._query(t,n,(function(e,t){if(e)return s(e);r(t)}))}))}(e,t,n);if(Yy(e))return function(e,t,n){var r,s,l,o=[],i="GET";if(c("reduce",n,o),c("include_docs",n,o),c("attachments",n,o),c("limit",n,o),c("descending",n,o),c("group",n,o),c("group_level",n,o),c("skip",n,o),c("stale",n,o),c("conflicts",n,o),c("startkey",n,o,!0),c("start_key",n,o,!0),c("endkey",n,o,!0),c("end_key",n,o,!0),c("inclusive_end",n,o),c("key",n,o,!0),c("update_seq",n,o),o=""===(o=o.join("&"))?"":"?"+o,void 0!==n.keys){var u="keys="+encodeURIComponent(JSON.stringify(n.keys));u.length+o.length+1<=2e3?o+=("?"===o[0]?"&":"?")+u:(i="POST","string"==typeof t?r={keys:n.keys}:t.keys=n.keys)}if("string"==typeof t){var d=y_(t);return e.fetch("_design/"+d[0]+"/_view/"+d[1]+o,{headers:new Qw({"Content-Type":"application/json"}),method:i,body:JSON.stringify(r)}).then((function(e){return s=e.ok,l=e.status,e.json()})).then((function(e){if(!s)throw e.status=l,Gy(e);return e.rows.forEach((function(e){if(e.value&&e.value.error&&"builtin_reduce_error"===e.value.error)throw new Error(e.reason)})),e})).then(a(n))}return r=r||{},Object.keys(t).forEach((function(e){r[e]=Array.isArray(t[e])?t[e]:t[e].toString()})),e.fetch("_temp_view"+o,{headers:new Qw({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(r)}).then((function(e){return s=e.ok,l=e.status,e.json()})).then((function(e){if(!s)throw e.status=l,Gy(e);return e})).then(a(n))}(e,t,n);if("string"!=typeof t)return p(n,t),b_.add((function(){return g_(e,"temp_view/temp_view",t.map,t.reduce,!0,"mrviews").then((function(e){return t=m(e).then((function(){return g(e,n)})),r=function(){return e.db.destroy()},t.then((function(e){return r().then((function(){return e}))}),(function(e){return r().then((function(){throw e}))}));var t,r}))})),b_.finish();var r=t,s=y_(r),l=s[1];return e.get("_design/"+s[0]).then((function(t){var s=t.views&&t.views[l];if(!s)throw new n_("ddoc "+t._id+" has no view named "+l);return function(e,t){var n=e.views&&e.views[t];if("string"!=typeof n.map)throw new n_("ddoc "+e._id+" has no string view named "+t+", instead found object of type: "+typeof n.map)}(t,l),p(n,s),g_(e,r,s.map,s.reduce,!1,"mrviews").then((function(e){return"ok"===n.stale||"update_after"===n.stale?("update_after"===n.stale&&Hb()((function(){m(e)})),g(e,n)):m(e).then((function(){return g(e,n)}))}))}))}(r,e,t)}));return s_(s,n),s},viewCleanup:(v=function(){var e=this;return"function"==typeof e._viewCleanup?function(e){return new Promise((function(t,n){e._viewCleanup((function(e,r){if(e)return n(e);t(r)}))}))}(e):Yy(e)?function(e){return e.fetch("_view_cleanup",{headers:new Qw({"Content-Type":"application/json"}),method:"POST"}).then((function(e){return e.json()}))}(e):function(e){return e.get("_local/mrviews").then((function(t){var n=new Yb;Object.keys(t.views).forEach((function(e){var t=y_(e),r="_design/"+t[0],s=t[1],l=n.get(r);l||(l=new Jb,n.set(r,l)),l.add(s)}));var r={keys:i_(n),include_docs:!0};return e.allDocs(r).then((function(r){var s={};r.rows.forEach((function(e){var r=e.key.substring(8);n.get(e.key).forEach((function(n){var l=r+"/"+n;t.views[l]||(l=n);var o=Object.keys(t.views[l]),i=e.doc&&e.doc.views&&e.doc.views[n];o.forEach((function(e){s[e]=s[e]||i}))}))}));var l=Object.keys(s).filter((function(e){return!s[e]})).map((function(t){return l_(f(t),(function(){return new e.constructor(t,e.__opts).destroy()}))()}));return Promise.all(l).then((function(){return{ok:!0}}))}))}),h({ok:!0}))}(e)},ly()((function(e){var t=e.pop(),n=v.apply(this,e);return"function"==typeof t&&s_(n,t),n})))}}(),M_={query:function(e,t,n){return k_.query.call(this,e,t,n)},viewCleanup:function(e){return k_.viewCleanup.call(this,e)}};function S_(e){return/^1-/.test(e)}function T_(e,t){var n=Object.keys(t._attachments);return Promise.all(n.map((function(n){return e.getAttachment(t._id,n,{rev:t._rev})})))}function E_(e,t,n,r,s){return e.get(t).catch((function(n){if(404===n.status)return"http"!==e.adapter&&"https"!==e.adapter||Iy(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:r,_id:t,history:[],replicator:"pouchdb",version:1};throw n})).then((function(l){if(!s.cancelled&&l.last_seq!==n)return l.history=(l.history||[]).filter((function(e){return e.session_id!==r})),l.history.unshift({last_seq:n,session_id:r}),l.history=l.history.slice(0,5),l.version=1,l.replicator="pouchdb",l.session_id=r,l.last_seq=n,e.put(l).catch((function(l){if(409===l.status)return E_(e,t,n,r,s);throw l}))}))}function I_(e,t,n,r,s){this.src=e,this.target=t,this.id=n,this.returnValue=r,this.opts=s||{}}I_.prototype.writeCheckpoint=function(e,t){var n=this;return this.updateTarget(e,t).then((function(){return n.updateSource(e,t)}))},I_.prototype.updateTarget=function(e,t){return this.opts.writeTargetCheckpoint?E_(this.target,this.id,e,t,this.returnValue):Promise.resolve(!0)},I_.prototype.updateSource=function(e,t){if(this.opts.writeSourceCheckpoint){var n=this;return E_(this.src,this.id,e,t,this.returnValue).catch((function(e){if(D_(e))return n.opts.writeSourceCheckpoint=!1,!0;throw e}))}return Promise.resolve(!0)};var F_={undefined:function(e,t){return 0===sx(e.last_seq,t.last_seq)?t.last_seq:0},1:function(e,t){return(n=t,r=e,n.session_id===r.session_id?{last_seq:n.last_seq,history:n.history}:function e(t,n){var r=t[0],s=t.slice(1),l=n[0],o=n.slice(1);return r&&0!==n.length?P_(r.session_id,n)?{last_seq:r.last_seq,history:t}:P_(l.session_id,s)?{last_seq:l.last_seq,history:o}:e(s,o):{last_seq:0,history:[]}}(n.history,r.history)).last_seq;var n,r}};function P_(e,t){var n=t[0],r=t.slice(1);return!(!e||0===t.length)&&(e===n.session_id||P_(e,r))}function D_(e){return"number"==typeof e.status&&4===Math.floor(e.status/100)}function O_(e,t,n,r,s){var l,o,i=[],u={seq:0,changes:[],docs:[]},a=!1,c=!1,d=!1,p=0,h=n.continuous||n.live||!1,f=n.batch_size||100,m=n.batches_limit||10,g=!1,v=n.doc_ids,b=n.selector,y=[],w=_w();s=s||{ok:!0,start_time:(new Date).toISOString(),docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var x={};function _(){return o?Promise.resolve():function(e,t,n){var r=n.doc_ids?n.doc_ids.sort(sx):"",s=n.filter?n.filter.toString():"",l="",o="",i="";return n.selector&&(i=JSON.stringify(n.selector)),n.filter&&n.query_params&&(l=JSON.stringify(function(e){return Object.keys(e).sort(sx).reduce((function(t,n){return t[n]=e[n],t}),{})}(n.query_params))),n.filter&&"_view"===n.filter&&(o=n.view.toString()),Promise.all([e.id(),t.id()]).then((function(e){var t=e[0]+e[1]+s+o+l+r+i;return new Promise((function(e){yw(t,e)}))})).then((function(e){return"_local/"+e.replace(/\//g,".").replace(/\+/g,"_")}))}(e,t,n).then((function(s){o=new I_(e,t,s,r,!1===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:"source"===n.checkpoint?{writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:"target"===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:{writeSourceCheckpoint:!0,writeTargetCheckpoint:!0})}))}function C(){if(y=[],0!==l.docs.length){var e=l.docs;return t.bulkDocs({docs:e,new_edits:!1},{timeout:n.timeout}).then((function(t){if(r.cancelled)throw I(),new Error("cancelled");var n=Object.create(null);t.forEach((function(e){e.error&&(n[e.id]=e)}));var l=Object.keys(n).length;s.doc_write_failures+=l,s.docs_written+=e.length-l,e.forEach((function(e){var t=n[e._id];if(t){s.errors.push(t);var l=(t.name||"").toLowerCase();if("unauthorized"!==l&&"forbidden"!==l)throw t;r.emit("denied",vy(t))}else y.push(e)}))}),(function(t){throw s.doc_write_failures+=e.length,t}))}}function k(){if(l.error)throw new Error("There was a problem getting docs.");s.last_seq=p=l.seq;var e=vy(s);return y.length&&(e.docs=y,"number"==typeof l.pending&&(e.pending=l.pending,delete l.pending),r.emit("change",e)),a=!0,o.writeCheckpoint(l.seq,w).then((function(){if(a=!1,r.cancelled)throw I(),new Error("cancelled");l=void 0,O()})).catch((function(e){throw q(e),e}))}function M(){return function(e,t,n,r){n=vy(n);var s=[],l=!0;return Promise.resolve().then((function(){var t=Object.keys(n).filter((function(e){var t=n[e].missing;return 1===t.length&&S_(t[0])}));if(t.length>0)return function(t){return e.allDocs({keys:t,include_docs:!0,conflicts:!0}).then((function(e){if(r.cancelled)throw new Error("cancelled");e.rows.forEach((function(e){var t;e.deleted||!e.doc||!S_(e.value.rev)||(t=e.doc)._attachments&&Object.keys(t._attachments).length>0||function(e){return e._conflicts&&e._conflicts.length>0}(e.doc)||(e.doc._conflicts&&delete e.doc._conflicts,s.push(e.doc),delete n[e.id])}))}))}(t)})).then((function(){var o=function(e){var t=[];return Object.keys(e).forEach((function(n){e[n].missing.forEach((function(e){t.push({id:n,rev:e})}))})),{docs:t,revs:!0,latest:!0}}(n);if(o.docs.length)return e.bulkGet(o).then((function(n){if(r.cancelled)throw new Error("cancelled");return Promise.all(n.results.map((function(n){return Promise.all(n.docs.map((function(n){var r=n.ok;return n.error&&(l=!1),r&&r._attachments?function(e,t,n){var r=Yy(t)&&!Yy(e),s=Object.keys(n._attachments);return r?e.get(n._id).then((function(r){return Promise.all(s.map((function(s){return function(e,t,n){return!e._attachments||!e._attachments[n]||e._attachments[n].digest!==t._attachments[n].digest}(r,n,s)?t.getAttachment(n._id,s):e.getAttachment(r._id,s)})))})).catch((function(e){if(404!==e.status)throw e;return T_(t,n)})):T_(t,n)}(t,e,r).then((function(e){var t=Object.keys(r._attachments);return e.forEach((function(e,n){var s=r._attachments[t[n]];delete s.stub,delete s.length,s.data=e})),r})):r})))}))).then((function(e){s=s.concat(Zy(e).filter(Boolean))}))}))})).then((function(){return{ok:l,docs:s}}))}(e,t,l.diffs,r).then((function(e){l.error=!e.ok,e.docs.forEach((function(e){delete l.diffs[e._id],s.docs_read++,l.docs.push(e)}))}))}function S(){var e;r.cancelled||l||(0!==i.length?(l=i.shift(),(e={},l.changes.forEach((function(t){"_user/"!==t.id&&(e[t.id]=t.changes.map((function(e){return e.rev})))})),t.revsDiff(e).then((function(e){if(r.cancelled)throw I(),new Error("cancelled");l.diffs=e}))).then(M).then(C).then(k).then(S).catch((function(e){E("batch processing terminated with error",e)}))):T(!0))}function T(e){0!==u.changes.length?(e||c||u.changes.length>=f)&&(i.push(u),u={seq:0,changes:[],docs:[]},"pending"!==r.state&&"stopped"!==r.state||(r.state="active",r.emit("active")),S()):0!==i.length||l||((h&&x.live||c)&&(r.state="pending",r.emit("paused")),c&&I())}function E(e,t){d||(t.message||(t.message=e),s.ok=!1,s.status="aborting",i=[],u={seq:0,changes:[],docs:[]},I(t))}function I(l){if(!(d||r.cancelled&&(s.status="cancelled",a)))if(s.status=s.status||"complete",s.end_time=(new Date).toISOString(),s.last_seq=p,d=!0,l){(l=Ky(l)).result=s;var o=(l.name||"").toLowerCase();"unauthorized"===o||"forbidden"===o?(r.emit("error",l),r.removeAllListeners()):function(e,t,n,r){if(!1===e.retry)return t.emit("error",n),void t.removeAllListeners();if("function"!=typeof e.back_off_function&&(e.back_off_function=Ey),t.emit("requestError",n),"active"===t.state||"pending"===t.state){t.emit("paused",n),t.state="stopped";var s=function(){e.current_back_off=0};t.once("paused",(function(){t.removeListener("active",s)})),t.once("active",s)}e.current_back_off=e.current_back_off||0,e.current_back_off=e.back_off_function(e.current_back_off),setTimeout(r,e.current_back_off)}(n,r,l,(function(){O_(e,t,n,r)}))}else r.emit("complete",s),r.removeAllListeners()}function F(e,t,s){if(r.cancelled)return I();"number"==typeof t&&(u.pending=t),Qy(n)(e)&&(u.seq=e.seq||s,u.changes.push(e),Hb()((function(){T(0===i.length&&x.live)})))}function P(e){if(g=!1,r.cancelled)return I();if(e.results.length>0)x.since=e.results[e.results.length-1].seq,O(),T(!0);else{var t=function(){h?(x.live=!0,O()):c=!0,T(!0)};l||0!==e.results.length?t():(a=!0,o.writeCheckpoint(e.last_seq,w).then((function(){a=!1,s.last_seq=p=e.last_seq,t()})).catch(q))}}function D(e){if(g=!1,r.cancelled)return I();E("changes rejected",e)}function O(){if(!g&&!c&&i.length<m){g=!0,r._changes&&(r.removeListener("cancel",r._abortChanges),r._changes.cancel()),r.once("cancel",s);var t=e.changes(x).on("change",F);t.then(l,l),t.then(P).catch(D),n.retry&&(r._changes=t,r._abortChanges=s)}function s(){t.cancel()}function l(){r.removeListener("cancel",s)}}function A(){_().then((function(){if(!r.cancelled)return o.getCheckpoint().then((function(e){x={since:p=e,limit:f,batch_size:f,style:"all_docs",doc_ids:v,selector:b,return_docs:!0},n.filter&&("string"!=typeof n.filter?x.include_docs=!0:x.filter=n.filter),"heartbeat"in n&&(x.heartbeat=n.heartbeat),"timeout"in n&&(x.timeout=n.timeout),n.query_params&&(x.query_params=n.query_params),n.view&&(x.view=n.view),O()}));I()})).catch((function(e){E("getCheckpoint rejected with ",e)}))}function q(e){a=!1,E("writeCheckpoint completed with error",e)}r.ready(e,t),r.cancelled?I():(r._addedListeners||(r.once("cancel",I),"function"==typeof n.complete&&(r.once("error",n.complete),r.once("complete",(function(e){n.complete(null,e)}))),r._addedListeners=!0),void 0===n.since?A():_().then((function(){return a=!0,o.writeCheckpoint(n.since,w)})).then((function(){a=!1,r.cancelled?I():(p=n.since,A())})).catch(q))}function A_(){ay.a.call(this),this.cancelled=!1,this.state="pending";var e=this,t=new Promise((function(t,n){e.once("complete",t),e.once("error",n)}));e.then=function(e,n){return t.then(e,n)},e.catch=function(e){return t.catch(e)},e.catch((function(){}))}function q_(e,t){return"string"==typeof e?new(0,t.PouchConstructor)(e,t):e}function R_(e,t,n,r){if("function"==typeof n&&(r=n,n={}),void 0===n&&(n={}),n.doc_ids&&!Array.isArray(n.doc_ids))throw Ky(Uy,"`doc_ids` filter parameter is not a list.");n.complete=r,(n=vy(n)).continuous=n.continuous||n.live,n.retry="retry"in n&&n.retry,n.PouchConstructor=n.PouchConstructor||this;var s=new A_(n);return O_(q_(e,n),q_(t,n),n,s),s}function N_(e,t,n,r){return"function"==typeof n&&(r=n,n={}),void 0===n&&(n={}),(n=vy(n)).PouchConstructor=n.PouchConstructor||this,new $_(e=q_(e,n),t=q_(t,n),n,r)}function $_(e,t,n,r){var s=this;this.canceled=!1;var l=n.push?Fy({},n,n.push):n,o=n.pull?Fy({},n,n.pull):n;function i(e){s.emit("change",{direction:"pull",change:e})}function u(e){s.emit("change",{direction:"push",change:e})}function a(e){s.emit("denied",{direction:"push",doc:e})}function c(e){s.emit("denied",{direction:"pull",doc:e})}function d(){s.pushPaused=!0,s.pullPaused&&s.emit("paused")}function p(){s.pullPaused=!0,s.pushPaused&&s.emit("paused")}function h(){s.pushPaused=!1,s.pullPaused&&s.emit("active",{direction:"push"})}function f(){s.pullPaused=!1,s.pushPaused&&s.emit("active",{direction:"pull"})}this.push=R_(e,t,l),this.pull=R_(t,e,o),this.pushPaused=!0,this.pullPaused=!0;var m={};function g(e){return function(t,n){("change"===t&&(n===i||n===u)||"denied"===t&&(n===c||n===a)||"paused"===t&&(n===p||n===d)||"active"===t&&(n===f||n===h))&&(t in m||(m[t]={}),m[t][e]=!0,2===Object.keys(m[t]).length&&s.removeAllListeners(t))}}function v(e,t,n){-1==e.listeners(t).indexOf(n)&&e.on(t,n)}n.live&&(this.push.on("complete",s.pull.cancel.bind(s.pull)),this.pull.on("complete",s.push.cancel.bind(s.push))),this.on("newListener",(function(e){"change"===e?(v(s.pull,"change",i),v(s.push,"change",u)):"denied"===e?(v(s.pull,"denied",c),v(s.push,"denied",a)):"active"===e?(v(s.pull,"active",f),v(s.push,"active",h)):"paused"===e&&(v(s.pull,"paused",p),v(s.push,"paused",d))})),this.on("removeListener",(function(e){"change"===e?(s.pull.removeListener("change",i),s.push.removeListener("change",u)):"denied"===e?(s.pull.removeListener("denied",c),s.push.removeListener("denied",a)):"active"===e?(s.pull.removeListener("active",f),s.push.removeListener("active",h)):"paused"===e&&(s.pull.removeListener("paused",p),s.push.removeListener("paused",d))})),this.pull.on("removeListener",g("pull")),this.push.on("removeListener",g("push"));var b=Promise.all([this.push,this.pull]).then((function(e){var t={push:e[0],pull:e[1]};return s.emit("complete",t),r&&r(null,t),s.removeAllListeners(),t}),(function(e){if(s.cancel(),r?r(e):s.emit("error",e),s.removeAllListeners(),r)throw e}));this.then=function(e,t){return b.then(e,t)},this.catch=function(e){return b.catch(e)}}I_.prototype.getCheckpoint=function(){var e=this;return e.opts&&e.opts.writeSourceCheckpoint&&!e.opts.writeTargetCheckpoint?e.src.get(e.id).then((function(e){return e.last_seq||0})).catch((function(e){if(404!==e.status)throw e;return 0})):e.target.get(e.id).then((function(t){return e.opts&&e.opts.writeTargetCheckpoint&&!e.opts.writeSourceCheckpoint?t.last_seq||0:e.src.get(e.id).then((function(e){return t.version!==e.version?0:(n=t.version?t.version.toString():"undefined")in F_?F_[n](t,e):0;var n}),(function(n){if(404===n.status&&t.last_seq)return e.src.put({_id:e.id,last_seq:0}).then((function(){return 0}),(function(n){return D_(n)?(e.opts.writeSourceCheckpoint=!1,t.last_seq):0}));throw n}))})).catch((function(e){if(404!==e.status)throw e;return 0}))},iy()(A_,ay.a),A_.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},A_.prototype.ready=function(e,t){var n=this;function r(){n.cancel()}n._readyCalled||(n._readyCalled=!0,e.once("destroyed",r),t.once("destroyed",r),n.once("complete",(function(){e.removeListener("destroyed",r),t.removeListener("destroyed",r)})))},iy()($_,ay.a),$_.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},Ww.plugin((function(e){e.adapter("idb",Wx,!0)})).plugin((function(e){e.adapter("http",e_,!1),e.adapter("https",e_,!1)})).plugin(M_).plugin((function(e){e.replicate=R_,e.sync=N_,Object.defineProperty(e.prototype,"replicate",{get:function(){var e=this;return void 0===this.replicateMethods&&(this.replicateMethods={from:function(t,n,r){return e.constructor.replicate(t,e,n,r)},to:function(t,n,r){return e.constructor.replicate(e,t,n,r)}}),this.replicateMethods}}),e.prototype.sync=function(e,t,n){return this.constructor.sync(this,e,t,n)}}));var j_=Ww;function L_(e,t,n){Error.call(this,n),this.status=e,this.name=t,this.message=n,this.error=!0}iy()(L_,Error),L_.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})},new L_(401,"unauthorized","Name or password is incorrect."),new L_(400,"bad_request","Missing JSON list of 'docs'"),new L_(404,"not_found","missing"),new L_(409,"conflict","Document update conflict"),new L_(400,"bad_request","_id field must contain a string"),new L_(412,"missing_id","_id is required for puts"),new L_(400,"bad_request","Only reserved document ids may start with underscore."),new L_(412,"precondition_failed","Database not open");var V_=new L_(500,"unknown_error","Database encountered an unknown error");function U_(e){if("object"!=typeof e){var t=e;(e=V_).data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),e}new L_(500,"badarg","Some query argument is invalid"),new L_(400,"invalid_request","Request was invalid"),new L_(400,"query_parse_error","Some query parameter is invalid"),new L_(500,"doc_validation","Bad special document member"),new L_(400,"bad_request","Something wrong with the request"),new L_(400,"bad_request","Document must be a JSON object"),new L_(404,"not_found","Database not found"),new L_(500,"indexed_db_went_bad","unknown"),new L_(500,"web_sql_went_bad","unknown"),new L_(500,"levelDB_went_went_bad","unknown"),new L_(403,"forbidden","Forbidden by design doc validate_doc_update function"),new L_(400,"bad_request","Invalid rev format"),new L_(412,"file_exists","The database could not be created, the file already exists."),new L_(412,"missing_stub","A pre-existing attachment stub wasn't found"),new L_(413,"invalid_url","Provided URL is invalid"),"undefined"!=typeof AbortController&&AbortController,fetch;var B_,z_,H_=Headers;function W_(e){return"$"+e}function K_(e){return e.substring(1)}function G_(){this._store={}}function Q_(e){if(this._store=new G_,e&&Array.isArray(e))for(var t=0,n=e.length;t<n;t++)this.add(e[t])}function Z_(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),s=0;s<t;s++)r[s]=e.charCodeAt(s);return n}function J_(e,t){if(e===t)return 0;e=Y_(e),t=Y_(t);var n=nC(e),r=nC(t);if(n-r!=0)return n-r;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return function(e,t){return e===t?0:e>t?1:-1}(e,t)}return Array.isArray(e)?function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var s=J_(e[r],t[r]);if(0!==s)return s}return e.length===t.length?0:e.length>t.length?1:-1}(e,t):function(e,t){for(var n=Object.keys(e),r=Object.keys(t),s=Math.min(n.length,r.length),l=0;l<s;l++){var o=J_(n[l],r[l]);if(0!==o)return o;if(0!==(o=J_(e[n[l]],t[r[l]])))return o}return n.length===r.length?0:n.length>r.length?1:-1}(e,t)}function Y_(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var n=e.length;e=new Array(n);for(var r=0;r<n;r++)e[r]=Y_(t[r])}else{if(e instanceof Date)return e.toJSON();if(null!==e)for(var s in e={},t)if(t.hasOwnProperty(s)){var l=t[s];void 0!==l&&(e[s]=Y_(l))}}}return e}function X_(e){return nC(e=Y_(e))+""+function(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return function(e){if(0===e)return"1";var t,n=e.toExponential().split(/e\+?/),r=parseInt(n[1],10),s=e<0,l=s?"0":"2";l+=""+(function(e,t,n){for(var r="",s=3-e.length;r.length<s;)r+="0";return r}(t=((s?-r:r)- -324).toString())+t);var o=Math.abs(parseFloat(n[0]));s&&(o=10-o);var i=o.toFixed(20);return l+""+i.replace(/\.?0+$/,"")}(e);case"string":return e.replace(/\u0002/g,"\x02\x02").replace(/\u0001/g,"\x01\x02").replace(/\u0000/g,"\x01\x01");case"object":var t=Array.isArray(e),n=t?e:Object.keys(e),r=-1,s=n.length,l="";if(t)for(;++r<s;)l+=X_(n[r]);else for(;++r<s;){var o=n[r];l+=X_(o)+X_(e[o])}return l}return""}(e)+"\0"}function eC(e,t){var n,r=t;if("1"===e[t])n=0,t++;else{var s="0"===e[t];t++;var l="",o=e.substring(t,t+3),i=parseInt(o,10)+-324;for(s&&(i=-i),t+=3;;){var u=e[t];if("\0"===u)break;l+=u,t++}n=1===(l=l.split(".")).length?parseInt(l,10):parseFloat(l[0]+"."+l[1]),s&&(n-=10),0!==i&&(n=parseFloat(n+"e"+i))}return{num:n,length:t-r}}function tC(e,t){var n=e.pop();if(t.length){var r=t[t.length-1];n===r.element&&(t.pop(),r=t[t.length-1]);var s=r.element,l=r.index;Array.isArray(s)?s.push(n):l===e.length-2?s[e.pop()]=n:e.push(n)}}function nC(e){var t=["boolean","number","string","object"].indexOf(typeof e);return~t?null===e?1:Array.isArray(e)?5:t<3?t+2:t+3:Array.isArray(e)?5:void 0}G_.prototype.get=function(e){var t=W_(e);return this._store[t]},G_.prototype.set=function(e,t){var n=W_(e);return this._store[n]=t,!0},G_.prototype.has=function(e){return W_(e)in this._store},G_.prototype.delete=function(e){var t=W_(e),n=t in this._store;return delete this._store[t],n},G_.prototype.forEach=function(e){for(var t=Object.keys(this._store),n=0,r=t.length;n<r;n++){var s=t[n];e(this._store[s],s=K_(s))}},Object.defineProperty(G_.prototype,"size",{get:function(){return Object.keys(this._store).length}}),Q_.prototype.add=function(e){return this._store.set(e,!0)},Q_.prototype.has=function(e){return this._store.has(e)},Q_.prototype.forEach=function(e){this._store.forEach((function(t,n){e(n)}))},Object.defineProperty(Q_.prototype,"size",{get:function(){return this._store.size}}),function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(B_=Set,z_=Map):(B_=Q_,z_=G_);var rC=n("xTGW"),sC=n.n(rC);"undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto;for(var lC=0;lC<256;++lC);function oC(e){return ty.a.hash(e)}self.setImmediate||self;var iC,uC=Function.prototype.toString,aC=uC.call(Object);function cC(e){var t,n,r;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],n=0,r=e.length;n<r;n++)t[n]=cC(e[n]);return t}if(e instanceof Date)return e.toISOString();if(function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}(e))return function(e){if(e instanceof ArrayBuffer)return function(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),n=new Uint8Array(t),r=new Uint8Array(e);return n.set(r),t}(e);var t=e.size,n=e.type;return"function"==typeof e.slice?e.slice(0,t,n):e.webkitSlice(0,t,n)}(e);if(!function(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&uC.call(n)==aC}(e))return e;for(n in t={},e)if(Object.prototype.hasOwnProperty.call(e,n)){var s=cC(e[n]);void 0!==s&&(t[n]=s)}return t}function dC(e){return ly()((function(t){t=cC(t);var n=this,r="function"==typeof t[t.length-1]&&t.pop(),s=new Promise((function(r,s){var l,o,i;try{var u=(o=function(e,t){e?s(e):r(t)},i=!1,ly()((function(e){if(i)throw new Error("once called more than once");i=!0,o.apply(this,e)})));t.push(u),(l=e.apply(n,t))&&"function"==typeof l.then&&r(l)}catch(oE){s(oE)}}));return r&&s.then((function(e){r(null,e)}),r),s}))}try{localStorage.setItem("_pouch_check_localstorage",1),iC=!!localStorage.getItem("_pouch_check_localstorage")}catch(oE){iC=!1}function pC(){return iC}function hC(){ay.a.call(this),this._listeners={},function(e){pC()&&addEventListener("storage",(function(t){e.emit(t.key)}))}(this)}function fC(e){if("undefined"!=typeof console&&"function"==typeof console[e]){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}iy()(hC,ay.a),hC.prototype.addListener=function(e,t,n,r){if(!this._listeners[t]){var s=this,l=!1;this._listeners[t]=o,this.on(e,o)}function o(){if(s._listeners[t])if(l)l="waiting";else{l=!0;var e=function(e,t){for(var n={},r=0,s=t.length;r<s;r++){var l=t[r];l in e&&(n[l]=e[l])}return n}(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);n.changes(e).on("change",(function(e){e.seq>r.since&&!r.cancelled&&(r.since=e.seq,r.onChange(e))})).on("complete",(function(){"waiting"===l&&sC()(o),l=!1})).on("error",(function(){l=!1}))}}},hC.prototype.removeListener=function(e,t){t in this._listeners&&(ay.a.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},hC.prototype.notifyLocalWindows=function(e){pC()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},hC.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var mC="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t};function gC(e){for(var t=[],n=0,r=e.length;n<r;n++)t=t.concat(e[n]);return t}function vC(e){return"boolean"==typeof e._remote?e._remote:"function"==typeof e.type&&(fC("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function bC(e,t,n){return new Promise((function(r,s){e.get(t,(function(l,o){if(l){if(404!==l.status)return s(l);o={}}var i=o._rev,u=n(o);if(!u)return r({updated:!1,rev:i});u._id=t,u._rev=i,r(function(e,t,n){return e.put(t).then((function(e){return{updated:!0,rev:e.rev}}),(function(r){if(409!==r.status)throw r;return bC(e,t._id,n)}))}(e,u,n))}))}))}function yC(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,yC)}catch(oE){}}function wC(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,wC)}catch(oE){}}function xC(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,xC)}catch(oE){}}function _C(e,t){return t&&e.then((function(e){sC()((function(){t(null,e)}))}),(function(e){sC()((function(){t(e)}))})),e}function CC(e,t){return function(){var n=arguments,r=this;return e.add((function(){return t.apply(r,n)}))}}function kC(e){var t=new B_(e),n=new Array(t.size),r=-1;return t.forEach((function(e){n[++r]=e})),n}function MC(e){var t=new Array(e.size),n=-1;return e.forEach((function(e,r){t[++n]=r})),t}function SC(){this.promise=new Promise((function(e){e()}))}function TC(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}function EC(e,t,n,r,s,l){var o,i=function(e,t){return TC(e)+TC(t)+"undefined"}(n,r);if(!s&&(o=e._cachedViews=e._cachedViews||{})[i])return o[i];var u=e.info().then((function(u){var a=u.db_name+"-mrview-"+(s?"temp":oC(i));return bC(e,"_local/"+l,(function(e){e.views=e.views||{};var n=t;-1===n.indexOf("/")&&(n=t+"/"+t);var r=e.views[n]=e.views[n]||{};if(!r[a])return r[a]=!0,e})).then((function(){return e.registerDependentDatabase(a).then((function(t){var s=t.db;s.auto_compaction=!0;var l={name:a,db:s,sourceDB:e,adapter:e.adapter,mapFun:n,reduceFun:r};return l.db.get("_local/lastSeq").catch((function(e){if(404!==e.status)throw e})).then((function(e){return l.seq=e?e.seq:0,o&&l.db.once("destroyed",(function(){delete o[i]})),l}))}))}))}));return o&&(o[i]=u),u}iy()(yC,Error),iy()(wC,Error),iy()(xC,Error),SC.prototype.add=function(e){return this.promise=this.promise.catch((function(){})).then((function(){return e()})),this.promise},SC.prototype.finish=function(){return this.promise};var IC={},FC=new SC;function PC(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function DC(e,t){try{e.emit("error",t)}catch(n){fC("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),fC("error",t)}}function OC(e,t){for(var n=e,r=0,s=t.length;r<s&&(n=n[t[r]]);r++);return n}function AC(e,t,n){for(var r=0,s=t.length;r<s-1;r++){var l=t[r];e=e[l]=e[l]||{}}e[t[s-1]]=n}function qC(e,t){return e<t?-1:e>t?1:0}function RC(e){for(var t=[],n="",r=0,s=e.length;r<s;r++){var l=e[r];"."===l?r>0&&"\\"===e[r-1]?n=n.substring(0,n.length-1)+".":(t.push(n),n=""):n+=l}return t.push(n),t}var NC=["$or","$nor","$not"];function $C(e){return NC.indexOf(e)>-1}function jC(e){return Object.keys(e)[0]}function LC(e){return e[jC(e)]}function VC(e){var t={};return e.forEach((function(e){Object.keys(e).forEach((function(n){var r=e[n];if("object"!=typeof r&&(r={$eq:r}),$C(n))t[n]=r instanceof Array?r.map((function(e){return VC([e])})):VC([r]);else{var s=t[n]=t[n]||{};Object.keys(r).forEach((function(e){var t=r[e];return"$gt"===e||"$gte"===e?function(e,t,n){void 0===n.$eq&&(void 0!==n.$gte?"$gte"===e?t>n.$gte&&(n.$gte=t):t>=n.$gte&&(delete n.$gte,n.$gt=t):void 0!==n.$gt?"$gte"===e?t>n.$gt&&(delete n.$gt,n.$gte=t):t>n.$gt&&(n.$gt=t):n[e]=t)}(e,t,s):"$lt"===e||"$lte"===e?function(e,t,n){void 0===n.$eq&&(void 0!==n.$lte?"$lte"===e?t<n.$lte&&(n.$lte=t):t<=n.$lte&&(delete n.$lte,n.$lt=t):void 0!==n.$lt?"$lte"===e?t<n.$lt&&(delete n.$lt,n.$lte=t):t<n.$lt&&(n.$lt=t):n[e]=t)}(e,t,s):"$ne"===e?function(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}(t,s):"$eq"===e?function(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}(t,s):void(s[e]=t)}))}}))})),t}function UC(e,t,n){return n.every((function(n){var r=t[n],s=RC(n),l=OC(e,s);return $C(n)?function(e,t,n){return"$or"===e?t.some((function(e){return UC(n,e,Object.keys(e))})):"$not"===e?!UC(n,t,Object.keys(t)):!t.find((function(e){return UC(n,e,Object.keys(e))}))}(n,r,e):BC(r,e,s,l)}))}function BC(e,t,n,r){return!e||("object"==typeof e?Object.keys(e).every((function(s){return function(e,t,n,r,s){if(!KC[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return KC[e](t,n,r,s)}(s,t,e[s],n,r)})):e===r)}function zC(e){return null!=e}function HC(e){return void 0!==e}function WC(e,t){return t.some((function(t){return e instanceof Array?e.indexOf(t)>-1:e===t}))}var KC={$elemMatch:function(e,t,n,r){return!!Array.isArray(r)&&0!==r.length&&r.some("object"==typeof r[0]?function(e){return UC(e,t,Object.keys(t))}:function(r){return BC(t,e,n,r)})},$allMatch:function(e,t,n,r){return!!Array.isArray(r)&&0!==r.length&&r.every("object"==typeof r[0]?function(e){return UC(e,t,Object.keys(t))}:function(r){return BC(t,e,n,r)})},$eq:function(e,t,n,r){return HC(r)&&0===J_(r,t)},$gte:function(e,t,n,r){return HC(r)&&J_(r,t)>=0},$gt:function(e,t,n,r){return HC(r)&&J_(r,t)>0},$lte:function(e,t,n,r){return HC(r)&&J_(r,t)<=0},$lt:function(e,t,n,r){return HC(r)&&J_(r,t)<0},$exists:function(e,t,n,r){return t?HC(r):!HC(r)},$mod:function(e,t,n,r){return zC(r)&&function(e,t){var n=t[0],r=t[1];if(0===n)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(n,10)!==n)throw new Error("Divisor is not an integer");if(parseInt(r,10)!==r)throw new Error("Modulus is not an integer");return parseInt(e,10)===e&&e%n===r}(r,t)},$ne:function(e,t,n,r){return t.every((function(e){return 0!==J_(r,e)}))},$in:function(e,t,n,r){return zC(r)&&WC(r,t)},$nin:function(e,t,n,r){return zC(r)&&!WC(r,t)},$size:function(e,t,n,r){return zC(r)&&function(e,t){return e.length===t}(r,t)},$all:function(e,t,n,r){return Array.isArray(r)&&function(e,t){return t.every((function(t){return e.indexOf(t)>-1}))}(r,t)},$regex:function(e,t,n,r){return zC(r)&&function(e,t){return new RegExp(t).test(e)}(r,t)},$type:function(e,t,n,r){return function(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}throw new Error(t+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}(r,t)}};function GC(e){return(e=cC(e)).index||(e.index={}),["type","name","ddoc"].forEach((function(t){e.index[t]&&(e[t]=e.index[t],delete e.index[t])})),e.fields&&(e.index.fields=e.fields,delete e.fields),e.type||(e.type="json"),e}function QC(e,t,n,r){var s,l;n.headers=new H_({"Content-type":"application/json"}),e.fetch(t,n).then((function(e){return s=e.status,l=e.ok,e.json()})).then((function(e){if(l)r(null,e);else{e.status=s;var t=U_(e);r(t)}})).catch(r)}function ZC(e,t,n){t=GC(t),QC(e,"_index",{method:"POST",body:JSON.stringify(t)},n)}function JC(e,t,n){QC(e,"_find",{method:"POST",body:JSON.stringify(t)},n)}function YC(e,t,n){QC(e,"_explain",{method:"POST",body:JSON.stringify(t)},n)}function XC(e,t){QC(e,"_index",{method:"GET"},t)}function ek(e,t,n){var r=t.ddoc,s=t.name;return r?s?void QC(e,"_index/"+[r,t.type||"json",s].map(encodeURIComponent).join("/"),{method:"DELETE"},n):n(new Error("you must provide an index's name")):n(new Error("you must provide an index's ddoc"))}function tk(e){return function(){for(var t=arguments.length,n=new Array(t),r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}}function nk(e){return tk((function(t){var n=t.pop(),r=e.apply(this,t);return function(e,t){e.then((function(e){sC()((function(){t(null,e)}))}),(function(e){sC()((function(){t(e)}))}))}(r,n),r}))}var rk=tk((function(e){for(var t=[],n=0,r=e.length;n<r;n++){var s=e[n];Array.isArray(s)?t=t.concat(rk.apply(null,s)):t.push(s)}return t}));function sk(e){for(var t={},n=0,r=e.length;n<r;n++)t=mC(t,e[n]);return t}function lk(e,t){for(var n=0,r=Math.min(e.length,t.length);n<r;n++)if(e[n]!==t[n])return!1;return!0}function ok(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}var ik=function(e,t,n,r){function s(e,t,n){try{t(n)}catch(oE){DC(e,oE)}}function l(e,t,n,r,s){try{return{output:t(n,r,s)}}catch(oE){return DC(e,oE),{error:oE}}}function o(e,t){var n=J_(e.key,t.key);return 0!==n?n:J_(e.value,t.value)}function i(e,t,n){return n=n||0,"number"==typeof t?e.slice(n,t+n):n>0?e.slice(n):e}function u(e){var t=e.value;return t&&"object"==typeof t&&t._id||e.id}function a(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&function(e){e.rows.forEach((function(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach((function(e){var n,r=t[e];t[e].data=(n=r.content_type,function(e,t){return function(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(oE){if("TypeError"!==oE.name)throw oE;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}([Z_(e)],{type:t})}(atob(r.data),n))}))}))}(t),t}}function c(e,t,n,r){var s=t[e];void 0!==s&&(r&&(s=encodeURIComponent(JSON.stringify(s))),n.push(e+"="+s))}function d(e){if(void 0!==e){var t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function p(e,t){var n=e.descending?"endkey":"startkey",r=e.descending?"startkey":"endkey";if(void 0!==e[n]&&void 0!==e[r]&&J_(e[n],e[r])>0)throw new yC("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new yC("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new yC("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach((function(t){var n=function(e){if(e){if("number"!=typeof e)return new yC('Invalid value for integer: "'+e+'"');if(e<0)return new yC('Invalid value for positive integer: "'+e+'"')}}(e[t]);if(n)throw n}))}function h(e){return function(t){if(404===t.status)return e;throw t}}function f(e){var t="string"==typeof e?e:e.name,n=IC[t];return n||(n=IC[t]=new SC),n}function m(e){return CC(f(e),(function(){return function(e){var t,n,r,l=(r=function(e,r){var s={id:n._id,key:Y_(e)};null!=r&&(s.value=Y_(r)),t.push(s)},function(e,t){var n=function(e){for(var t=0,n=e.length;t<n;t++)if(-1!==e[t].indexOf("."))return!1;return!0}(e),r=1===e.length;return n?r?function(e,t){return function(n){t(n[e])}}(e[0],t):function(e,t){return function(n){for(var r=[],s=0,l=e.length;s<l;s++)r.push(n[e[s]]);t(r)}}(e,t):r?function(e,t){var n=RC(e);return function(e){for(var r=e,s=0,l=n.length;s<l;s++)if(void 0===(r=r[n[s]]))return;t(r)}}(e[0],t):function(e,t){return function(n){for(var r=[],s=0,l=e.length;s<l;s++){for(var o=RC(e[s]),i=n,u=0,a=o.length;u<a;u++)if(void 0===(i=i[o[u]]))return;r.push(i)}t(r)}}(e,t)}(Object.keys(e.mapFun.fields),r)),i=e.seq||0;var u=new SC;function a(){return e.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:i,limit:50}).then(c)}function c(r){var c=r.results;if(c.length){var p=function(r){for(var u=new z_,a=0,c=r.length;a<c;a++){var p=r[a];if("_"!==p.doc._id[0]){t=[],(n=p.doc)._deleted||s(e.sourceDB,l,n),t.sort(o);var h=d(t);u.set(p.doc._id,[h,p.changes])}i=p.seq}return u}(c);if(u.add(function(t,n){return function(){return function(e,t,n){return e.db.get("_local/lastSeq").catch(h({_id:"_local/lastSeq",seq:0})).then((function(r){var s=MC(t);return Promise.all(s.map((function(n){return function(e,t,n){var r,s="_local/doc_"+e,l={_id:s,keys:[]},o=n.get(e),i=o[0];return(r=o[1],1===r.length&&/^1-/.test(r[0].rev)?Promise.resolve(l):t.db.get(s).catch(h(l))).then((function(e){return function(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):Promise.resolve({rows:[]})}(e).then((function(t){return function(e,t){for(var n=[],r=new B_,s=0,l=t.rows.length;s<l;s++){var o=t.rows[s].doc;if(o&&(n.push(o),r.add(o._id),o._deleted=!i.has(o._id),!o._deleted)){var u=i.get(o._id);"value"in u&&(o.value=u.value)}}var a=MC(i);return a.forEach((function(e){if(!r.has(e)){var t={_id:e},s=i.get(e);"value"in s&&(t.value=s.value),n.push(t)}})),e.keys=kC(a.concat(e.keys)),n.push(e),n}(e,t)}))}))}(n,e,t)}))).then((function(t){var s=gC(t);return r.seq=n,s.push(r),e.db.bulkDocs({docs:s})}))}))}(e,t,n)}}(p,i)),!(c.length<50))return a()}}function d(e){for(var t,n=new z_,r=0,s=e.length;r<s;r++){var l=e[r],o=[l.key,l.id];r>0&&0===J_(l.key,t)&&o.push(r),n.set(X_(o),l),t=l.key}return n}return a().then((function(){return u.finish()})).then((function(){e.seq=i}))}(e)}))()}function g(e,t){return CC(f(e),(function(){return function(e,t){var n,r=e.reduceFun&&!1!==t.reduce,s=t.skip||0;function o(t){return t.include_docs=!0,e.db.allDocs(t).then((function(e){return n=e.total_rows,e.rows.map((function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),n=["id","key","value"];if(!(t<n||t>n))return e.doc.value}var r=function(e){for(var t=[],n=[],r=0;;){var s=e[r++];if("\0"!==s)switch(s){case"1":t.push(null);break;case"2":t.push("1"===e[r]),r++;break;case"3":var l=eC(e,r);t.push(l.num),r+=l.length;break;case"4":for(var o="";;){var i=e[r];if("\0"===i)break;o+=i,r++}o=o.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"\x01").replace(/\u0002\u0002/g,"\x02"),t.push(o);break;case"5":var u={element:[],index:t.length};t.push(u.element),n.push(u);break;case"6":var a={element:{},index:t.length};t.push(a.element),n.push(a);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+s)}else{if(1===t.length)return t.pop();tC(t,n)}}}(e.doc._id);return{key:r[0],id:r[1],value:"value"in e.doc?e.doc.value:null}}))}))}function a(o){var a;if(a=r?function(e,t,n){0===n.group_level&&delete n.group_level;var r=n.group||n.group_level,s=function(){throw new Error("reduce not supported")}(),o=[],u=isNaN(n.group_level)?Number.POSITIVE_INFINITY:n.group_level;t.forEach((function(e){var t=o[o.length-1],n=r?e.key:null;if(r&&Array.isArray(n)&&(n=n.slice(0,u)),t&&0===J_(t.groupKey,n))return t.keys.push([e.key,e.id]),void t.values.push(e.value);o.push({keys:[[e.key,e.id]],values:[e.value],groupKey:n})})),t=[];for(var a=0,c=o.length;a<c;a++){var d=o[a],p=l(e.sourceDB,s,d.keys,d.values,!1);if(p.error&&p.error instanceof xC)throw p.error;t.push({value:p.error?null:p.output,key:d.groupKey})}return{rows:i(t,n.limit,n.skip)}}(e,o,t):{total_rows:n,offset:s,rows:o},t.update_seq&&(a.update_seq=e.seq),t.include_docs){var c=kC(o.map(u));return e.sourceDB.allDocs({keys:c,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then((function(e){var t=new z_;return e.rows.forEach((function(e){t.set(e.id,e.doc)})),o.forEach((function(e){var n=u(e),r=t.get(n);r&&(e.doc=r)})),a}))}return a}if(void 0===t.keys||t.keys.length||(t.limit=0,delete t.keys),void 0!==t.keys){var c=t.keys.map((function(e){var n={startkey:X_([e]),endkey:X_([e,{}])};return t.update_seq&&(n.update_seq=!0),o(n)}));return Promise.all(c).then(gC).then(a)}var d,p,h={descending:t.descending};if(t.update_seq&&(h.update_seq=!0),"start_key"in t&&(d=t.start_key),"startkey"in t&&(d=t.startkey),"end_key"in t&&(p=t.end_key),"endkey"in t&&(p=t.endkey),void 0!==d&&(h.startkey=X_(t.descending?[d,{}]:[d])),void 0!==p){var f=!1!==t.inclusive_end;t.descending&&(f=!f),h.endkey=X_(f?[p,{}]:[p])}if(void 0!==t.key){var m=X_([t.key]),g=X_([t.key,{}]);h.descending?(h.endkey=m,h.startkey=g):(h.startkey=m,h.endkey=g)}return r||("number"==typeof t.limit&&(h.limit=t.limit),h.skip=s),o(h).then(a)}(e,t)}))()}var v;return{query:function(e,t,n){var r=this;"function"==typeof t&&(n=t,t={}),t=t?function(e){return e.group_level=d(e.group_level),e.limit=d(e.limit),e.skip=d(e.skip),e}(t):{},"function"==typeof e&&(e={map:e});var s=Promise.resolve().then((function(){return function(e,t,n){if("function"==typeof e._query)return function(e,t,n){return new Promise((function(r,s){e._query(t,n,(function(e,t){if(e)return s(e);r(t)}))}))}(e,t,n);if(vC(e))return function(e,t,n){var r,s,l,o=[],i="GET";if(c("reduce",n,o),c("include_docs",n,o),c("attachments",n,o),c("limit",n,o),c("descending",n,o),c("group",n,o),c("group_level",n,o),c("skip",n,o),c("stale",n,o),c("conflicts",n,o),c("startkey",n,o,!0),c("start_key",n,o,!0),c("endkey",n,o,!0),c("end_key",n,o,!0),c("inclusive_end",n,o),c("key",n,o,!0),c("update_seq",n,o),o=""===(o=o.join("&"))?"":"?"+o,void 0!==n.keys){var u="keys="+encodeURIComponent(JSON.stringify(n.keys));u.length+o.length+1<=2e3?o+=("?"===o[0]?"&":"?")+u:(i="POST","string"==typeof t?r={keys:n.keys}:t.keys=n.keys)}if("string"==typeof t){var d=PC(t);return e.fetch("_design/"+d[0]+"/_view/"+d[1]+o,{headers:new H_({"Content-Type":"application/json"}),method:i,body:JSON.stringify(r)}).then((function(e){return s=e.ok,l=e.status,e.json()})).then((function(e){if(!s)throw e.status=l,U_(e);return e.rows.forEach((function(e){if(e.value&&e.value.error&&"builtin_reduce_error"===e.value.error)throw new Error(e.reason)})),e})).then(a(n))}return r=r||{},Object.keys(t).forEach((function(e){r[e]=Array.isArray(t[e])?t[e]:t[e].toString()})),e.fetch("_temp_view"+o,{headers:new H_({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(r)}).then((function(e){return s=e.ok,l=e.status,e.json()})).then((function(e){if(!s)throw e.status=l,U_(e);return e})).then(a(n))}(e,t,n);if("string"!=typeof t)return p(n,t),FC.add((function(){return EC(e,"temp_view/temp_view",t.map,t.reduce,!0,"indexes").then((function(e){return t=m(e).then((function(){return g(e,n)})),r=function(){return e.db.destroy()},t.then((function(e){return r().then((function(){return e}))}),(function(e){return r().then((function(){throw e}))}));var t,r}))})),FC.finish();var r=t,s=PC(r),l=s[1];return e.get("_design/"+s[0]).then((function(t){var s=t.views&&t.views[l];if(!s)throw new wC("ddoc "+t._id+" has no view named "+l);return function(e,t){var n=e.views[t];if(!n.map||!n.map.fields)throw new Error("ddoc "+e._id+" with view "+t+" doesn't have map.fields defined. maybe it wasn't created by this plugin?")}(t,l),p(n,s),EC(e,r,s.map,s.reduce,!1,"indexes").then((function(e){return"ok"===n.stale||"update_after"===n.stale?("update_after"===n.stale&&sC()((function(){m(e)})),g(e,n)):m(e).then((function(){return g(e,n)}))}))}))}(r,e,t)}));return _C(s,n),s},viewCleanup:(v=function(){var e=this;return"function"==typeof e._viewCleanup?function(e){return new Promise((function(t,n){e._viewCleanup((function(e,r){if(e)return n(e);t(r)}))}))}(e):vC(e)?function(e){return e.fetch("_view_cleanup",{headers:new H_({"Content-Type":"application/json"}),method:"POST"}).then((function(e){return e.json()}))}(e):function(e){return e.get("_local/indexes").then((function(t){var n=new z_;Object.keys(t.views).forEach((function(e){var t=PC(e),r="_design/"+t[0],s=t[1],l=n.get(r);l||(l=new B_,n.set(r,l)),l.add(s)}));var r={keys:MC(n),include_docs:!0};return e.allDocs(r).then((function(r){var s={};r.rows.forEach((function(e){var r=e.key.substring(8);n.get(e.key).forEach((function(n){var l=r+"/"+n;t.views[l]||(l=n);var o=Object.keys(t.views[l]),i=e.doc&&e.doc.views&&e.doc.views[n];o.forEach((function(e){s[e]=s[e]||i}))}))}));var l=Object.keys(s).filter((function(e){return!s[e]})).map((function(t){return CC(f(t),(function(){return new e.constructor(t,e.__opts).destroy()}))()}));return Promise.all(l).then((function(){return{ok:!0}}))}))}),h({ok:!0}))}(e)},ly()((function(e){var t=e.pop(),n=v.apply(this,e);return"function"==typeof t&&_C(n,t),n})))}}();function uk(e){return e._customFindAbstractMapper||ik}function ak(e){return e.fields=e.fields.map((function(e){if("string"==typeof e){var t={};return t[e]="asc",t}return e})),e}function ck(e,t){for(var n=[],r=0;r<t.def.fields.length;r++){var s=jC(t.def.fields[r]);n.push(e[s])}return n}function dk(e){return e.allDocs({startkey:"_design/",endkey:"_design/\uffff",include_docs:!0}).then((function(e){var t={indexes:[{ddoc:null,name:"_all_docs",type:"special",def:{fields:[{_id:"asc"}]}}]};return t.indexes=rk(t.indexes,e.rows.filter((function(e){return"query"===e.doc.language})).map((function(e){return(void 0!==e.doc.views?Object.keys(e.doc.views):[]).map((function(t){return{ddoc:e.id,name:t,type:"json",def:ak(e.doc.views[t].options.def)}}))}))),t.indexes.sort((function(e,t){return qC(e.name,t.name)})),t.total_rows=t.indexes.length,t}))}var pk={"\uffff":{}};const hk={queryOpts:{limit:0,startkey:pk,endkey:null},inMemoryFields:[]};function fk(e,t){for(var n=e.def.fields.map(jC),r=0,s=n.length;r<s;r++)if(t===n[r])return!0;return!1}function mk(e,t){return"$eq"!==jC(e[t])}function gk(e,t){var n=t.def.fields.map(jC);return e.slice().sort((function(e,t){var r=n.indexOf(e),s=n.indexOf(t);return-1===r&&(r=Number.MAX_VALUE),-1===s&&(s=Number.MAX_VALUE),qC(r,s)}))}function vk(e,t,n,r){var s=rk(e,function(e,t,n){for(var r=!1,s=0,l=(n=gk(n,e)).length;s<l;s++){var o=n[s];if(r||!fk(e,o))return n.slice(s);s<l-1&&mk(t,o)&&(r=!0)}return[]}(t,n,r),function(e){var t=[];return Object.keys(e).forEach((function(n){Object.keys(e[n]).forEach((function(e){"$ne"===e&&t.push(n)}))})),t}(n));return gk(function(e){for(var t={},n=0;n<e.length;n++)t["$"+e[n]]=!0;return Object.keys(t).map((function(e){return e.substring(1)}))}(s),t)}var bk=["$eq","$gt","$gte","$lt","$lte"];function yk(e){return-1===bk.indexOf(e)}function wk(e,t){switch(e){case"$eq":return{startkey:t,endkey:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}}function xk(e,t){var n=e.selector,r=e.sort;if(function(e){return Object.keys(e).map((function(t){return e[t]})).some((function(e){return"object"==typeof e&&0===Object.keys(e).length}))}(n))return mC({},hk,{index:t[0]});var s=function(e,t){var n,r=Object.keys(e),s=t?t.map(jC):[];return n=r.length>=s.length?r:s,0===s.length?{fields:n}:{fields:n=n.sort((function(e,t){var n=s.indexOf(e);-1===n&&(n=Number.MAX_VALUE);var r=s.indexOf(t);return-1===r&&(r=Number.MAX_VALUE),n<r?-1:n>r?1:0})),sortOrder:t.map(jC)}}(n,r),l=s.fields,o=function(e,t,n,r,s){var l=function(e,t,n,r){return r.filter((function(r){return function(e,t,n,r){var s=e.def.fields.map(jC);return!!function(e,t,n){if(t){var r=!((l=t).length>(o=e).length)&&lk(l,o),s=lk(n,e);return r&&s}var l,o;return function(e,t){e=e.slice();for(var n=0,r=t.length;n<r;n++){var s=t[n];if(!e.length)break;var l=e.indexOf(s);if(-1===l)return!1;e.splice(l,1)}return!0}(n,e)}(s,t,n)&&function(e,t){var n=t[e[0]];return void 0===n||!(1===Object.keys(n).length&&"$ne"===jC(n))}(s,r)}(r,n,t,e)}))}(e,t,n,r);if(0===l.length){if(s)throw{error:"no_usable_index",message:"There is no index available for this selector."};var o=r[0];return o.defaultUsed=!0,o}if(1===l.length&&!s)return l[0];var i=function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e[n]]=!0;return t}(t);if(s){var u="_design/"+s[0],a=2===s.length&&s[1],c=l.find((function(e){return!(!a||e.ddoc!==u||a!==e.name)||e.ddoc===u}));if(!c)throw{error:"unknown_error",message:"Could not find that index or could not use that index for the query"};return c}return function(e,t){for(var n=null,r=-1,s=0,l=e.length;s<l;s++){var o=e[s],i=t(o);i>r&&(r=i,n=o)}return n}(l,(function(e){for(var t=e.def.fields.map(jC),n=0,r=0,s=t.length;r<s;r++)i[t[r]]&&n++;return n}))}(n,l,s.sortOrder,t,e.use_index),i=function(e,t){return t.defaultUsed?function(e){return{queryOpts:{startkey:null},inMemoryFields:[Object.keys(e)]}}(e):1===t.def.fields.length?function(e,t){var n,r=jC(t.def.fields[0]),s=e[r]||{},l=[];return Object.keys(s).forEach((function(e){yk(e)&&l.push(r);var t=function(e,t){switch(e){case"$eq":return{key:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}return{startkey:null}}(e,s[e]);n=n?sk([n,t]):t})),{queryOpts:n,inMemoryFields:l}}(e,t):function(e,t){var n,r,s=t.def.fields.map(jC),l=[],o=[],i=[];function u(e){!1!==n&&o.push(null),!1!==r&&i.push(pk),l=s.slice(e)}for(var a=0,c=s.length;a<c;a++){var d=e[s[a]];if(!d||!Object.keys(d).length){u(a);break}if(Object.keys(d).some(yk)){u(a);break}if(a>0){var p="$gt"in d||"$gte"in d||"$lt"in d||"$lte"in d,h=Object.keys(e[s[a-1]]),f=ok(h,["$eq"]),m=ok(h,Object.keys(d));if(p&&!f&&!m){u(a);break}}for(var g=Object.keys(d),v=null,b=0;b<g.length;b++){var y=g[b],w=wk(y,d[y]);v=v?sk([v,w]):w}o.push("startkey"in v?v.startkey:null),i.push("endkey"in v?v.endkey:pk),"inclusive_start"in v&&(n=v.inclusive_start),"inclusive_end"in v&&(r=v.inclusive_end)}var x={startkey:o,endkey:i};return void 0!==n&&(x.inclusive_start=n),void 0!==r&&(x.inclusive_end=r),{queryOpts:x,inMemoryFields:l}}(e,t)}(n,o);return{queryOpts:i.queryOpts,index:o,inMemoryFields:vk(i.inMemoryFields,o,n,l)}}function _k(e,t,n){var r,s;return t.selector&&(t.selector=function(e){var t=cC(e),n=!1;(function e(t,n){for(var r in t){"$and"===r&&(n=!0);var s=t[r];"object"==typeof s&&(n=e(s,n))}return n})(t,!1)&&("$and"in(t=function e(t){for(var n in t){if(Array.isArray(t))for(var r in t)t[r].$and&&(t[r]=VC(t[r].$and));var s=t[n];"object"==typeof s&&e(s)}return t}(t))&&(t=VC(t.$and)),n=!0),["$or","$nor"].forEach((function(e){e in t&&t[e].forEach((function(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var r=t[n],s=e[r];"object"==typeof s&&null!==s||(e[r]={$eq:s})}}))})),"$not"in t&&(t.$not=VC([t.$not]));for(var r=Object.keys(t),s=0;s<r.length;s++){var l=r[s],o=t[l];"object"!=typeof o||null===o?o={$eq:o}:"$ne"in o&&!n&&(o.$ne=[o.$ne]),t[l]=o}return t}(t.selector)),t.sort&&(t.sort=function(e){if(!Array.isArray(e))throw new Error("invalid sort json - should be an array");return e.map((function(e){if("string"==typeof e){var t={};return t[e]="asc",t}return e}))}(t.sort)),t.use_index&&(t.use_index=(s=[],"string"==typeof(r=t.use_index)?s.push(r):s=r,s.map((function(e){return e.replace("_design/","")})))),function(e){if("object"!=typeof e.selector)throw new Error("you must provide a selector when you find()")}(t),dk(e).then((function(r){e.constructor.emit("debug",["find","planning query",t]);var s=xk(t,r.indexes);e.constructor.emit("debug",["find","query plan",s]);var l=s.index;!function(e,t){if(t.defaultUsed&&e.sort){var n=e.sort.filter((function(e){return"_id"!==Object.keys(e)[0]})).map((function(e){return Object.keys(e)[0]}));if(n.length>0)throw new Error('Cannot sort on field(s) "'+n.join(",")+'" when using the default index')}}(t,l);var o=mC({include_docs:!0,reduce:!1,indexes_count:r.total_rows},s.queryOpts);return"startkey"in o&&"endkey"in o&&J_(o.startkey,o.endkey)>0?{docs:[]}:(t.sort&&"string"!=typeof t.sort[0]&&"desc"===LC(t.sort[0])&&(o.descending=!0,o=function(e){var t=cC(e);return delete t.startkey,delete t.endkey,delete t.inclusive_start,delete t.inclusive_end,"endkey"in e&&(t.startkey=e.endkey),"startkey"in e&&(t.endkey=e.startkey),"inclusive_start"in e&&(t.inclusive_end=e.inclusive_start),"inclusive_end"in e&&(t.inclusive_start=e.inclusive_end),t}(o)),s.inMemoryFields.length||("limit"in t&&(o.limit=t.limit),"skip"in t&&(o.skip=t.skip)),n?Promise.resolve(s,o):Promise.resolve().then((function(){if("_all_docs"===l.name)return function(e,t){var n=cC(t);return n.descending?("endkey"in n&&"string"!=typeof n.endkey&&(n.endkey=""),"startkey"in n&&"string"!=typeof n.startkey&&(n.limit=0)):("startkey"in n&&"string"!=typeof n.startkey&&(n.startkey=""),"endkey"in n&&"string"!=typeof n.endkey&&(n.limit=0)),"key"in n&&"string"!=typeof n.key&&(n.limit=0),n.limit>0&&n.indexes_count&&(n.original_limit=n.limit,n.limit+=n.indexes_count),e.allDocs(n).then((function(e){return e.rows=e.rows.filter((function(e){return!/^_design\//.test(e.id)})),n.original_limit&&(n.limit=n.original_limit),e.rows=e.rows.slice(0,n.limit),e}))}(e,o);var t,n=(t=l).ddoc.substring(8)+"/"+t.name;return uk(e).query.call(e,n,o)})).then((function(e){!1===o.inclusive_start&&(e.rows=function(e,t,n){for(var r=n.def.fields,s=0,l=e.length;s<l;s++){var o=ck(e[s].doc,n);if(1===r.length)o=o[0];else for(;o.length>t.length;)o.pop();if(Math.abs(J_(o,t))>0)break}return s>0?e.slice(s):e}(e.rows,o.startkey,l)),s.inMemoryFields.length&&(e.rows=function(e,t,n){if(e=e.filter((function(e){return UC(e.doc,t.selector,n)})),t.sort){var r=function(e){function t(t){return e.map((function(e){var n=RC(jC(e));return OC(t,n)}))}return function(e,n){var r=J_(t(e.doc),t(n.doc));return 0!==r?r:qC(e.doc._id,n.doc._id)}}(t.sort);e=e.sort(r),"string"!=typeof t.sort[0]&&"desc"===LC(t.sort[0])&&(e=e.reverse())}if("limit"in t||"skip"in t){var s=t.skip||0;e=e.slice(s,("limit"in t?t.limit:e.length)+s)}return e}(e.rows,t,s.inMemoryFields));var n={docs:e.rows.map((function(e){var n=e.doc;return t.fields?function(e,t){for(var n={},r=0,s=t.length;r<s;r++){var l=RC(t[r]),o=OC(e,l);void 0!==o&&AC(n,l,o)}return n}(n,t.fields):n}))};return l.defaultUsed&&(n.warning="No matching index found, create an index to optimize query time."),n})))}))}var Ck=nk((function(e,t){var n,r=cC((t=GC(t)).index);function s(){return n||(n=oC(JSON.stringify(t)))}t.index=ak(t.index),function(e){var t=e.fields.filter((function(e){return"asc"===LC(e)}));if(0!==t.length&&t.length!==e.fields.length)throw new Error("unsupported mixed sorting")}(t.index);var l=t.name||"idx-"+s(),o=t.ddoc||"idx-"+s(),i="_design/"+o,u=!1,a=!1;return e.constructor.emit("debug",["find","creating index",i]),bC(e,i,(function(e){return e._rev&&"query"!==e.language&&(u=!0),e.language="query",e.views=e.views||{},!(a=!!e.views[l])&&(e.views[l]={map:{fields:sk(t.index.fields)},reduce:"_count",options:{def:r}},e)})).then((function(){if(u)throw new Error('invalid language for ddoc with id "'+i+'" (should be "query")')})).then((function(){var t=o+"/"+l;return uk(e).query.call(e,t,{limit:0,reduce:!1}).then((function(){return{id:i,name:l,result:a?"exists":"created"}}))}))})),kk=nk(_k),Mk=nk((function(e,t){return _k(e,t,!0).then((function(n){return{dbname:e.name,index:n.index,selector:t.selector,range:{start_key:n.queryOpts.startkey,end_key:n.queryOpts.endkey},opts:{use_index:t.use_index||[],bookmark:"nil",limit:t.limit,skip:t.skip,sort:t.sort||{},fields:t.fields,conflicts:!1,r:[49]},limit:t.limit,skip:t.skip||0,fields:t.fields}}))})),Sk=nk(dk),Tk=nk((function(e,t){if(!t.ddoc)throw new Error("you must supply an index.ddoc when deleting");if(!t.name)throw new Error("you must supply an index.name when deleting");var n=t.ddoc,r=t.name;return bC(e,n,(function(e){return 1===Object.keys(e.views).length&&e.views[r]?{_id:n,_deleted:!0}:(delete e.views[r],e)})).then((function(){return uk(e).viewCleanup.apply(e)})).then((function(){return{ok:!0}}))})),Ek={};Ek.createIndex=dC((function(e,t){if("object"!=typeof e)return t(new Error("you must provide an index to create"));(vC(this)?ZC:Ck)(this,e,t)})),Ek.find=dC((function(e,t){if(void 0===t&&(t=e,e=void 0),"object"!=typeof e)return t(new Error("you must provide search parameters to find()"));(vC(this)?JC:kk)(this,e,t)})),Ek.explain=dC((function(e,t){if(void 0===t&&(t=e,e=void 0),"object"!=typeof e)return t(new Error("you must provide search parameters to explain()"));(vC(this)?YC:Mk)(this,e,t)})),Ek.getIndexes=dC((function(e){(vC(this)?XC:Sk)(this,e)})),Ek.deleteIndex=dC((function(e,t){if("object"!=typeof e)return t(new Error("you must provide an index to delete"));(vC(this)?ek:Tk)(this,e,t)}));var Ik=Ek;class Fk{constructor(e){this.expertFeatureIdMap={},Object.assign(this,e)}addTrace(e,t){this.expertFeatureIdMap[e]=t}deleteTrace(e){delete this.expertFeatureIdMap[e]}toPouchDb(){return{expertFeatureIdMap:this.expertFeatureIdMap}}}var Pk=function(e){return e.PATTERN="pattern",e.EXAMPLE="example",e}({});class Dk{constructor(e,t){this.usedFeatures=["value-propositions","customer-segments","customer-relationships","channels","key-partners","key-activities","key-resources","revenue-streams","cost-structure"],this.id=e,Object.assign(this,t)}update(e){Object.assign(this,e)}addFeature(e){if(this.usedFeatures.includes(e))throw new Error("Feature with id "+e+" is already used in instance "+this.name);this.usedFeatures.push(e)}removeFeature(e){if(!this.usedFeatures.includes(e))throw new Error("Feature with id "+e+" is not used in instance "+this.name);this.usedFeatures=this.usedFeatures.filter(t=>t!==e)}removeFeatures(e){this.usedFeatures=this.usedFeatures.filter(t=>!e.includes(t))}toPouchDb(){return{id:this.id,name:this.name,type:this.type,description:this.description,usedFeatures:this.usedFeatures}}toJSON(){return{name:this.name,type:this.type,description:this.description,usedFeatures:this.usedFeatures}}}class Ok{constructor(e){this.features={"value-propositions":new gb("value-propositions",null,{name:"Value Propositions"}),"customer-segments":new gb("customer-segments",null,{name:"Customer Segment"}),"customer-relationships":new gb("customer-relationships",null,{name:"Customer Relationships"}),channels:new gb("channels",null,{name:"Customer Channels"}),"key-partners":new gb("key-partners",null,{name:"Key Partners"}),"key-activities":new gb("key-activities",null,{name:"Key Activities"}),"key-resources":new gb("key-resources",null,{name:"Key Resources"}),"revenue-streams":new gb("revenue-streams",null,{name:"Revenue Streams"}),"cost-structure":new gb("cost-structure",null,{name:"Cost Structure"})},this.instances=[],this.expertModel=!1,this.expertModelTraces={},this.nextInstanceId=e.instances?e.instances.length:0,Object.assign(this,e),this.author=new jb(this.author),Object.entries(this.features).forEach(([e,t])=>this.features[e]=new gb(e,null,t)),Object.entries(this.expertModelTraces).forEach(([e,t])=>this.expertModelTraces[e]=new Fk(t)),this.instances=this.instances.map((e,t)=>new Dk(t,e))}checkFormalConsistency(){const e=["value-propositions","customer-segments","customer-relationships","channels","key-partners","key-activities","key-resources","revenue-streams","cost-structure"];if(!e.every(e=>e in this.features))throw new Error("Missing canvas blocks");const t=new Set;if(this.iterateFeatures(e=>{if(t.has(e.id))throw new Error("Feature id "+e.id+" is not unique");return t.add(e.id),!1}),this.iterateFeatures(e=>{if(!e.relationships.getAllReferencedFeatureIds().every(e=>t.has(e)))throw new Error("Relationships of feature "+e.id+" reference a non existing feature id");return!1}),!this.instances.every(t=>e.every(e=>t.usedFeatures.includes(e))))throw new Error("Instance does not reference all nine root canvas blocks");if(!this.instances.every(e=>e.usedFeatures.every(e=>t.has(e))))throw new Error("Instance references non existing feature id")}updateAuthor(e){this.author.update(e)}addFeature(e,t){const n=this.getFeature(t);return e.id||(e.id=this.getFeatureId(e.name)),n.addSubfeature(e)}getFeatureId(e){const t=gb.nameToId(e),n=this.getFeatureList().map(e=>e.id).filter(e=>e.startsWith(t));if(0===n.length)return t;const r=Math.max(...n.map(e=>e.substring(t.length+1)).filter(e=>/^[0-9]+$/.test(e)).map(e=>parseInt(e,10)),0);return t+"-"+(r+1)}removeFeature(e){const t=this.getFeature(e),n=t.parent;if(null===n)throw new Error("Can not remove root features");n.removeSubfeature(e);const r=t.getAllSubfeatures();r.push(t);const s=r.map(e=>e.id);this.iterateFeatures(e=>(e.removeRelationships(s),!1)),this.instances.forEach(e=>e.removeFeatures(s));for(const l of r)for(const[e,t]of Object.entries(l.expertModelTrace))this.expertModelTraces[e].deleteTrace(t)}updateFeature(e,t,n){const r=this.getFeature(e);r.update(n);const s=r.parent;if(null===s&&null!==t)throw new Error("Can not move root features");if(null!==s&&null===t)throw new Error("Can not move to root features");if(null!==s&&s.id!==t){const n=this.getFeature(t);s.removeSubfeature(e),n.addSubfeature(r)}}getFeatureList(){const e=[];return this.iterateFeatures(t=>(e.push({id:t.id,levelname:t.getLevelname()}),!1)),e}getFeatureMap(){const e={};return this.iterateFeatures(t=>(e[t.id]=t,!1)),e}getFeature(e){let t=null;if(this.iterateFeatures(n=>n.id===e&&(t=n,!0)),null===t)throw new Error("Feature with id "+e+" does not exist on feature model "+this.name);return t}addRelationship(e,t,n){const r=this.getFeature(t);this.getFeature(n),r.addRelationship(e,n)}removeRelationship(e,t,n){this.getFeature(t).removeRelationship(e,n)}addExpertModel(e){if(this.expertModel)throw new Error("Can not select expert model on an expert model");this.expertModelTraces[e]=new Fk({});for(const t of Object.values(this.features))this.expertModelTraces[e].addTrace(t.id,t.id),t.addTrace(e,t.id)}removeExpertModel(e){if(this.expertModel)throw new Error("Can not select expert model on an expert model");delete this.expertModelTraces[e],this.iterateFeatures(t=>(t.removeTrace(e),!1))}addExpertModelTrace(e,t,n){if(this.expertModel)throw new Error("Can not add trace to expert model on an expert model");if(!e.expertModel)throw new Error("Can not add trace to non expert model");const r=e.getFeature(t);this.getFeature(n).addTrace(e._id,t),this.expertModelTraces[e._id].addTrace(t,n),this.addTraceRelationship(e._id,r,n,rb.REQUIRES),this.addTraceRelationship(e._id,r,n,rb.EXCLUDES),this.addTraceRelationship(e._id,r,n,rb.SUPPORTS),this.addTraceRelationship(e._id,r,n,rb.HURTS),e.iterateFeatures(r=>{if(r.relationships.requires.includes(t)){const t=this.expertModelTraces[e._id].expertFeatureIdMap[r.id];t&&this.addRelationship(rb.REQUIRES,t,n)}if(r.relationships.excludes.includes(t)){const t=this.expertModelTraces[e._id].expertFeatureIdMap[r.id];t&&this.addRelationship(rb.EXCLUDES,t,n)}if(r.relationships.supports.includes(t)){const t=this.expertModelTraces[e._id].expertFeatureIdMap[r.id];t&&this.addRelationship(rb.SUPPORTS,t,n)}if(r.relationships.hurts.includes(t)){const t=this.expertModelTraces[e._id].expertFeatureIdMap[r.id];t&&this.addRelationship(rb.HURTS,t,n)}return!1})}addTraceRelationship(e,t,n,r){let s;switch(r){case rb.REQUIRES:s=t.relationships.requires;break;case rb.EXCLUDES:s=t.relationships.excludes;break;case rb.SUPPORTS:s=t.relationships.supports;break;case rb.HURTS:s=t.relationships.hurts}for(const l of s){const t=this.expertModelTraces[e].expertFeatureIdMap[l];t&&this.addRelationship(r,n,t)}}removeTrace(e,t){const n=this.getFeature(e);if(e in this.features)throw new Error("Can not delete trace of main features");const r=n.getAllSubfeatures();r.push(n);for(const s of r)this.expertModelTraces[t].deleteTrace(s.expertModelTrace[t]),s.removeTrace(t)}addInstance(e){const t=new Dk(this.nextInstanceId++,e);return this.instances.push(t),t}getInstance(e){return this.instances.find(t=>t.id===e)}removeInstance(e){this.instances=this.instances.filter(t=>t.id!==e)}updateInstance(e,t){this.instances.find(t=>t.id===e).update(t)}adaptInstance(e,t){const n=this.instances.find(t=>t.id===e);this.addInstance(n),this.instances[this.instances.length-1].update({id:this.nextInstanceId-1,name:t})}addFeatureToInstance(e,t){this.getFeature(t),this.instances.find(t=>t.id===e).addFeature(t)}removeFeatureFromInstance(e,t){const n=this.getInstance(e),r=this.getFeature(t),s=r.getAllSubfeatures().map(e=>e.id);n.removeFeature(r.id),n.removeFeatures(s)}checkConformanceOfInstance(e){const t=this.instances.find(t=>t.id===e),n=new Set,r=new Set,s=new Set,l=new Set,o=[],i=[],u=[],a=[];return this.iterateFeatures(e=>{const l=t.usedFeatures.includes(e.id),a=Object.keys(e.subfeatures).filter(e=>t.usedFeatures.includes(e)).length;switch(e.type!==fb.MANDATORY||l||(n.add(e.id),o.push(e.name+" is mandatory")),e.subfeatureConnections){case mb.OR:0===a&&(n.add(e.id),o.push(e.name+" needs at least one subfeature"));break;case mb.XOR:1!==a&&(n.add(e.id),o.push(e.name+" needs exactly one subfeature"))}const c=e.relationships.requires.filter(e=>!t.usedFeatures.includes(e));c.length>0&&(n.add(e.id),c.forEach(t=>o.push(e.name+" requires the feature "+this.getFeature(t).name)));const d=e.relationships.excludes.filter(e=>t.usedFeatures.includes(e));d.length>0&&(n.add(e.id),d.forEach(t=>o.push(e.name+" excludes the feature "+this.getFeature(t).name)));const p=e.relationships.supports.filter(e=>t.usedFeatures.includes(e));p.length>0&&(s.add(e.id),p.forEach(t=>u.push(e.name+" supports the feature "+this.getFeature(t).name)));const h=e.relationships.hurts.filter(e=>t.usedFeatures.includes(e));return h.length>0&&(r.add(e.id),h.forEach(t=>i.push(e.name+" hurts the feature "+this.getFeature(t).name))),!1},e=>t.usedFeatures.includes(e.id)||e.type===fb.MANDATORY),this.iterateFeatures(e=>(!t.usedFeatures.includes(e.id)&&this.isFeatureEasyAddable(t,e)&&e.relationships.supports.forEach(n=>{if(t.usedFeatures.includes(n)){a.push("Including "+e.name+" would support "+this.getFeature(n).name),l.add(e.id);for(let n=e.parent;null!==n&&!t.usedFeatures.includes(n.id);n=n.parent)l.add(n.id)}}),!1)),{errorFeatureIds:Array.from(n),errors:o,warningFeatureIds:Array.from(r),warnings:i,strengthFeatureIds:Array.from(s),strengths:u,hintFeatureIds:Array.from(l),hints:a}}isFeatureEasyAddable(e,t){return e.usedFeatures.includes(t.id)||t.relationships.excludes.every(t=>!e.usedFeatures.includes(t))&&e.usedFeatures.every(e=>!this.getFeature(e).relationships.excludes.includes(t.id))&&(null===t.parent||t.parent.subfeatureConnections!==mb.XOR||Object.keys(t.parent.subfeatures).every(t=>!e.usedFeatures.includes(t)))&&t.relationships.requires.every(t=>e.usedFeatures.includes(t))&&(null===t.parent||this.isFeatureEasyAddable(e,t.parent))}compareInstances(e,t){return this.compareGivenInstances(this.getInstance(e),this.getInstance(t))}compareGivenInstances(e,t){const n=[];this.iterateFeatures(e=>(n.unshift(e),!1));const r={},s={};for(const l of n){const n=e.usedFeatures.includes(l.id);if(n===t.usedFeatures.includes(l.id)){if(n){const e=Object.keys(l.subfeatures).filter(e=>e in r);if(e.length>0){const t=e.map(e=>s[e]).reduce((e,t)=>e+t,0);r[l.id]=t/e.length,s[l.id]=(t+100)/(e.length+1)}else r[l.id]=100,s[l.id]=100}}else r[l.id]=0,s[l.id]=0}return r}convertExpertInstance(e,t){const n=new Dk(t.id,t);return n.usedFeatures=n.usedFeatures.map(t=>this.expertModelTraces[e].expertFeatureIdMap[t]),this.iterateFeatures(e=>{if(n.usedFeatures.includes(e.id)){let t=e.parent;for(;null!==t&&!n.usedFeatures.includes(t.id);)n.usedFeatures.push(t.id),t=t.parent}return!1}),n}toPouchDb(){const e={};Object.entries(this.features).forEach(([t,n])=>e[t]=n.toPouchDb());const t={};return Object.entries(this.expertModelTraces).forEach(([e,n])=>t[e]=n.toPouchDb()),{name:this.name,description:this.description,version:this.version,copyright:this.copyright,author:this.author.toPouchDb(),features:e,instances:this.instances.map(e=>e.toPouchDb()),_id:this._id,_rev:this._rev,expertModel:this.expertModel,expertModelTraces:t,nextInstanceId:this.nextInstanceId}}toJSON(){return{name:this.name,description:this.description,version:this.version,copyright:this.copyright,author:this.author,features:this.features,instances:this.instances}}iterateFeatures(e,t=(()=>!0)){const n=[];for(n.push(...Object.values(this.features).reverse().filter(t));n.length>0;){const r=n.pop();if(e(r))return;n.push(...Object.values(r.subfeatures).reverse().filter(t))}}}var Ak=n("LYpN");let qk=(()=>{class e{constructor(){this.databaseName="business-modeling-suite",j_.plugin(Ik),this.db=new j_(this.databaseName),this.db.info().then(e=>console.log("Database connection: "+JSON.stringify(e)))}getDatabaseInfo(){return this.db.info()}getExpertModelList(){return this.db.find({selector:{expertModel:!0},fields:["_id","name","description","author","version","copyright"]})}getCompanyModelList(){return this.db.find({selector:{expertModel:!1},fields:["_id","name","description","author","version","copyright"]})}getFeatureModelList(){return this.db.find({selector:{},fields:["_id","name","description"]})}getFeatureModel(e){return this.db.get(e).then(e=>new Ok(e))}addFeatureModel(e,t,n=!1){return this.db.post(new Ok({name:e,description:t,expertModel:n}).toPouchDb())}deleteFeatureModel(e){return this.db.get(e).then(e=>this.db.remove(e))}updateFeatureModel(e,t,n,r,s){return this.getFeatureModel(e).then(e=>(e.name=t,e.description=n,e.version=r,e.copyright=s,this.saveFeatureModel(e)))}updateFeatureModelAuthor(e,t){return this.getFeatureModel(e).then(e=>(e.updateAuthor(t),this.saveFeatureModel(e)))}addBusinessDecision(e,t,n){return this.getFeatureModel(e).then(e=>(e.addFeatureToInstance(n,t),this.saveFeatureModel(e)))}removeBusinessDecision(e,t,n){return this.getFeatureModel(e).then(e=>(e.removeFeatureFromInstance(n,t),this.saveFeatureModel(e)))}selectExpertModel(e,t){return this.getFeatureModel(e).then(e=>(e.addExpertModel(t),this.saveFeatureModel(e)))}getSelectedExpertModels(e){return this.db.get(e).then(e=>this.db.find({selector:{_id:{$in:Object.keys(e.expertModelTraces)}},fields:["_id","name"]}))}getUnselectedExpertModels(e){return this.db.get(e).then(e=>this.db.find({selector:{$not:{_id:{$in:Object.keys(e.expertModelTraces)}},expertModel:!0},fields:["_id","name"]}))}unselectExpertModel(e,t){return this.getFeatureModel(e).then(e=>(e.removeExpertModel(t),this.saveFeatureModel(e)))}addInstance(e,t){return this.getFeatureModel(e).then(e=>(e.addInstance(t),this.saveFeatureModel(e)))}updateBusinessModel(e,t,n,r){return this.getFeatureModel(e).then(e=>(e.updateInstance(t,{name:n,description:r}),this.saveFeatureModel(e)))}adaptBusinessModel(e,t,n){return this.getFeatureModel(e).then(e=>(e.adaptInstance(t,n),this.saveFeatureModel(e)))}deleteBusinessModel(e,t){return this.getFeatureModel(e).then(e=>(e.removeInstance(t),this.saveFeatureModel(e)))}addRelationship(e,t,n,r){return this.getFeatureModel(e).then(e=>(e.addRelationship(t,n,r),this.saveFeatureModel(e)))}removeRelationship(e,t,n,r){return this.getFeatureModel(e).then(e=>(e.removeRelationship(t,n,r),this.saveFeatureModel(e)))}deleteFeature(e,t){return this.getFeatureModel(e).then(e=>(e.removeFeature(t),this.saveFeatureModel(e)))}updateFeature(e,t,n,r){return this.getFeatureModel(e).then(e=>(e.updateFeature(t,r,n),this.saveFeatureModel(e)))}addFeature(e,t,n){return this.getFeatureModel(e).then(e=>(e.addFeature(t,n),this.saveFeatureModel(e)))}addNewFeatureToInstance(e,t,n,r,s,l){return this.getFeatureModel(e).then(e=>{const o=e.addFeature({name:t,type:n,subfeatureConnections:r},s);return e.addFeatureToInstance(l,o.id),this.saveFeatureModel(e)})}addFeatureMerge(e,t,n,r,s){return this.getFeatureModel(r).then(r=>this.getFeatureModel(e).then(e=>{const l=e.addFeature(t,n);return e.addExpertModelTrace(r,s,l.id),this.saveFeatureModel(e)}))}addTrace(e,t,n,r){return this.getFeatureModel(n).then(n=>this.getFeatureModel(e).then(e=>(e.addExpertModelTrace(n,r,t),this.saveFeatureModel(e))))}deleteTrace(e,t,n){return this.getFeatureModel(e).then(e=>(e.removeTrace(t,n),this.saveFeatureModel(e)))}saveFeatureModel(e){return this.db.put(e.toPouchDb())}addDefaultData(){return this.db.destroy().then(()=>(this.db=new j_(this.databaseName),this.db.bulkDocs(Ak)),e=>e)}}return e.ngInjectableDef=he({factory:function(){return new e},token:e,providedIn:"root"}),e})();var Rk=jn({encapsulation:0,styles:[[""]],data:{}});function Nk(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"app-delete-feature-confirm",[],null,[[null,"deletionResult"],[null,"closeModal"]],(function(e,t,n){var r=!0,s=e.component;return"deletionResult"===t&&(r=!1!==s.deleteFeature(n)&&r),"closeModal"===t&&(r=!1!==s.closeModal()&&r),r}),nb,tb)),Jr(1,114688,null,0,eb,[],{feature:[0,"feature"]},{closeModal:"closeModal",deletionResult:"deletionResult"})],(function(e,t){e(t,1,0,t.component.modalFeature)}),null)}function $k(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"app-cross-tree-relationship-modal",[],null,[[null,"closeModal"],[null,"removeRelationship"]],(function(e,t,n){var r=!0,s=e.component;return"closeModal"===t&&(r=!1!==s.closeModal()&&r),"removeRelationship"===t&&(r=!1!==s.removeRelationship(n.type,n.fromFeatureId,n.toFeatureId)&&r),r}),hb,ob)),Jr(1,573440,null,0,lb,[],{featureModel:[0,"featureModel"],feature:[1,"feature"]},{closeModal:"closeModal",removeRelationship:"removeRelationship"})],(function(e,t){var n=t.component;e(t,1,0,n.featureModel,n.modalFeature)}),null)}function jk(e){return Jl(0,[(e()(),Ol(0,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),Ol(1,0,null,null,1,"h4",[["class","modal-title"],["id","modal-basic-title"]],null,null,null,null,null)),(e()(),Gl(2,null,["",""])),(e()(),Ol(3,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.closeModal()&&r),r}),null,null)),(e()(),Ol(4,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),Gl(-1,null,["\xd7"])),(e()(),Ol(6,0,null,null,3,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),Ol(7,0,null,null,2,"div",[["class","text-muted pt-3"]],null,null,null,null,null)),(e()(),Ol(8,0,null,null,1,"app-feature-form",[],null,[[null,"submitFeatureForm"]],(function(e,t,n){var r=!0;return"submitFeatureForm"===t&&(r=!1!==e.component.updateFeature(n)&&r),r}),_b,bb)),Jr(9,638976,null,0,vb,[vf],{feature:[0,"feature"],featureList:[1,"featureList"],disabledSubfeatures:[2,"disabledSubfeatures"]},{submitFeatureForm:"submitFeatureForm"})],(function(e,t){var n=t.component;e(t,9,0,n.modalFeature,n.featureList,n.modalSubfeatureIds)}),(function(e,t){e(t,2,0,t.component.modalFeature.name)}))}function Lk(e){return Jl(0,[(e()(),Ol(0,0,null,null,3,"a",[["class","nav-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==$r(e,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),Jr(1,671744,null,0,qp,[Op,Cd,ai],{routerLink:[0,"routerLink"]},null),Hl(2,2),(e()(),Gl(3,null,["View ",""]))],(function(e,t){var n=e(t,2,0,"/featuremodelview",t.component.featureModel._id);e(t,1,0,n)}),(function(e,t){var n=t.component;e(t,0,0,$r(t,1).target,$r(t,1).href),e(t,3,0,n.featureModel.name)}))}function Vk(e){return Jl(0,[(e()(),Ol(0,0,null,null,3,"a",[["class","nav-link active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==$r(e,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),Jr(1,671744,null,0,qp,[Op,Cd,ai],{routerLink:[0,"routerLink"]},null),Hl(2,2),(e()(),Gl(3,null,["Edit ",""]))],(function(e,t){var n=e(t,2,0,"/featuremodel",t.component.featureModel._id);e(t,1,0,n)}),(function(e,t){var n=t.component;e(t,0,0,$r(t,1).target,$r(t,1).href),e(t,3,0,n.featureModel.name)}))}function Uk(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Expert Knowledge Model List"]))],null,null)}function Bk(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Company Knowledge Model List"]))],null,null)}function zk(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"app-feature-tree",[],null,[[null,"openDependenciesEmitter"],[null,"updateFeatureEmitter"],[null,"deleteFeatureEmitter"]],(function(e,t,n){var r=!0,s=e.component;return"openDependenciesEmitter"===t&&(r=!1!==s.openDependenciesModal(n)&&r),"updateFeatureEmitter"===t&&(r=!1!==s.updateFeatureModal(n)&&r),"deleteFeatureEmitter"===t&&(r=!1!==s.deleteFeatureModal(n)&&r),r}),Ob,kb)),Jr(1,49152,null,0,Cb,[],{features:[0,"features"]},{openDependenciesEmitter:"openDependenciesEmitter",updateFeatureEmitter:"updateFeatureEmitter",deleteFeatureEmitter:"deleteFeatureEmitter"})],(function(e,t){e(t,1,0,t.component.featureModel.features)}),null)}function Hk(e){return Jl(0,[(e()(),Ol(0,0,null,null,99,"main",[["class","container"],["role","main"]],null,null,null,null,null)),(e()(),Ol(1,0,null,null,27,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,Uk)),Jr(3,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,Bk)),Jr(5,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(6,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(e()(),Ol(7,0,null,null,2,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,zk)),Jr(9,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(10,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(e()(),Ol(11,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Ol(12,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),Gl(-1,null,["Legend:"])),(e()(),Ol(14,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Ol(15,0,null,null,0,"i",[["class","fa fa-circle"]],null,null,null,null,null)),(e()(),Gl(-1,null,[" Mandatory Feature"])),(e()(),Ol(17,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Ol(18,0,null,null,0,"i",[["class","fa fa-circle-o"]],null,null,null,null,null)),(e()(),Gl(-1,null,[" Optional Feature"])),(e()(),Ol(20,0,null,null,8,"div",[["class","row"]],null,null,null,null,null)),(e()(),Ol(21,0,null,null,1,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Gl(-1,null,["\xa0"])),(e()(),Ol(23,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Ol(24,0,null,null,0,"i",[["class","fa fa-angle-up"]],null,null,null,null,null)),(e()(),Gl(-1,null,[" Alternative (Xor)"])),(e()(),Ol(26,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Ol(27,0,null,null,0,"i",[["class","fa fa-caret-up"]],null,null,null,null,null)),(e()(),Gl(-1,null,[" Or"])),(e()(),Ol(29,0,null,null,5,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Ol(30,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Add Feature"])),(e()(),Ol(32,0,null,null,2,"div",[["class","text-muted pt-3"]],null,null,null,null,null)),(e()(),Ol(33,0,null,null,1,"app-feature-form",[["submitButtonText","Add Feature"]],null,[[null,"submitFeatureForm"]],(function(e,t,n){var r=!0;return"submitFeatureForm"===t&&(r=!1!==e.component.insertFeature(n)&&r),r}),_b,bb)),Jr(34,638976,null,0,vb,[vf],{featureList:[0,"featureList"],submitButtonText:[1,"submitButtonText"]},{submitFeatureForm:"submitFeatureForm"}),(e()(),Ol(35,0,null,null,5,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Ol(36,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Add Cross-Tree Relationship"])),(e()(),Ol(38,0,null,null,2,"div",[["class","text-muted pt-3"]],null,null,null,null,null)),(e()(),Ol(39,0,null,null,1,"app-cross-tree-relationship-form",[],null,[[null,"submitRelationshipForm"]],(function(e,t,n){var r=!0;return"submitRelationshipForm"===t&&(r=!1!==e.component.addRelationship(n)&&r),r}),$b,qb)),Jr(40,114688,null,0,Ab,[vf],{featureList:[0,"featureList"]},{submitRelationshipForm:"submitRelationshipForm"}),(e()(),Ol(41,0,null,null,52,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Ol(42,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Edit Feature Model"])),(e()(),Ol(44,0,null,null,49,"div",[["class","text-muted pt-3"]],null,null,null,null,null)),(e()(),Ol(45,0,null,null,48,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,t,n){var r=!0,s=e.component;return"submit"===t&&(r=!1!==$r(e,47).onSubmit(n)&&r),"reset"===t&&(r=!1!==$r(e,47).onReset()&&r),"ngSubmit"===t&&(r=!1!==s.updateFeatureModel()&&r),r}),null,null)),Jr(46,16384,null,0,af,[],null,null),Jr(47,540672,null,0,df,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),Yr(2048,null,vh,null,[df]),Jr(49,16384,null,0,_h,[[4,vh]],null,null),(e()(),Ol(50,0,null,null,9,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Ol(51,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","name"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Model Name"])),(e()(),Ol(53,0,null,null,6,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Ol(54,0,null,null,5,"input",[["class","form-control"],["formControlName","name"],["id","name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0;return"input"===t&&(r=!1!==$r(e,55)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==$r(e,55).onTouched()&&r),"compositionstart"===t&&(r=!1!==$r(e,55)._compositionStart()&&r),"compositionend"===t&&(r=!1!==$r(e,55)._compositionEnd(n.target.value)&&r),r}),null,null)),Jr(55,16384,null,0,mh,[Xt,Gt,[2,fh]],null,null),Yr(1024,null,ph,(function(e){return[e]}),[mh]),Jr(57,671744,null,0,mf,[[3,vh],[8,null],[8,null],[6,ph],[2,cf]],{name:[0,"name"]},null),Yr(2048,null,yh,null,[mf]),Jr(59,16384,null,0,xh,[[4,yh]],null,null),(e()(),Ol(60,0,null,null,9,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Ol(61,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","description"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Model Description"])),(e()(),Ol(63,0,null,null,6,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Ol(64,0,null,null,5,"input",[["class","form-control"],["formControlName","description"],["id","description"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0;return"input"===t&&(r=!1!==$r(e,65)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==$r(e,65).onTouched()&&r),"compositionstart"===t&&(r=!1!==$r(e,65)._compositionStart()&&r),"compositionend"===t&&(r=!1!==$r(e,65)._compositionEnd(n.target.value)&&r),r}),null,null)),Jr(65,16384,null,0,mh,[Xt,Gt,[2,fh]],null,null),Yr(1024,null,ph,(function(e){return[e]}),[mh]),Jr(67,671744,null,0,mf,[[3,vh],[8,null],[8,null],[6,ph],[2,cf]],{name:[0,"name"]},null),Yr(2048,null,yh,null,[mf]),Jr(69,16384,null,0,xh,[[4,yh]],null,null),(e()(),Ol(70,0,null,null,9,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Ol(71,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","version"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Version"])),(e()(),Ol(73,0,null,null,6,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Ol(74,0,null,null,5,"input",[["class","form-control"],["formControlName","version"],["id","version"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0;return"input"===t&&(r=!1!==$r(e,75)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==$r(e,75).onTouched()&&r),"compositionstart"===t&&(r=!1!==$r(e,75)._compositionStart()&&r),"compositionend"===t&&(r=!1!==$r(e,75)._compositionEnd(n.target.value)&&r),r}),null,null)),Jr(75,16384,null,0,mh,[Xt,Gt,[2,fh]],null,null),Yr(1024,null,ph,(function(e){return[e]}),[mh]),Jr(77,671744,null,0,mf,[[3,vh],[8,null],[8,null],[6,ph],[2,cf]],{name:[0,"name"]},null),Yr(2048,null,yh,null,[mf]),Jr(79,16384,null,0,xh,[[4,yh]],null,null),(e()(),Ol(80,0,null,null,9,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Ol(81,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","copyright"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Copyright"])),(e()(),Ol(83,0,null,null,6,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Ol(84,0,null,null,5,"input",[["class","form-control"],["formControlName","copyright"],["id","copyright"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0;return"input"===t&&(r=!1!==$r(e,85)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==$r(e,85).onTouched()&&r),"compositionstart"===t&&(r=!1!==$r(e,85)._compositionStart()&&r),"compositionend"===t&&(r=!1!==$r(e,85)._compositionEnd(n.target.value)&&r),r}),null,null)),Jr(85,16384,null,0,mh,[Xt,Gt,[2,fh]],null,null),Yr(1024,null,ph,(function(e){return[e]}),[mh]),Jr(87,671744,null,0,mf,[[3,vh],[8,null],[8,null],[6,ph],[2,cf]],{name:[0,"name"]},null),Yr(2048,null,yh,null,[mf]),Jr(89,16384,null,0,xh,[[4,yh]],null,null),(e()(),Ol(90,0,null,null,3,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Ol(91,0,null,null,2,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),Ol(92,0,null,null,1,"button",[["class","btn btn-sm btn-dark btn-block"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),Gl(-1,null,["Update Feature Model "])),(e()(),Ol(94,0,null,null,5,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Ol(95,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Edit Author Information"])),(e()(),Ol(97,0,null,null,2,"div",[["class","text-muted pt-3"]],null,null,null,null,null)),(e()(),Ol(98,0,null,null,1,"app-author-form",[],null,[[null,"submitAuthorForm"]],(function(e,t,n){var r=!0;return"submitAuthorForm"===t&&(r=!1!==e.component.updateFeatureModelAuthor(n)&&r),r}),Ub,Vb)),Jr(99,638976,null,0,Lb,[vf],{author:[0,"author"]},{submitAuthorForm:"submitAuthorForm"})],(function(e,t){var n=t.component;e(t,3,0,n.featureModel.expertModel),e(t,5,0,!n.featureModel.expertModel),e(t,9,0,n.featureModel&&n.featureModel.features),e(t,34,0,n.featureList,"Add Feature"),e(t,40,0,n.featureList),e(t,47,0,n.featureModelForm),e(t,57,0,"name"),e(t,67,0,"description"),e(t,77,0,"version"),e(t,87,0,"copyright"),e(t,99,0,n.featureModel.author)}),(function(e,t){var n=t.component;e(t,45,0,$r(t,49).ngClassUntouched,$r(t,49).ngClassTouched,$r(t,49).ngClassPristine,$r(t,49).ngClassDirty,$r(t,49).ngClassValid,$r(t,49).ngClassInvalid,$r(t,49).ngClassPending),e(t,54,0,$r(t,59).ngClassUntouched,$r(t,59).ngClassTouched,$r(t,59).ngClassPristine,$r(t,59).ngClassDirty,$r(t,59).ngClassValid,$r(t,59).ngClassInvalid,$r(t,59).ngClassPending),e(t,64,0,$r(t,69).ngClassUntouched,$r(t,69).ngClassTouched,$r(t,69).ngClassPristine,$r(t,69).ngClassDirty,$r(t,69).ngClassValid,$r(t,69).ngClassInvalid,$r(t,69).ngClassPending),e(t,74,0,$r(t,79).ngClassUntouched,$r(t,79).ngClassTouched,$r(t,79).ngClassPristine,$r(t,79).ngClassDirty,$r(t,79).ngClassValid,$r(t,79).ngClassInvalid,$r(t,79).ngClassPending),e(t,84,0,$r(t,89).ngClassUntouched,$r(t,89).ngClassTouched,$r(t,89).ngClassPristine,$r(t,89).ngClassDirty,$r(t,89).ngClassValid,$r(t,89).ngClassInvalid,$r(t,89).ngClassPending),e(t,92,0,!n.featureModelForm.valid)}))}function Wk(e){return Jl(0,[$l(402653184,1,{dependencyModal:0}),$l(402653184,2,{updateModal:0}),$l(402653184,3,{deleteModal:0}),(e()(),Dl(0,[[3,2],["deleteModal",2]],null,0,null,Nk)),(e()(),Dl(0,[[1,2],["dependencyModal",2]],null,0,null,$k)),(e()(),Dl(0,[[2,2],["updateModal",2]],null,0,null,jk)),(e()(),Ol(6,0,null,null,5,"div",[["class","nav-scroller bg-white shadow-sm"]],null,null,null,null,null)),(e()(),Ol(7,0,null,null,4,"nav",[["class","nav nav-underline"]],null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,Lk)),Jr(9,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,Vk)),Jr(11,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,Hk)),Jr(13,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,9,0,n.featureModel),e(t,11,0,n.featureModel),e(t,13,0,n.featureModel)}),null)}function Kk(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"app-feature-model-detail",[],null,null,null,Wk,Rk)),Jr(1,114688,null,0,Bb,[vf,Cd,di,qk,Zm],null,null)],(function(e,t){e(t,1,0)}),null)}var Gk=Tr("app-feature-model-detail",Bb,Kk,{},{},[]);class Qk{}var Zk=jn({encapsulation:0,styles:[[""]],data:{}});function Jk(e){return Jl(0,[(e()(),Ol(0,0,null,null,0,"i",[["class","fa fa-circle"]],null,null,null,null,null))],null,null)}function Yk(e){return Jl(0,[(e()(),Ol(0,0,null,null,0,"i",[["class","fa fa-circle-o"]],null,null,null,null,null))],null,null)}function Xk(e){return Jl(0,[(e()(),Ol(0,0,null,null,7,"a",[["class","list-group-item list-group-item-action"],["style","padding:7px;"]],null,null,null,null,null)),Yr(512,null,Zi,Ji,[fn,mn,Gt,Xt]),Jr(2,278528,null,0,Xi,[Zi],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),Dl(16777216,null,null,1,null,Jk)),Jr(4,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,Yk)),Jr(6,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Gl(7,null,[" "," "]))],(function(e,t){e(t,2,0,"list-group-item list-group-item-action",t.component.doubleBlock?"w-50":"w-100"),e(t,4,0,"mandatory"===t.context.$implicit.type),e(t,6,0,"optional"===t.context.$implicit.type)}),(function(e,t){e(t,7,0,t.context.$implicit.name)}))}function eM(e){return Jl(0,[(e()(),Ol(0,0,null,null,6,"ul",[["class","list-group inner no-list"],["style","margin:5px;"]],null,null,null,null,null)),(e()(),Ol(1,0,null,null,5,"li",[],null,null,null,null,null)),(e()(),Ol(2,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),Gl(3,null,["",""])),(e()(),Ol(4,0,null,null,2,"div",[["class","list-group d-flex flex-row flex-wrap"]],null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,Xk)),Jr(6,278528,null,0,tu,[Cn,xn,fn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,6,0,t.component.features)}),(function(e,t){e(t,3,0,t.component.buildingBlockName)}))}class tM{constructor(e){this.fb=e,this.addInstance=new ws,this.viewInstance=new ws,this.deleteInstance=new ws}ngOnInit(){this.loadForm()}addInstanceForwardEmitter(){this.addInstance.emit(this.instanceForm),this.loadForm()}loadForm(){this.instanceForm=this.fb.group({name:["",Mh.required]})}}var nM=jn({encapsulation:0,styles:[[""]],data:{}});function rM(e){return Jl(0,[(e()(),Ol(0,0,null,null,8,"li",[["class","d-flex list-group-item justify-content-between align-items-center"]],null,null,null,null,null)),(e()(),Ol(1,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),Gl(2,null,["",""])),(e()(),Ol(3,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),Ol(4,0,null,null,1,"button",[["class","btn btn-dark btn-xs"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.viewInstance.emit(e.context.$implicit.id)&&r),r}),null,null)),(e()(),Gl(-1,null,["View"])),(e()(),Gl(-1,null,["\xa0 "])),(e()(),Ol(7,0,null,null,1,"button",[["class","btn btn-danger btn-xs"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.deleteInstance.emit(e.context.$implicit.id)&&r),r}),null,null)),(e()(),Gl(-1,null,["Delete"]))],null,(function(e,t){e(t,2,0,t.context.$implicit.name)}))}function sM(e){return Jl(0,[(e()(),Ol(0,0,null,null,5,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Ol(1,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),Gl(2,null,["",""])),(e()(),Ol(3,0,null,null,2,"ul",[["class","list-group inner"],["style","margin:5px;"]],null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,rM)),Jr(5,278528,null,0,tu,[Cn,xn,fn],{ngForOf:[0,"ngForOf"]},null),(e()(),Ol(6,0,null,null,22,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Ol(7,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),Gl(8,null,["",""])),(e()(),Ol(9,0,null,null,19,"div",[["class","text-muted pt-3"]],null,null,null,null,null)),(e()(),Ol(10,0,null,null,18,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,t,n){var r=!0,s=e.component;return"submit"===t&&(r=!1!==$r(e,12).onSubmit(n)&&r),"reset"===t&&(r=!1!==$r(e,12).onReset()&&r),"ngSubmit"===t&&(r=!1!==s.addInstanceForwardEmitter()&&r),r}),null,null)),Jr(11,16384,null,0,af,[],null,null),Jr(12,540672,null,0,df,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),Yr(2048,null,vh,null,[df]),Jr(14,16384,null,0,_h,[[4,vh]],null,null),(e()(),Ol(15,0,null,null,9,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Ol(16,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","name"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Instance Name"])),(e()(),Ol(18,0,null,null,6,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Ol(19,0,null,null,5,"input",[["class","form-control"],["formControlName","name"],["id","name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0;return"input"===t&&(r=!1!==$r(e,20)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==$r(e,20).onTouched()&&r),"compositionstart"===t&&(r=!1!==$r(e,20)._compositionStart()&&r),"compositionend"===t&&(r=!1!==$r(e,20)._compositionEnd(n.target.value)&&r),r}),null,null)),Jr(20,16384,null,0,mh,[Xt,Gt,[2,fh]],null,null),Yr(1024,null,ph,(function(e){return[e]}),[mh]),Jr(22,671744,null,0,mf,[[3,vh],[8,null],[8,null],[6,ph],[2,cf]],{name:[0,"name"]},null),Yr(2048,null,yh,null,[mf]),Jr(24,16384,null,0,xh,[[4,yh]],null,null),(e()(),Ol(25,0,null,null,3,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Ol(26,0,null,null,2,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),Ol(27,0,null,null,1,"button",[["class","btn btn-sm btn-dark btn-block"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),Gl(28,null,[" "," "]))],(function(e,t){var n=t.component;e(t,5,0,n.instances),e(t,12,0,n.instanceForm),e(t,22,0,"name")}),(function(e,t){var n=t.component;e(t,2,0,n.listTitle),e(t,8,0,n.formTitle),e(t,10,0,$r(t,14).ngClassUntouched,$r(t,14).ngClassTouched,$r(t,14).ngClassPristine,$r(t,14).ngClassDirty,$r(t,14).ngClassValid,$r(t,14).ngClassInvalid,$r(t,14).ngClassPending),e(t,19,0,$r(t,24).ngClassUntouched,$r(t,24).ngClassTouched,$r(t,24).ngClassPristine,$r(t,24).ngClassDirty,$r(t,24).ngClassValid,$r(t,24).ngClassInvalid,$r(t,24).ngClassPending),e(t,27,0,!n.instanceForm.valid),e(t,28,0,n.formTitle)}))}class lM{constructor(){}}var oM=jn({encapsulation:0,styles:[[""]],data:{}});function iM(e){return Jl(0,[(e()(),Ol(0,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),Ol(1,0,null,null,1,"th",[["scope","row"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Version"])),(e()(),Ol(3,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Gl(4,null,["",""]))],null,(function(e,t){e(t,4,0,t.component.featureModel.version)}))}function uM(e){return Jl(0,[(e()(),Ol(0,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),Ol(1,0,null,null,1,"th",[["scope","row"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Copyright"])),(e()(),Ol(3,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Gl(4,null,["",""]))],null,(function(e,t){e(t,4,0,t.component.featureModel.copyright)}))}function aM(e){return Jl(0,[(e()(),Ol(0,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),Ol(1,0,null,null,1,"th",[["scope","row"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Company"])),(e()(),Ol(3,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Gl(4,null,["",""]))],null,(function(e,t){e(t,4,0,t.component.featureModel.author.company)}))}function cM(e){return Jl(0,[(e()(),Ol(0,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),Ol(1,0,null,null,1,"th",[["scope","row"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Email"])),(e()(),Ol(3,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Gl(4,null,["",""]))],null,(function(e,t){e(t,4,0,t.component.featureModel.author.email)}))}function dM(e){return Jl(0,[(e()(),Ol(0,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),Ol(1,0,null,null,1,"th",[["scope","row"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Website"])),(e()(),Ol(3,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Gl(4,null,["",""]))],null,(function(e,t){e(t,4,0,t.component.featureModel.author.website)}))}function pM(e){return Jl(0,[(e()(),Ol(0,0,null,null,15,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Ol(1,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Author Info"])),(e()(),Ol(3,0,null,null,12,"table",[["class","table table-sm mb-0"],["style","table-layout: fixed"]],null,null,null,null,null)),(e()(),Ol(4,0,null,null,11,"tbody",[],null,null,null,null,null)),(e()(),Ol(5,0,null,null,4,"tr",[["class","table-borderless"]],null,null,null,null,null)),(e()(),Ol(6,0,null,null,1,"th",[["scope","row"],["style","width: 250px"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Name"])),(e()(),Ol(8,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Gl(9,null,["",""])),(e()(),Dl(16777216,null,null,1,null,aM)),Jr(11,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,cM)),Jr(13,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,dM)),Jr(15,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,11,0,n.featureModel.author.company),e(t,13,0,n.featureModel.author.email),e(t,15,0,n.featureModel.author.website)}),(function(e,t){e(t,9,0,t.component.featureModel.author.name)}))}function hM(e){return Jl(0,[(e()(),Ol(0,0,null,null,23,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Ol(1,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Model Info"])),(e()(),Ol(3,0,null,null,20,"table",[["class","table table-sm mb-0"],["style","table-layout: fixed"]],null,null,null,null,null)),(e()(),Ol(4,0,null,null,19,"tbody",[],null,null,null,null,null)),(e()(),Ol(5,0,null,null,4,"tr",[["class","table-borderless"]],null,null,null,null,null)),(e()(),Ol(6,0,null,null,1,"th",[["scope","row"],["style","width: 250px"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Name"])),(e()(),Ol(8,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Gl(9,null,["",""])),(e()(),Ol(10,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),Ol(11,0,null,null,1,"th",[["scope","row"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Description"])),(e()(),Ol(13,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Gl(14,null,["",""])),(e()(),Ol(15,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),Ol(16,0,null,null,1,"th",[["scope","row"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Type"])),(e()(),Ol(18,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Gl(19,null,["",""])),(e()(),Dl(16777216,null,null,1,null,iM)),Jr(21,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,uM)),Jr(23,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,pM)),Jr(25,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,21,0,n.featureModel.version),e(t,23,0,n.featureModel.copyright),e(t,25,0,n.featureModel.author&&n.featureModel.author.name)}),(function(e,t){var n=t.component;e(t,9,0,n.featureModel.name),e(t,14,0,n.featureModel.description),e(t,19,0,n.featureModel.expertModel?"Expert Model":"Company Model")}))}class fM{constructor(e,t,n,r,s){this.importExportService=e,this.route=t,this.pouchDBServer=n,this.router=r,this.fb=s,this.selectedExpertModelForm=this.fb.group({expertModelId:[null,Mh.required]})}ngOnInit(){this.subscription=this.route.paramMap.subscribe(e=>{this.featureModelId=e.get("id"),this.loadFeatureModel(this.featureModelId)})}addInstance(e,t=Pk.EXAMPLE){this.pouchDBServer.addInstance(this.featureModelId,{name:e.value.name,type:t}).then(()=>{this.loadFeatureModel(this.featureModelId)},e=>{console.log("AddInstance: "+e)})}viewBusinessModel(e){this.router.navigate(["/businessmodelview",this.featureModelId,e])}deleteBusinessModel(e){this.pouchDBServer.deleteBusinessModel(this.featureModelId,e).then(()=>{this.loadFeatureModel(this.featureModelId)},e=>{console.log("DeleteBusinessModel: "+e)})}selectExpertModel(){this.pouchDBServer.selectExpertModel(this.featureModelId,this.selectedExpertModelForm.value.expertModelId).then(()=>{this.selectedExpertModelForm.reset(),this.loadExpertModels(this.featureModelId)},e=>{console.log("SelectExpertModel: "+e)})}viewExpertModel(e){this.router.navigate(["/featuremodelview",e])}mergeExpertModel(e){this.router.navigate(["/merge",this.featureModelId,e])}unselectExpertModel(e){this.pouchDBServer.unselectExpertModel(this.featureModelId,e).then(()=>{this.loadExpertModels(this.featureModelId)},e=>{console.log("UnselectExpertModel: "+e)})}loadFeatureModel(e){this.pouchDBServer.getFeatureModel(this.featureModelId).then(t=>{this.featureModel=t,this.featureModel.expertModel||this.loadExpertModels(e)},e=>{console.log("LoadFeatureModel: "+e)})}loadExpertModels(e){this.loadSelectedExpertModels(e),this.loadUnselectedExpertModels(e)}loadSelectedExpertModels(e){this.pouchDBServer.getSelectedExpertModels(e).then(e=>{this.selectedExpertModelList=e.docs},e=>{console.log("LoadSelectedExpertModels: "+e)})}loadUnselectedExpertModels(e){this.pouchDBServer.getUnselectedExpertModels(e).then(e=>{this.unselectedExpertModelList=e.docs},e=>{console.log("RefreshExpertModelList: "+e)})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}exportModel(){this.importExportService.exportModel(this.featureModelId)}getExampleInstances(){return this.featureModel.instances.filter(e=>e.type===Pk.EXAMPLE)}getPatternInstances(){return this.featureModel.instances.filter(e=>e.type===Pk.PATTERN)}getPatternInstanceType(){return Pk.PATTERN}asList(e){return Object.values(e)}}var mM=n("eDuk"),gM=n.n(mM),vM=n("+PE/"),bM=n("Iab2");let yM=(()=>{class e{constructor(e){this.pouchdbService=e,this.ajv=new gM.a}exportModel(e){this.pouchdbService.getFeatureModel(e).then(e=>{const t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"});Object(bM.saveAs)(t,e.name+".json")}).catch(e=>{console.log(e)})}importModel(e,t){return this.importJson(e).then(e=>{const n=new Ok(e);return n.expertModel=t,n.checkFormalConsistency(),this.pouchdbService.db.post(n.toPouchDb()).then(e=>this.pouchdbService.getFeatureModel(e.id))})}importJson(e){return new Promise((t,n)=>{const r=this.ajv.compile(vM),s=new FileReader;s.addEventListener("error",()=>{n("Error loading file")}),s.addEventListener("load",e=>{let s=null;try{s=JSON.parse(e.target.result)}catch(l){return void n(l)}r(s)?t(s):n(r.errors)}),s.readAsText(e)})}}return e.ngInjectableDef=he({factory:function(){return new e(De(qk))},token:e,providedIn:"root"}),e})();var wM=jn({encapsulation:0,styles:[[""]],data:{}});function xM(e){return Jl(0,[(e()(),Ol(0,0,null,null,3,"a",[["class","nav-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==$r(e,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),Jr(1,671744,null,0,qp,[Op,Cd,ai],{routerLink:[0,"routerLink"]},null),Hl(2,3),(e()(),Gl(3,null,["",""]))],(function(e,t){var n=e(t,2,0,"/businessmodelview",t.component.featureModel._id,t.context.$implicit.id);e(t,1,0,n)}),(function(e,t){e(t,0,0,$r(t,1).target,$r(t,1).href),e(t,3,0,t.context.$implicit.name)}))}function _M(e){return Jl(0,[(e()(),Ol(0,0,null,null,4,"nav",[["class","nav nav-underline"]],null,null,null,null,null)),(e()(),Ol(1,0,null,null,1,"a",[["class","nav-link active"],["href","#"]],null,null,null,null,null)),(e()(),Gl(2,null,["",""])),(e()(),Dl(16777216,null,null,1,null,xM)),Jr(4,278528,null,0,tu,[Cn,xn,fn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,4,0,t.component.featureModel.instances)}),(function(e,t){e(t,2,0,t.component.featureModel.name)}))}function CM(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),Gl(1,null,["Expert Knowledge Model of ",""]))],null,(function(e,t){e(t,1,0,t.component.featureModel.name)}))}function kM(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),Gl(1,null,["Company Knowledge Model of ",""]))],null,(function(e,t){e(t,1,0,t.component.featureModel.name)}))}function MM(e){return Jl(0,[(e()(),Ol(0,0,null,null,33,"div",[["class","container businesscanvas"]],null,null,null,null,null)),(e()(),Ol(1,0,null,null,25,"div",[["class","row"]],null,null,null,null,null)),(e()(),Ol(2,0,null,null,2,"div",[["class","col-2 buildingblock brectangle"]],null,null,null,null,null)),(e()(),Ol(3,0,null,null,1,"app-feature-building-block",[],null,null,null,eM,Zk)),Jr(4,49152,null,0,Qk,[],{buildingBlockName:[0,"buildingBlockName"],features:[1,"features"],doubleBlock:[2,"doubleBlock"]},null),(e()(),Ol(5,0,null,null,7,"div",[["class","col-3"]],null,null,null,null,null)),(e()(),Ol(6,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(e()(),Ol(7,0,null,null,2,"div",[["class","col-md-12 buildingblock bsquare"]],null,null,null,null,null)),(e()(),Ol(8,0,null,null,1,"app-feature-building-block",[],null,null,null,eM,Zk)),Jr(9,49152,null,0,Qk,[],{buildingBlockName:[0,"buildingBlockName"],features:[1,"features"],doubleBlock:[2,"doubleBlock"]},null),(e()(),Ol(10,0,null,null,2,"div",[["class","col-md-12 buildingblock bsquare"]],null,null,null,null,null)),(e()(),Ol(11,0,null,null,1,"app-feature-building-block",[],null,null,null,eM,Zk)),Jr(12,49152,null,0,Qk,[],{buildingBlockName:[0,"buildingBlockName"],features:[1,"features"],doubleBlock:[2,"doubleBlock"]},null),(e()(),Ol(13,0,null,null,2,"div",[["class","col-2 buildingblock"]],null,null,null,null,null)),(e()(),Ol(14,0,null,null,1,"app-feature-building-block",[],null,null,null,eM,Zk)),Jr(15,49152,null,0,Qk,[],{buildingBlockName:[0,"buildingBlockName"],features:[1,"features"],doubleBlock:[2,"doubleBlock"]},null),(e()(),Ol(16,0,null,null,7,"div",[["class","col-3"]],null,null,null,null,null)),(e()(),Ol(17,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(e()(),Ol(18,0,null,null,2,"div",[["class","col-md-12 buildingblock bsquare"]],null,null,null,null,null)),(e()(),Ol(19,0,null,null,1,"app-feature-building-block",[],null,null,null,eM,Zk)),Jr(20,49152,null,0,Qk,[],{buildingBlockName:[0,"buildingBlockName"],features:[1,"features"],doubleBlock:[2,"doubleBlock"]},null),(e()(),Ol(21,0,null,null,2,"div",[["class","col-md-12 buildingblock bsquare"]],null,null,null,null,null)),(e()(),Ol(22,0,null,null,1,"app-feature-building-block",[],null,null,null,eM,Zk)),Jr(23,49152,null,0,Qk,[],{buildingBlockName:[0,"buildingBlockName"],features:[1,"features"],doubleBlock:[2,"doubleBlock"]},null),(e()(),Ol(24,0,null,null,2,"div",[["class","col-2 buildingblock brectangle"]],null,null,null,null,null)),(e()(),Ol(25,0,null,null,1,"app-feature-building-block",[],null,null,null,eM,Zk)),Jr(26,49152,null,0,Qk,[],{buildingBlockName:[0,"buildingBlockName"],features:[1,"features"],doubleBlock:[2,"doubleBlock"]},null),(e()(),Ol(27,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(e()(),Ol(28,0,null,null,2,"div",[["class","col-6 buildingblock blongtangle"]],null,null,null,null,null)),(e()(),Ol(29,0,null,null,1,"app-feature-building-block",[],null,null,null,eM,Zk)),Jr(30,49152,null,0,Qk,[],{buildingBlockName:[0,"buildingBlockName"],features:[1,"features"],doubleBlock:[2,"doubleBlock"]},null),(e()(),Ol(31,0,null,null,2,"div",[["class","col-6 buildingblock blongtangle"]],null,null,null,null,null)),(e()(),Ol(32,0,null,null,1,"app-feature-building-block",[],null,null,null,eM,Zk)),Jr(33,49152,null,0,Qk,[],{buildingBlockName:[0,"buildingBlockName"],features:[1,"features"],doubleBlock:[2,"doubleBlock"]},null)],(function(e,t){var n=t.component;e(t,4,0,"Key Partners",n.asList(n.featureModel.features["key-partners"].subfeatures),!1),e(t,9,0,"Key Activities",n.asList(n.featureModel.features["key-activities"].subfeatures),!1),e(t,12,0,"Key Resources",n.asList(n.featureModel.features["key-resources"].subfeatures),!1),e(t,15,0,"Value Propositions",n.asList(n.featureModel.features["value-propositions"].subfeatures),!1),e(t,20,0,"Customer Relationships",n.asList(n.featureModel.features["customer-relationships"].subfeatures),!1),e(t,23,0,"Customer Channels",n.asList(n.featureModel.features.channels.subfeatures),!1),e(t,26,0,"Customer Segments",n.asList(n.featureModel.features["customer-segments"].subfeatures),!1),e(t,30,0,"Cost Structure",n.asList(n.featureModel.features["cost-structure"].subfeatures),!0),e(t,33,0,"Revenue Streams",n.asList(n.featureModel.features["revenue-streams"].subfeatures),!0)}),null)}function SM(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"app-instance-list",[["formTitle","Add Pattern Instance"],["listTitle","Pattern Instances"]],null,[[null,"addInstance"],[null,"viewInstance"],[null,"deleteInstance"]],(function(e,t,n){var r=!0,s=e.component;return"addInstance"===t&&(r=!1!==s.addInstance(n,s.getPatternInstanceType())&&r),"viewInstance"===t&&(r=!1!==s.viewBusinessModel(n)&&r),"deleteInstance"===t&&(r=!1!==s.deleteBusinessModel(n)&&r),r}),sM,nM)),Jr(1,114688,null,0,tM,[vf],{formTitle:[0,"formTitle"],listTitle:[1,"listTitle"],instances:[2,"instances"]},{addInstance:"addInstance",viewInstance:"viewInstance",deleteInstance:"deleteInstance"})],(function(e,t){e(t,1,0,"Add Pattern Instance","Pattern Instances",t.component.getPatternInstances())}),null)}function TM(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"app-instance-list",[["formTitle","Add Example Instance"],["listTitle","Example Instances"]],null,[[null,"addInstance"],[null,"viewInstance"],[null,"deleteInstance"]],(function(e,t,n){var r=!0,s=e.component;return"addInstance"===t&&(r=!1!==s.addInstance(n)&&r),"viewInstance"===t&&(r=!1!==s.viewBusinessModel(n)&&r),"deleteInstance"===t&&(r=!1!==s.deleteBusinessModel(n)&&r),r}),sM,nM)),Jr(1,114688,null,0,tM,[vf],{formTitle:[0,"formTitle"],listTitle:[1,"listTitle"],instances:[2,"instances"]},{addInstance:"addInstance",viewInstance:"viewInstance",deleteInstance:"deleteInstance"})],(function(e,t){e(t,1,0,"Add Example Instance","Example Instances",t.component.getExampleInstances())}),null)}function EM(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"app-instance-list",[["formTitle","Add Business Model"],["listTitle","Derived Business Models"]],null,[[null,"addInstance"],[null,"viewInstance"],[null,"deleteInstance"]],(function(e,t,n){var r=!0,s=e.component;return"addInstance"===t&&(r=!1!==s.addInstance(n)&&r),"viewInstance"===t&&(r=!1!==s.viewBusinessModel(n)&&r),"deleteInstance"===t&&(r=!1!==s.deleteBusinessModel(n)&&r),r}),sM,nM)),Jr(1,114688,null,0,tM,[vf],{formTitle:[0,"formTitle"],listTitle:[1,"listTitle"],instances:[2,"instances"]},{addInstance:"addInstance",viewInstance:"viewInstance",deleteInstance:"deleteInstance"})],(function(e,t){e(t,1,0,"Add Business Model","Derived Business Models",t.component.featureModel.instances)}),null)}function IM(e){return Jl(0,[(e()(),Ol(0,0,null,null,11,"li",[["class","d-flex list-group-item justify-content-between align-items-center"]],null,null,null,null,null)),(e()(),Ol(1,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),Gl(2,null,["",""])),(e()(),Ol(3,0,null,null,8,"span",[],null,null,null,null,null)),(e()(),Ol(4,0,null,null,1,"button",[["class","btn btn-warning btn-xs"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.mergeExpertModel(e.context.$implicit._id)&&r),r}),null,null)),(e()(),Gl(-1,null,["Merge"])),(e()(),Gl(-1,null,["\xa0 "])),(e()(),Ol(7,0,null,null,1,"button",[["class","btn btn-dark btn-xs"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.viewExpertModel(e.context.$implicit._id)&&r),r}),null,null)),(e()(),Gl(-1,null,["View"])),(e()(),Gl(-1,null,["\xa0 "])),(e()(),Ol(10,0,null,null,1,"button",[["class","btn btn-danger btn-xs"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.unselectExpertModel(e.context.$implicit._id)&&r),r}),null,null)),(e()(),Gl(-1,null,["Unselect"]))],null,(function(e,t){e(t,2,0,t.context.$implicit.name)}))}function FM(e){return Jl(0,[(e()(),Ol(0,0,null,null,2,"ul",[["class","list-group inner"],["style","margin:5px;"]],null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,IM)),Jr(2,278528,null,0,tu,[Cn,xn,fn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.component.selectedExpertModelList)}),null)}function PM(e){return Jl(0,[(e()(),Ol(0,0,null,null,3,"option",[],null,null,null,null,null)),Jr(1,147456,null,0,Lh,[Gt,Xt,[2,jh]],{value:[0,"value"]},null),Jr(2,147456,null,0,Bh,[Gt,Xt,[8,null]],{value:[0,"value"]},null),(e()(),Gl(3,null,["",""]))],(function(e,t){e(t,1,0,t.context.$implicit._id),e(t,2,0,t.context.$implicit._id)}),(function(e,t){e(t,3,0,t.context.$implicit.name)}))}function DM(e){return Jl(0,[(e()(),Ol(0,0,null,null,30,null,null,null,null,null,null,null)),(e()(),Ol(1,0,null,null,4,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Ol(2,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Selected Expert Business Knowledge Models"])),(e()(),Dl(16777216,null,null,1,null,FM)),Jr(5,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(6,0,null,null,24,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Ol(7,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Select Expert Business Knowledge Model"])),(e()(),Ol(9,0,null,null,21,"div",[["class","text-muted pt-3"]],null,null,null,null,null)),(e()(),Ol(10,0,null,null,20,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,t,n){var r=!0,s=e.component;return"submit"===t&&(r=!1!==$r(e,12).onSubmit(n)&&r),"reset"===t&&(r=!1!==$r(e,12).onReset()&&r),"ngSubmit"===t&&(r=!1!==s.selectExpertModel()&&r),r}),null,null)),Jr(11,16384,null,0,af,[],null,null),Jr(12,540672,null,0,df,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),Yr(2048,null,vh,null,[df]),Jr(14,16384,null,0,_h,[[4,vh]],null,null),(e()(),Ol(15,0,null,null,11,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Ol(16,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","expertModelSelector"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Expert Business Knowledge Model"])),(e()(),Ol(18,0,null,null,8,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Ol(19,0,null,null,7,"select",[["class","form-control"],["formControlName","expertModelId"],["id","expertModelSelector"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var r=!0;return"change"===t&&(r=!1!==$r(e,20).onChange(n.target.value)&&r),"blur"===t&&(r=!1!==$r(e,20).onTouched()&&r),r}),null,null)),Jr(20,16384,null,0,jh,[Xt,Gt],null,null),Yr(1024,null,ph,(function(e){return[e]}),[jh]),Jr(22,671744,null,0,mf,[[3,vh],[8,null],[8,null],[6,ph],[2,cf]],{name:[0,"name"]},null),Yr(2048,null,yh,null,[mf]),Jr(24,16384,null,0,xh,[[4,yh]],null,null),(e()(),Dl(16777216,null,null,1,null,PM)),Jr(26,278528,null,0,tu,[Cn,xn,fn],{ngForOf:[0,"ngForOf"]},null),(e()(),Ol(27,0,null,null,3,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Ol(28,0,null,null,2,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),Ol(29,0,null,null,1,"button",[["class","btn btn-sm btn-dark btn-block"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),Gl(-1,null,[" Add Expert Model "]))],(function(e,t){var n=t.component;e(t,5,0,n.selectedExpertModelList),e(t,12,0,n.selectedExpertModelForm),e(t,22,0,"expertModelId"),e(t,26,0,n.unselectedExpertModelList)}),(function(e,t){var n=t.component;e(t,10,0,$r(t,14).ngClassUntouched,$r(t,14).ngClassTouched,$r(t,14).ngClassPristine,$r(t,14).ngClassDirty,$r(t,14).ngClassValid,$r(t,14).ngClassInvalid,$r(t,14).ngClassPending),e(t,19,0,$r(t,24).ngClassUntouched,$r(t,24).ngClassTouched,$r(t,24).ngClassPristine,$r(t,24).ngClassDirty,$r(t,24).ngClassValid,$r(t,24).ngClassInvalid,$r(t,24).ngClassPending),e(t,29,0,!n.selectedExpertModelForm.valid)}))}function OM(e){return Jl(0,[(e()(),Ol(0,0,null,null,42,"main",[["class","container"],["role","main"]],null,null,null,null,null)),(e()(),Ol(1,0,null,null,1,"app-model-info-box",[],null,null,null,hM,oM)),Jr(2,49152,null,0,lM,[],{featureModel:[0,"featureModel"]},null),(e()(),Ol(3,0,null,null,22,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,CM)),Jr(5,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,kM)),Jr(7,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,MM)),Jr(9,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(10,0,null,null,15,"div",[["class","container"]],null,null,null,null,null)),(e()(),Ol(11,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(e()(),Ol(12,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Ol(13,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),Gl(-1,null,["Legend:"])),(e()(),Ol(15,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Ol(16,0,null,null,0,"i",[["class","fa fa-circle"]],null,null,null,null,null)),(e()(),Gl(-1,null,[" Mandatory Feature"])),(e()(),Ol(18,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Ol(19,0,null,null,0,"i",[["class","fa fa-circle-o"]],null,null,null,null,null)),(e()(),Gl(-1,null,[" Optional Feature"])),(e()(),Ol(21,0,null,null,4,"div",[["class","row"],["style","margin-top:20px;"]],null,null,null,null,null)),(e()(),Ol(22,0,null,null,3,"button",[["class","btn btn-sm btn-dark btn-lg btn-block"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==$r(e,23).onClick()&&r),r}),null,null)),Jr(23,16384,null,0,Ap,[Op,Cd,[8,null],Xt,Gt],{routerLink:[0,"routerLink"]},null),Hl(24,2),(e()(),Gl(-1,null,["View Complete Feature Model "])),(e()(),Ol(26,0,null,null,8,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Ol(27,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Export Model"])),(e()(),Ol(29,0,null,null,5,"div",[["class","text-muted pt-3"]],null,null,null,null,null)),(e()(),Ol(30,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),Ol(31,0,null,null,3,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Ol(32,0,null,null,2,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),Ol(33,0,null,null,1,"button",[["class","btn btn-sm btn-dark btn-block"],["type","submit"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.exportModel()&&r),r}),null,null)),(e()(),Gl(-1,null,["Export Model"])),(e()(),Dl(16777216,null,null,1,null,SM)),Jr(36,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,TM)),Jr(38,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,EM)),Jr(40,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,DM)),Jr(42,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.featureModel),e(t,5,0,n.featureModel.expertModel),e(t,7,0,!n.featureModel.expertModel),e(t,9,0,n.featureModel);var r=e(t,24,0,"/featuremodel",n.featureModelId);e(t,23,0,r),e(t,36,0,n.featureModel.expertModel),e(t,38,0,n.featureModel.expertModel),e(t,40,0,!n.featureModel.expertModel),e(t,42,0,!n.featureModel.expertModel)}),null)}function AM(e){return Jl(0,[(e()(),Ol(0,0,null,null,2,"div",[["class","nav-scroller bg-white shadow-sm"]],null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,_M)),Jr(2,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,OM)),Jr(4,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.featureModel),e(t,4,0,n.featureModel)}),null)}function qM(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"app-feature-model-view",[],null,null,null,AM,wM)),Jr(1,245760,null,0,fM,[yM,Cd,qk,Op,vf],null,null)],(function(e,t){e(t,1,0)}),null)}var RM=Tr("app-feature-model-view",fM,qM,{},{},[]);class NM{constructor(){this.compareInstance=null,this.percentages=null,this.addFeatureEmitter=new ws,this.deleteFeatureEmitter=new ws}addFeature(e){this.addFeatureEmitter.emit(e)}deleteFeature(e){this.deleteFeatureEmitter.emit(e)}addFeatureForwardEmitter(e){this.addFeature(e)}deleteFeatureForwardEmitter(e){this.deleteFeature(e)}asList(e){return Object.values(e)}}var $M=jn({encapsulation:0,styles:[[""]],data:{}});function jM(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"strong",[],[[2,"text-success",null],[2,"text-danger",null],[2,"text-warning",null]],null,null,null,null)),(e()(),Gl(1,null,[" "," "]))],null,(function(e,t){var n=t.component;e(t,0,0,n.compareInstance&&!n.compareInstance.usedFeatures.includes(n.feature.id)||n.showStrengths&&n.conformance.strengthFeatureIds.includes(n.feature.id),n.conformance.errorFeatureIds.includes(n.feature.id),n.conformance.warningFeatureIds.includes(n.feature.id)&&n.showWarnings),e(t,1,0,n.feature.name)}))}function LM(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"span",[],[[2,"text-success",null],[2,"text-danger",null],[2,"text-warning",null]],null,null,null,null)),(e()(),Gl(1,null,["",""]))],null,(function(e,t){var n=t.component;e(t,0,0,n.compareInstance&&!n.compareInstance.usedFeatures.includes(n.feature.id)||n.showStrengths&&n.conformance.strengthFeatureIds.includes(n.feature.id),n.conformance.errorFeatureIds.includes(n.feature.id),n.conformance.warningFeatureIds.includes(n.feature.id)&&n.showWarnings),e(t,1,0,n.feature.name)}))}function VM(e){return Jl(0,[(e()(),Ol(0,0,null,null,0,"i",[["class","fas fa-minus-square"]],null,[[null,"click"]],(function(e,t,n){var r=!0,s=e.component;return"click"===t&&(r=!1!==s.deleteFeature(s.feature.id)&&r),r}),null,null))],null,null)}function UM(e){return Jl(0,[(e()(),Ol(0,0,null,null,2,"small",[["class","text-muted ml-1"]],null,null,null,null,null)),(e()(),Gl(1,null,["","\xa0%"])),Kl(128,2,new Array(3))],null,(function(e,t){var n=t.component,r=function(e,t,n,r){if(Dt.isWrapped(r)){r=Dt.unwrap(r);const t=e.def.nodes[1].bindingIndex+0,n=Dt.unwrap(e.oldValues[t]);e.oldValues[t]=new Dt(n)}return r}(t,0,0,e(t,2,0,$r(t.parent.parent,0),n.percentages[n.feature.id],".2-2"));e(t,1,0,r)}))}function BM(e){return Jl(0,[(e()(),Ol(0,0,null,null,11,null,null,null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,jM)),Jr(2,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,LM)),Jr(4,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Gl(-1,null,["\xa0 "])),(e()(),Ol(6,0,null,null,0,"i",[["class","fas fa-plus-square"]],null,[[null,"click"]],(function(e,t,n){var r=!0,s=e.component;return"click"===t&&(r=!1!==s.addFeature(s.feature.id)&&r),r}),null,null)),(e()(),Gl(-1,null,["\xa0 "])),(e()(),Dl(16777216,null,null,1,null,VM)),Jr(9,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,UM)),Jr(11,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(0,null,null,0))],(function(e,t){var n=t.component;e(t,2,0,1===n.levelDepth),e(t,4,0,1!==n.levelDepth),e(t,9,0,null!==n.feature.parent),e(t,11,0,n.percentages&&n.asList(n.feature.subfeatures).length>0&&n.compareInstance&&n.compareInstance.usedFeatures.includes(n.feature.id)&&n.instance.usedFeatures.includes(n.feature.id))}),null)}function zM(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"em",[],[[2,"text-danger",null],[2,"text-success",null]],null,null,null,null)),(e()(),Gl(1,null,["",""]))],null,(function(e,t){var n=t.component;e(t,0,0,n.conformance.errorFeatureIds.includes(n.feature.id)||n.compareInstance&&n.compareInstance.usedFeatures.includes(n.feature.id),n.conformance.hintFeatureIds.includes(n.feature.id)),e(t,1,0,n.feature.name)}))}function HM(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"app-canvas-building-block",[],null,[[null,"addFeatureEmitter"],[null,"deleteFeatureEmitter"]],(function(e,t,n){var r=!0,s=e.component;return"addFeatureEmitter"===t&&(r=!1!==s.addFeatureForwardEmitter(n)&&r),"deleteFeatureEmitter"===t&&(r=!1!==s.deleteFeatureForwardEmitter(n)&&r),r}),KM,$M)),Jr(1,49152,null,0,NM,[],{feature:[0,"feature"],levelDepth:[1,"levelDepth"],instance:[2,"instance"],doubleBlock:[3,"doubleBlock"],conformance:[4,"conformance"],showWarnings:[5,"showWarnings"],showStrengths:[6,"showStrengths"],showHints:[7,"showHints"],compareInstance:[8,"compareInstance"],percentages:[9,"percentages"]},{addFeatureEmitter:"addFeatureEmitter",deleteFeatureEmitter:"deleteFeatureEmitter"})],(function(e,t){var n=t.component;e(t,1,0,t.parent.context.$implicit,n.levelDepth+1,n.instance,n.doubleBlock,n.conformance,n.showWarnings,n.showStrengths,n.showHints,n.compareInstance,n.percentages)}),null)}function WM(e){return Jl(0,[(e()(),Ol(0,0,null,null,2,"span",[],null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,HM)),Jr(2,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.instance.usedFeatures.includes(t.context.$implicit.id)||n.conformance.errorFeatureIds.includes(t.context.$implicit.id)||n.conformance.warningFeatureIds.includes(t.context.$implicit.id)&&n.showWarnings||n.conformance.strengthFeatureIds.includes(t.context.$implicit.id)&&n.showStrengths||n.conformance.hintFeatureIds.includes(t.context.$implicit.id)&&n.showHints||n.compareInstance&&n.compareInstance.usedFeatures.includes(t.context.$implicit.id))}),null)}function KM(e){return Jl(0,[(t=0,n=du,r=[Ds],Xr(-1,t|=16,null,0,n,n,r)),(e()(),Ol(1,0,null,null,7,"ul",[["class","list-group"],["style","margin-top: 5px; margin-left:5px;"]],[[2,"no-list",null]],null,null,null,null)),(e()(),Ol(2,0,null,null,6,"li",[],null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,BM)),Jr(4,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,zM)),Jr(6,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,WM)),Jr(8,278528,null,0,tu,[Cn,xn,fn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,4,0,n.instance.usedFeatures.includes(n.feature.id)),e(t,6,0,!n.instance.usedFeatures.includes(n.feature.id)),e(t,8,0,n.asList(n.feature.subfeatures))}),(function(e,t){e(t,1,0,1===t.component.levelDepth)}));var t,n,r}class GM{constructor(e,t,n,r,s){this.route=e,this.router=t,this.pouchDBServer=n,this.modalService=r,this.fb=s,this.conformanceOptionsForm=this.fb.group({showWarnings:!0,showStrengths:!0,showHints:!1}),this.selectOtherInstanceForm=this.fb.group({instance:[null,Mh.required]}),this.compareInstance=null,this.percentages=null}ngOnInit(){this.routeSubscription=this.route.paramMap.subscribe(e=>{this.addFeatureForm=this.fb.group({featurename:["",Mh.required]}),this.updateBusinessModelForm=this.fb.group({name:["",Mh.required],description:[""]}),this.featureModelId=e.get("id"),this.businessModelId=+e.get("bmid"),this.uncheckConformance(),this.loadFeatureModel()})}ngOnDestroy(){this.routeSubscription.unsubscribe()}loadFeatureModel(){this.pouchDBServer.getFeatureModel(this.featureModelId).then(e=>{this.featureModel=e,this.businessModelInstance=this.featureModel.getInstance(this.businessModelId),this.updateBusinessModelForm.setValue({name:this.businessModelInstance.name,description:this.businessModelInstance.description?this.businessModelInstance.description:""}),this.checkConvert().then(()=>this.compareInstance?this.compare():null),this.conformanceIsChecked?this.checkConformance():this.uncheckConformance()},e=>{console.log("LoadFeatureModel: "+e)})}deleteFeatureModal(e){this.pouchDBServer.getFeatureModel(this.featureModelId).then(t=>{this.modalFeature=t.getFeature(e),this.modalReference=this.modalService.open(this.deleteModal,{size:"lg"})},e=>{console.log("DeleteFeatureModal: "+e)})}addFeatureModal(e){console.log("Feature: "+e),this.pouchDBServer.getFeatureModel(this.featureModelId).then(t=>{this.modalFeature=t.getFeature(e),this.modalUnselectedFeatures=this.getUnselectedFeatures(t.getInstance(this.businessModelId),this.modalFeature),this.modalReference=this.modalService.open(this.addModal,{size:"lg"})},e=>{console.log("DeleteFeatureModal: "+e)})}addFeature(){this.pouchDBServer.addNewFeatureToInstance(this.featureModelId,this.addFeatureForm.value.featurename,fb.OPTIONAL,null,this.modalFeature.id,this.businessModelId).then(()=>{this.pouchDBServer.getFeatureModel(this.featureModelId).then(e=>{this.modalFeature=e.getFeature(this.modalFeature.id),this.modalUnselectedFeatures=this.getUnselectedFeatures(e.getInstance(this.businessModelId),this.modalFeature),this.loadFeatureModel()},e=>{console.log("AddFeature (new load): "+e)})},e=>{console.log("AddFeature: "+e)}),this.addFeatureForm.reset()}deleteBusinessModelDecision(e){this.pouchDBServer.removeBusinessDecision(this.featureModelId,e,this.businessModelId).then(()=>{this.closeModal()},e=>{console.log("DeleteBusinessModelDecision: "+e)})}addBusinessModelDecision(e){this.pouchDBServer.addBusinessDecision(this.featureModelId,e,this.businessModelId).then(()=>{this.pouchDBServer.getFeatureModel(this.featureModelId).then(e=>{this.modalFeature=e.getFeature(this.modalFeature.id),this.modalUnselectedFeatures=this.getUnselectedFeatures(e.getInstance(this.businessModelId),this.modalFeature),this.loadFeatureModel()},e=>{console.log("AddBusinessModelDecision (new load): "+e)})},e=>{console.log("AddBusinessModelDecision: "+e)})}updateBusinessModel(){this.pouchDBServer.updateBusinessModel(this.featureModelId,this.businessModelId,this.updateBusinessModelForm.value.name,this.updateBusinessModelForm.value.description).then(()=>{this.loadFeatureModel()},e=>{console.log("UpdateBusinessModel: "+e)})}createAdaptation(){const e=this.businessModelInstance.name.split(" - Adaptation#");let t;console.log(e.length),t=e.length>1&&!isNaN(parseInt(e[e.length-1],10))?e[0]+" - Adaptation#"+(parseInt(e[e.length-1],10)+1):e[0]+" - Adaptation#1",this.pouchDBServer.adaptBusinessModel(this.featureModelId,this.businessModelId,t).then(()=>{this.pouchDBServer.getFeatureModel(this.featureModelId).then(e=>{const t=e.instances;this.router.navigateByUrl("/businessmodelview/"+this.featureModelId+"/"+t[t.length-1].id)},()=>{console.log("CreateAdaptation (inner): ")})},()=>{console.log("CreateAdaptation: ")})}uncheckConformance(){this.conformanceIsChecked=!1,this.conformance={errorFeatureIds:[],errors:[],warningFeatureIds:[],warnings:[],strengthFeatureIds:[],strengths:[],hintFeatureIds:[],hints:[]}}checkConformance(){this.clearCompare(),this.conformance=this.featureModel.checkConformanceOfInstance(this.businessModelId),this.conformanceIsChecked=!0}getUnselectedFeatures(e,t){return Object.values(t.subfeatures).filter(t=>!e.usedFeatures.includes(t.id))}closeModal(){this.modalReference.close(),this.modalFeature=null,this.loadFeatureModel()}compare(){this.uncheckConformance();const e=this.selectOtherInstanceForm.value.instance.split("%"),t=Number(e[1]),n=e[0];if("own"===n)this.compareInstance=this.featureModel.getInstance(t),this.percentages=this.featureModel.compareInstances(this.businessModelInstance.id,this.compareInstance.id);else{const e=this.instances[n].find(e=>e.id===t);this.compareInstance=this.featureModel.convertExpertInstance(n,e),this.percentages=this.featureModel.compareGivenInstances(this.businessModelInstance,this.compareInstance)}this.selectOtherInstanceForm.get("instance").disable()}clearCompare(){this.compareInstance=null,this.percentages=null,this.selectOtherInstanceForm.get("instance").enable()}checkConvert(){const e=[];if(this.instances={},!this.featureModel.expertModel)for(const t of Object.keys(this.featureModel.expertModelTraces))e.push(this.pouchDBServer.getFeatureModel(t).then(e=>{e.getFeatureList().map(e=>e.id).every(t=>t in this.featureModel.expertModelTraces[e._id].expertFeatureIdMap)&&(this.instances[e._id]=e.instances)}));return Promise.all(e)}asKeys(e){return Object.keys(e)}getHeatmapStyle(e){return this.percentages?{"background-color":"hsla("+this.percentages[e]/100*120+", 100%, 66%, 0.3)"}:{}}}var QM=jn({encapsulation:0,styles:[[""]],data:{}});function ZM(e){return Jl(0,[(e()(),Ol(0,0,null,null,3,"a",[["class","nav-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==$r(e,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),Jr(1,671744,null,0,qp,[Op,Cd,ai],{routerLink:[0,"routerLink"]},null),Hl(2,2),(e()(),Gl(3,null,["",""]))],(function(e,t){var n=e(t,2,0,"/featuremodelview",t.component.featureModel._id);e(t,1,0,n)}),(function(e,t){var n=t.component;e(t,0,0,$r(t,1).target,$r(t,1).href),e(t,3,0,n.featureModel.name)}))}function JM(e){return Jl(0,[(e()(),Ol(0,0,null,null,3,"a",[["class","nav-link active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==$r(e,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),Jr(1,671744,null,0,qp,[Op,Cd,ai],{routerLink:[0,"routerLink"]},null),Hl(2,3),(e()(),Gl(3,null,["",""]))],(function(e,t){var n=t.component,r=e(t,2,0,"/businessmodelview",n.featureModel._id,n.businessModelId);e(t,1,0,r)}),(function(e,t){var n=t.component;e(t,0,0,$r(t,1).target,$r(t,1).href),e(t,3,0,n.businessModelInstance.name)}))}function YM(e){return Jl(0,[(e()(),Ol(0,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),Ol(1,0,null,null,1,"h4",[["class","modal-title"],["id","modal-basic-title"]],null,null,null,null,null)),(e()(),Gl(2,null,["",""])),(e()(),Ol(3,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.closeModal()&&r),r}),null,null)),(e()(),Ol(4,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),Gl(-1,null,["\xd7"])),(e()(),Ol(6,0,null,null,3,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),Ol(7,0,null,null,2,"div",[["class","alert alert-warning"],["role","alert"]],null,null,null,null,null)),(e()(),Ol(8,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Gl(9,null,['You are trying to remove the decision "','". Please keep in mind that you are removing also all subdecisions.'])),(e()(),Ol(10,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(e()(),Ol(11,0,null,null,1,"button",[["class","btn btn-block btn-warning"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0,s=e.component;return"click"===t&&(r=!1!==s.deleteBusinessModelDecision(s.modalFeature.id)&&r),r}),null,null)),(e()(),Gl(-1,null,["Delete Decision "]))],null,(function(e,t){var n=t.component;e(t,2,0,n.modalFeature.name),e(t,9,0,n.modalFeature.name)}))}function XM(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"small",[["class","text-muted"]],null,null,null,null,null)),(e()(),Gl(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.parent.context.$implicit.description)}))}function eS(e){return Jl(0,[(e()(),Ol(0,0,null,null,6,"li",[["class","list-group-item justify-content-between align-items-center"]],null,null,null,null,null)),(e()(),Ol(1,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),Gl(2,null,[" "," "])),(e()(),Dl(16777216,null,null,1,null,XM)),Jr(4,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(5,0,null,null,1,"button",[["class","btn btn-warning btn-xs bottom-right"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.addBusinessModelDecision(e.context.$implicit.id)&&r),r}),null,null)),(e()(),Gl(-1,null,["Add "]))],(function(e,t){e(t,4,0,t.context.$implicit.description)}),(function(e,t){e(t,2,0,t.context.$implicit.name)}))}function tS(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"li",[["class","list-group-item justify-content-between align-items-center"]],null,null,null,null,null)),(e()(),Gl(-1,null,["There are no existing business model decisions left to add. "]))],null,null)}function nS(e){return Jl(0,[(e()(),Ol(0,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),Ol(1,0,null,null,1,"h4",[["class","modal-title"],["id","modal-basic-title"]],null,null,null,null,null)),(e()(),Gl(2,null,["",""])),(e()(),Ol(3,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.closeModal()&&r),r}),null,null)),(e()(),Ol(4,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),Gl(-1,null,["\xd7"])),(e()(),Ol(6,0,null,null,29,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),Ol(7,0,null,null,28,"ul",[["class","list-group inner"],["style","margin:5px;"]],null,null,null,null,null)),(e()(),Ol(8,0,null,null,7,"li",[["class","list-group-item justify-content-between align-items-center"]],null,null,null,null,null)),(e()(),Ol(9,0,null,null,0,"i",[["class","fas fa-plus-square"]],null,null,null,null,null)),(e()(),Gl(-1,null,[" Add existing business model decisions: "])),(e()(),Ol(11,0,null,null,4,"ul",[["class","list-group inner"],["style","margin:5px;"]],null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,eS)),Jr(13,278528,null,0,tu,[Cn,xn,fn],{ngForOf:[0,"ngForOf"]},null),(e()(),Dl(16777216,null,null,1,null,tS)),Jr(15,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16,0,null,null,19,"li",[["class","list-group-item justify-content-between align-items-center"]],null,null,null,null,null)),(e()(),Ol(17,0,null,null,0,"i",[["class","fas fa-plus-square"]],null,null,null,null,null)),(e()(),Gl(-1,null,[" Add new business model decision: "])),(e()(),Ol(19,0,null,null,16,"ul",[["class","list-group inner"],["style","margin:5px;"]],null,null,null,null,null)),(e()(),Ol(20,0,null,null,15,"li",[["class","list-group-item justify-content-between align-items-center"]],null,null,null,null,null)),(e()(),Ol(21,0,null,null,14,"form",[["class","form-inline"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,t,n){var r=!0,s=e.component;return"submit"===t&&(r=!1!==$r(e,23).onSubmit(n)&&r),"reset"===t&&(r=!1!==$r(e,23).onReset()&&r),"ngSubmit"===t&&(r=!1!==s.addFeature()&&r),r}),null,null)),Jr(22,16384,null,0,af,[],null,null),Jr(23,540672,null,0,df,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),Yr(2048,null,vh,null,[df]),Jr(25,16384,null,0,_h,[[4,vh]],null,null),(e()(),Ol(26,0,null,null,1,"label",[["class","sr-only"],["for","featurename"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Decision Name"])),(e()(),Ol(28,0,null,null,5,"input",[["class","form-control mb-2 mr-sm-2"],["formControlName","featurename"],["id","featurename"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0;return"input"===t&&(r=!1!==$r(e,29)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==$r(e,29).onTouched()&&r),"compositionstart"===t&&(r=!1!==$r(e,29)._compositionStart()&&r),"compositionend"===t&&(r=!1!==$r(e,29)._compositionEnd(n.target.value)&&r),r}),null,null)),Jr(29,16384,null,0,mh,[Xt,Gt,[2,fh]],null,null),Yr(1024,null,ph,(function(e){return[e]}),[mh]),Jr(31,671744,null,0,mf,[[3,vh],[8,null],[8,null],[6,ph],[2,cf]],{name:[0,"name"]},null),Yr(2048,null,yh,null,[mf]),Jr(33,16384,null,0,xh,[[4,yh]],null,null),(e()(),Ol(34,0,null,null,1,"button",[["class","btn btn-warning btn-xs bottom-right"],["type","submit"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Add"]))],(function(e,t){var n=t.component;e(t,13,0,n.modalUnselectedFeatures),e(t,15,0,0==n.modalUnselectedFeatures.length),e(t,23,0,n.addFeatureForm),e(t,31,0,"featurename")}),(function(e,t){e(t,2,0,t.component.modalFeature.name),e(t,21,0,$r(t,25).ngClassUntouched,$r(t,25).ngClassTouched,$r(t,25).ngClassPristine,$r(t,25).ngClassDirty,$r(t,25).ngClassValid,$r(t,25).ngClassInvalid,$r(t,25).ngClassPending),e(t,28,0,$r(t,33).ngClassUntouched,$r(t,33).ngClassTouched,$r(t,33).ngClassPristine,$r(t,33).ngClassDirty,$r(t,33).ngClassValid,$r(t,33).ngClassInvalid,$r(t,33).ngClassPending)}))}function rS(e){return Jl(0,[(e()(),Ol(0,0,null,null,51,"div",[["class","container businesscanvas"]],null,null,null,null,null)),(e()(),Ol(1,0,null,null,39,"div",[["class","row"]],null,null,null,null,null)),(e()(),Ol(2,0,null,null,4,"div",[["class","col-2 buildingblock brectangle"]],null,null,null,null,null)),Yr(512,null,ou,iu,[Gt,mn,Xt]),Jr(4,278528,null,0,au,[ou],{ngStyle:[0,"ngStyle"]},null),(e()(),Ol(5,0,null,null,1,"app-canvas-building-block",[],null,[[null,"addFeatureEmitter"],[null,"deleteFeatureEmitter"]],(function(e,t,n){var r=!0,s=e.component;return"addFeatureEmitter"===t&&(r=!1!==s.addFeatureModal(n)&&r),"deleteFeatureEmitter"===t&&(r=!1!==s.deleteFeatureModal(n)&&r),r}),KM,$M)),Jr(6,49152,null,0,NM,[],{feature:[0,"feature"],levelDepth:[1,"levelDepth"],instance:[2,"instance"],doubleBlock:[3,"doubleBlock"],conformance:[4,"conformance"],showWarnings:[5,"showWarnings"],showStrengths:[6,"showStrengths"],showHints:[7,"showHints"],compareInstance:[8,"compareInstance"],percentages:[9,"percentages"]},{addFeatureEmitter:"addFeatureEmitter",deleteFeatureEmitter:"deleteFeatureEmitter"}),(e()(),Ol(7,0,null,null,11,"div",[["class","col-3"]],null,null,null,null,null)),(e()(),Ol(8,0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(e()(),Ol(9,0,null,null,4,"div",[["class","col-md-12 buildingblock bsquare"]],null,null,null,null,null)),Yr(512,null,ou,iu,[Gt,mn,Xt]),Jr(11,278528,null,0,au,[ou],{ngStyle:[0,"ngStyle"]},null),(e()(),Ol(12,0,null,null,1,"app-canvas-building-block",[],null,[[null,"addFeatureEmitter"],[null,"deleteFeatureEmitter"]],(function(e,t,n){var r=!0,s=e.component;return"addFeatureEmitter"===t&&(r=!1!==s.addFeatureModal(n)&&r),"deleteFeatureEmitter"===t&&(r=!1!==s.deleteFeatureModal(n)&&r),r}),KM,$M)),Jr(13,49152,null,0,NM,[],{feature:[0,"feature"],levelDepth:[1,"levelDepth"],instance:[2,"instance"],doubleBlock:[3,"doubleBlock"],conformance:[4,"conformance"],showWarnings:[5,"showWarnings"],showStrengths:[6,"showStrengths"],showHints:[7,"showHints"],compareInstance:[8,"compareInstance"],percentages:[9,"percentages"]},{addFeatureEmitter:"addFeatureEmitter",deleteFeatureEmitter:"deleteFeatureEmitter"}),(e()(),Ol(14,0,null,null,4,"div",[["class","col-md-12 buildingblock bsquare"]],null,null,null,null,null)),Yr(512,null,ou,iu,[Gt,mn,Xt]),Jr(16,278528,null,0,au,[ou],{ngStyle:[0,"ngStyle"]},null),(e()(),Ol(17,0,null,null,1,"app-canvas-building-block",[],null,[[null,"addFeatureEmitter"],[null,"deleteFeatureEmitter"]],(function(e,t,n){var r=!0,s=e.component;return"addFeatureEmitter"===t&&(r=!1!==s.addFeatureModal(n)&&r),"deleteFeatureEmitter"===t&&(r=!1!==s.deleteFeatureModal(n)&&r),r}),KM,$M)),Jr(18,49152,null,0,NM,[],{feature:[0,"feature"],levelDepth:[1,"levelDepth"],instance:[2,"instance"],doubleBlock:[3,"doubleBlock"],conformance:[4,"conformance"],showWarnings:[5,"showWarnings"],showStrengths:[6,"showStrengths"],showHints:[7,"showHints"],compareInstance:[8,"compareInstance"],percentages:[9,"percentages"]},{addFeatureEmitter:"addFeatureEmitter",deleteFeatureEmitter:"deleteFeatureEmitter"}),(e()(),Ol(19,0,null,null,4,"div",[["class","col-2 buildingblock"]],null,null,null,null,null)),Yr(512,null,ou,iu,[Gt,mn,Xt]),Jr(21,278528,null,0,au,[ou],{ngStyle:[0,"ngStyle"]},null),(e()(),Ol(22,0,null,null,1,"app-canvas-building-block",[],null,[[null,"addFeatureEmitter"],[null,"deleteFeatureEmitter"]],(function(e,t,n){var r=!0,s=e.component;return"addFeatureEmitter"===t&&(r=!1!==s.addFeatureModal(n)&&r),"deleteFeatureEmitter"===t&&(r=!1!==s.deleteFeatureModal(n)&&r),r}),KM,$M)),Jr(23,49152,null,0,NM,[],{feature:[0,"feature"],levelDepth:[1,"levelDepth"],instance:[2,"instance"],doubleBlock:[3,"doubleBlock"],conformance:[4,"conformance"],showWarnings:[5,"showWarnings"],showStrengths:[6,"showStrengths"],showHints:[7,"showHints"],compareInstance:[8,"compareInstance"],percentages:[9,"percentages"]},{addFeatureEmitter:"addFeatureEmitter",deleteFeatureEmitter:"deleteFeatureEmitter"}),(e()(),Ol(24,0,null,null,11,"div",[["class","col-3"]],null,null,null,null,null)),(e()(),Ol(25,0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(e()(),Ol(26,0,null,null,4,"div",[["class","col-md-12 buildingblock bsquare"]],null,null,null,null,null)),Yr(512,null,ou,iu,[Gt,mn,Xt]),Jr(28,278528,null,0,au,[ou],{ngStyle:[0,"ngStyle"]},null),(e()(),Ol(29,0,null,null,1,"app-canvas-building-block",[],null,[[null,"addFeatureEmitter"],[null,"deleteFeatureEmitter"]],(function(e,t,n){var r=!0,s=e.component;return"addFeatureEmitter"===t&&(r=!1!==s.addFeatureModal(n)&&r),"deleteFeatureEmitter"===t&&(r=!1!==s.deleteFeatureModal(n)&&r),r}),KM,$M)),Jr(30,49152,null,0,NM,[],{feature:[0,"feature"],levelDepth:[1,"levelDepth"],instance:[2,"instance"],doubleBlock:[3,"doubleBlock"],conformance:[4,"conformance"],showWarnings:[5,"showWarnings"],showStrengths:[6,"showStrengths"],showHints:[7,"showHints"],compareInstance:[8,"compareInstance"],percentages:[9,"percentages"]},{addFeatureEmitter:"addFeatureEmitter",deleteFeatureEmitter:"deleteFeatureEmitter"}),(e()(),Ol(31,0,null,null,4,"div",[["class","col-md-12 buildingblock bsquare"]],null,null,null,null,null)),Yr(512,null,ou,iu,[Gt,mn,Xt]),Jr(33,278528,null,0,au,[ou],{ngStyle:[0,"ngStyle"]},null),(e()(),Ol(34,0,null,null,1,"app-canvas-building-block",[],null,[[null,"addFeatureEmitter"],[null,"deleteFeatureEmitter"]],(function(e,t,n){var r=!0,s=e.component;return"addFeatureEmitter"===t&&(r=!1!==s.addFeatureModal(n)&&r),"deleteFeatureEmitter"===t&&(r=!1!==s.deleteFeatureModal(n)&&r),r}),KM,$M)),Jr(35,49152,null,0,NM,[],{feature:[0,"feature"],levelDepth:[1,"levelDepth"],instance:[2,"instance"],doubleBlock:[3,"doubleBlock"],conformance:[4,"conformance"],showWarnings:[5,"showWarnings"],showStrengths:[6,"showStrengths"],showHints:[7,"showHints"],compareInstance:[8,"compareInstance"],percentages:[9,"percentages"]},{addFeatureEmitter:"addFeatureEmitter",deleteFeatureEmitter:"deleteFeatureEmitter"}),(e()(),Ol(36,0,null,null,4,"div",[["class","col-2 buildingblock brectangle"]],null,null,null,null,null)),Yr(512,null,ou,iu,[Gt,mn,Xt]),Jr(38,278528,null,0,au,[ou],{ngStyle:[0,"ngStyle"]},null),(e()(),Ol(39,0,null,null,1,"app-canvas-building-block",[],null,[[null,"addFeatureEmitter"],[null,"deleteFeatureEmitter"]],(function(e,t,n){var r=!0,s=e.component;return"addFeatureEmitter"===t&&(r=!1!==s.addFeatureModal(n)&&r),"deleteFeatureEmitter"===t&&(r=!1!==s.deleteFeatureModal(n)&&r),r}),KM,$M)),Jr(40,49152,null,0,NM,[],{feature:[0,"feature"],levelDepth:[1,"levelDepth"],instance:[2,"instance"],doubleBlock:[3,"doubleBlock"],conformance:[4,"conformance"],showWarnings:[5,"showWarnings"],showStrengths:[6,"showStrengths"],showHints:[7,"showHints"],compareInstance:[8,"compareInstance"],percentages:[9,"percentages"]},{addFeatureEmitter:"addFeatureEmitter",deleteFeatureEmitter:"deleteFeatureEmitter"}),(e()(),Ol(41,0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(e()(),Ol(42,0,null,null,4,"div",[["class","col-6 buildingblock blongtangle"]],null,null,null,null,null)),Yr(512,null,ou,iu,[Gt,mn,Xt]),Jr(44,278528,null,0,au,[ou],{ngStyle:[0,"ngStyle"]},null),(e()(),Ol(45,0,null,null,1,"app-canvas-building-block",[],null,[[null,"addFeatureEmitter"],[null,"deleteFeatureEmitter"]],(function(e,t,n){var r=!0,s=e.component;return"addFeatureEmitter"===t&&(r=!1!==s.addFeatureModal(n)&&r),"deleteFeatureEmitter"===t&&(r=!1!==s.deleteFeatureModal(n)&&r),r}),KM,$M)),Jr(46,49152,null,0,NM,[],{feature:[0,"feature"],levelDepth:[1,"levelDepth"],instance:[2,"instance"],doubleBlock:[3,"doubleBlock"],conformance:[4,"conformance"],showWarnings:[5,"showWarnings"],showStrengths:[6,"showStrengths"],showHints:[7,"showHints"],compareInstance:[8,"compareInstance"],percentages:[9,"percentages"]},{addFeatureEmitter:"addFeatureEmitter",deleteFeatureEmitter:"deleteFeatureEmitter"}),(e()(),Ol(47,0,null,null,4,"div",[["class","col-6 buildingblock blongtangle"]],null,null,null,null,null)),Yr(512,null,ou,iu,[Gt,mn,Xt]),Jr(49,278528,null,0,au,[ou],{ngStyle:[0,"ngStyle"]},null),(e()(),Ol(50,0,null,null,1,"app-canvas-building-block",[],null,[[null,"addFeatureEmitter"],[null,"deleteFeatureEmitter"]],(function(e,t,n){var r=!0,s=e.component;return"addFeatureEmitter"===t&&(r=!1!==s.addFeatureModal(n)&&r),"deleteFeatureEmitter"===t&&(r=!1!==s.deleteFeatureModal(n)&&r),r}),KM,$M)),Jr(51,49152,null,0,NM,[],{feature:[0,"feature"],levelDepth:[1,"levelDepth"],instance:[2,"instance"],doubleBlock:[3,"doubleBlock"],conformance:[4,"conformance"],showWarnings:[5,"showWarnings"],showStrengths:[6,"showStrengths"],showHints:[7,"showHints"],compareInstance:[8,"compareInstance"],percentages:[9,"percentages"]},{addFeatureEmitter:"addFeatureEmitter",deleteFeatureEmitter:"deleteFeatureEmitter"})],(function(e,t){var n=t.component;e(t,4,0,n.getHeatmapStyle("key-partners")),e(t,6,0,n.featureModel.features["key-partners"],1,n.businessModelInstance,!1,n.conformance,n.conformanceOptionsForm.value.showWarnings,n.conformanceOptionsForm.value.showStrengths,n.conformanceOptionsForm.value.showHints,n.compareInstance,n.percentages),e(t,11,0,n.getHeatmapStyle("key-activities")),e(t,13,0,n.featureModel.features["key-activities"],1,n.businessModelInstance,!1,n.conformance,n.conformanceOptionsForm.value.showWarnings,n.conformanceOptionsForm.value.showStrengths,n.conformanceOptionsForm.value.showHints,n.compareInstance,n.percentages),e(t,16,0,n.getHeatmapStyle("key-resources")),e(t,18,0,n.featureModel.features["key-resources"],1,n.businessModelInstance,!1,n.conformance,n.conformanceOptionsForm.value.showWarnings,n.conformanceOptionsForm.value.showStrengths,n.conformanceOptionsForm.value.showHints,n.compareInstance,n.percentages),e(t,21,0,n.getHeatmapStyle("value-propositions")),e(t,23,0,n.featureModel.features["value-propositions"],1,n.businessModelInstance,!1,n.conformance,n.conformanceOptionsForm.value.showWarnings,n.conformanceOptionsForm.value.showStrengths,n.conformanceOptionsForm.value.showHints,n.compareInstance,n.percentages),e(t,28,0,n.getHeatmapStyle("customer-relationships")),e(t,30,0,n.featureModel.features["customer-relationships"],1,n.businessModelInstance,!1,n.conformance,n.conformanceOptionsForm.value.showWarnings,n.conformanceOptionsForm.value.showStrengths,n.conformanceOptionsForm.value.showHints,n.compareInstance,n.percentages),e(t,33,0,n.getHeatmapStyle("channels")),e(t,35,0,n.featureModel.features.channels,1,n.businessModelInstance,!1,n.conformance,n.conformanceOptionsForm.value.showWarnings,n.conformanceOptionsForm.value.showStrengths,n.conformanceOptionsForm.value.showHints,n.compareInstance,n.percentages),e(t,38,0,n.getHeatmapStyle("customer-segments")),e(t,40,0,n.featureModel.features["customer-segments"],1,n.businessModelInstance,!1,n.conformance,n.conformanceOptionsForm.value.showWarnings,n.conformanceOptionsForm.value.showStrengths,n.conformanceOptionsForm.value.showHints,n.compareInstance,n.percentages),e(t,44,0,n.getHeatmapStyle("cost-structure")),e(t,46,0,n.featureModel.features["cost-structure"],1,n.businessModelInstance,!1,n.conformance,n.conformanceOptionsForm.value.showWarnings,n.conformanceOptionsForm.value.showStrengths,n.conformanceOptionsForm.value.showHints,n.compareInstance,n.percentages),e(t,49,0,n.getHeatmapStyle("revenue-streams")),e(t,51,0,n.featureModel.features["revenue-streams"],1,n.businessModelInstance,!1,n.conformance,n.conformanceOptionsForm.value.showWarnings,n.conformanceOptionsForm.value.showStrengths,n.conformanceOptionsForm.value.showHints,n.compareInstance,n.percentages)}),null)}function sS(e){return Jl(0,[(e()(),Ol(0,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Ol(1,0,null,null,1,"span",[["class","text-warning"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Weakness (see below)"]))],null,null)}function lS(e){return Jl(0,[(e()(),Ol(0,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Ol(1,0,null,null,1,"span",[["class","text-success"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Strength (see below)"]))],null,null)}function oS(e){return Jl(0,[(e()(),Ol(0,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(e()(),Ol(1,0,null,null,1,"div",[["class","col-2"]],null,null,null,null,null)),(e()(),Gl(-1,null,["\xa0"])),(e()(),Ol(3,0,null,null,1,"div",[["class","col-2"]],null,null,null,null,null)),(e()(),Gl(-1,null,["\xa0"])),(e()(),Ol(5,0,null,null,1,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Gl(-1,null,["\xa0"])),(e()(),Ol(7,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Ol(8,0,null,null,1,"em",[["class","text-success"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Hint (see below)"]))],null,null)}function iS(e){return Jl(0,[(e()(),Ol(0,0,null,null,22,null,null,null,null,null,null,null)),(e()(),Ol(1,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(e()(),Ol(2,0,null,null,1,"div",[["class","col-2"]],null,null,null,null,null)),(e()(),Gl(-1,null,["\xa0"])),(e()(),Ol(4,0,null,null,1,"div",[["class","col-2"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Conformance:"])),(e()(),Ol(6,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Ol(7,0,null,null,1,"span",[["class","text-danger"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Conformance Error (see below)"])),(e()(),Dl(16777216,null,null,1,null,sS)),Jr(10,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(11,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(e()(),Ol(12,0,null,null,1,"div",[["class","col-2"]],null,null,null,null,null)),(e()(),Gl(-1,null,["\xa0"])),(e()(),Ol(14,0,null,null,1,"div",[["class","col-2"]],null,null,null,null,null)),(e()(),Gl(-1,null,["\xa0"])),(e()(),Ol(16,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Ol(17,0,null,null,1,"em",[["class","text-danger"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Missing Mandatory Decision"])),(e()(),Dl(16777216,null,null,1,null,lS)),Jr(20,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,oS)),Jr(22,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(0,null,null,0))],(function(e,t){var n=t.component;e(t,10,0,n.conformanceOptionsForm.value.showWarnings),e(t,20,0,n.conformanceOptionsForm.value.showStrengths),e(t,22,0,n.conformanceOptionsForm.value.showHints)}),null)}function uS(e){return Jl(0,[(e()(),Ol(0,0,null,null,11,null,null,null,null,null,null,null)),(e()(),Ol(1,0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(e()(),Ol(2,0,null,null,1,"div",[["class","col-2"]],null,null,null,null,null)),(e()(),Gl(-1,null,["\xa0"])),(e()(),Ol(4,0,null,null,1,"div",[["class","col-2"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Compare:"])),(e()(),Ol(6,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Ol(7,0,null,null,1,"em",[["class","text-danger"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Feature only in other model"])),(e()(),Ol(9,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Ol(10,0,null,null,1,"span",[["class","text-success"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Feature only in this model"]))],null,null)}function aS(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"button",[["class","btn btn-dark btn-sm btn-block"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.checkConformance()&&r),r}),null,null)),(e()(),Gl(-1,null,[" Activate Conformance Checking of Business Model "]))],null,null)}function cS(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"button",[["class","btn btn-dark btn-sm btn-block"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.uncheckConformance()&&r),r}),null,null)),(e()(),Gl(-1,null,[" Deactivate Conformance Checking of Business Model "]))],null,null)}function dS(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),Gl(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.context.$implicit)}))}function pS(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),Gl(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.context.$implicit)}))}function hS(e){return Jl(0,[(e()(),Ol(0,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),Ol(1,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),Gl(-1,null,["Weaknesses"])),(e()(),Ol(3,0,null,null,2,"ul",[],null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,pS)),Jr(5,278528,null,0,tu,[Cn,xn,fn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,5,0,t.component.conformance.warnings)}),null)}function fS(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),Gl(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.context.$implicit)}))}function mS(e){return Jl(0,[(e()(),Ol(0,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),Ol(1,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),Gl(-1,null,["Strengths"])),(e()(),Ol(3,0,null,null,2,"ul",[],null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,fS)),Jr(5,278528,null,0,tu,[Cn,xn,fn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,5,0,t.component.conformance.strengths)}),null)}function gS(e){return Jl(0,[(e()(),Ol(0,0,null,null,4,"div",[["class","col border-left"]],null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,hS)),Jr(2,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,mS)),Jr(4,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.conformanceOptionsForm.value.showWarnings),e(t,4,0,n.conformanceOptionsForm.value.showStrengths)}),null)}function vS(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),Gl(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.context.$implicit)}))}function bS(e){return Jl(0,[(e()(),Ol(0,0,null,null,5,"div",[["class","col border-left"]],null,null,null,null,null)),(e()(),Ol(1,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),Gl(-1,null,["Hints"])),(e()(),Ol(3,0,null,null,2,"ul",[],null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,vS)),Jr(5,278528,null,0,tu,[Cn,xn,fn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,5,0,t.component.conformance.hints)}),null)}function yS(e){return Jl(0,[(e()(),Ol(0,0,null,null,43,"div",[["style","margin-top:20px;"]],null,null,null,null,null)),(e()(),Ol(1,0,null,null,31,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var r=!0;return"submit"===t&&(r=!1!==$r(e,3).onSubmit(n)&&r),"reset"===t&&(r=!1!==$r(e,3).onReset()&&r),r}),null,null)),Jr(2,16384,null,0,af,[],null,null),Jr(3,540672,null,0,df,[[8,null],[8,null]],{form:[0,"form"]},null),Yr(2048,null,vh,null,[df]),Jr(5,16384,null,0,_h,[[4,vh]],null,null),(e()(),Ol(6,0,null,null,8,"div",[["class","custom-control custom-switch mb-2"]],null,null,null,null,null)),(e()(),Ol(7,0,null,null,5,"input",[["class","custom-control-input"],["formControlName","showWarnings"],["id","optionShowWarnings"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var r=!0;return"change"===t&&(r=!1!==$r(e,8).onChange(n.target.checked)&&r),"blur"===t&&(r=!1!==$r(e,8).onTouched()&&r),r}),null,null)),Jr(8,16384,null,0,hh,[Xt,Gt],null,null),Yr(1024,null,ph,(function(e){return[e]}),[hh]),Jr(10,671744,null,0,mf,[[3,vh],[8,null],[8,null],[6,ph],[2,cf]],{name:[0,"name"]},null),Yr(2048,null,yh,null,[mf]),Jr(12,16384,null,0,xh,[[4,yh]],null,null),(e()(),Ol(13,0,null,null,1,"label",[["class","custom-control-label"],["for","optionShowWarnings"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Show weaknesses"])),(e()(),Ol(15,0,null,null,8,"div",[["class","custom-control custom-switch mb-2"]],null,null,null,null,null)),(e()(),Ol(16,0,null,null,5,"input",[["class","custom-control-input"],["formControlName","showStrengths"],["id","showStrengths"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var r=!0;return"change"===t&&(r=!1!==$r(e,17).onChange(n.target.checked)&&r),"blur"===t&&(r=!1!==$r(e,17).onTouched()&&r),r}),null,null)),Jr(17,16384,null,0,hh,[Xt,Gt],null,null),Yr(1024,null,ph,(function(e){return[e]}),[hh]),Jr(19,671744,null,0,mf,[[3,vh],[8,null],[8,null],[6,ph],[2,cf]],{name:[0,"name"]},null),Yr(2048,null,yh,null,[mf]),Jr(21,16384,null,0,xh,[[4,yh]],null,null),(e()(),Ol(22,0,null,null,1,"label",[["class","custom-control-label"],["for","showStrengths"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Show strengths"])),(e()(),Ol(24,0,null,null,8,"div",[["class","custom-control custom-switch mb-2"]],null,null,null,null,null)),(e()(),Ol(25,0,null,null,5,"input",[["class","custom-control-input"],["formControlName","showHints"],["id","showHints"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var r=!0;return"change"===t&&(r=!1!==$r(e,26).onChange(n.target.checked)&&r),"blur"===t&&(r=!1!==$r(e,26).onTouched()&&r),r}),null,null)),Jr(26,16384,null,0,hh,[Xt,Gt],null,null),Yr(1024,null,ph,(function(e){return[e]}),[hh]),Jr(28,671744,null,0,mf,[[3,vh],[8,null],[8,null],[6,ph],[2,cf]],{name:[0,"name"]},null),Yr(2048,null,yh,null,[mf]),Jr(30,16384,null,0,xh,[[4,yh]],null,null),(e()(),Ol(31,0,null,null,1,"label",[["class","custom-control-label"],["for","showHints"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Show hints"])),(e()(),Ol(33,0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(e()(),Ol(34,0,null,null,5,"div",[["class","col"]],null,null,null,null,null)),(e()(),Ol(35,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),Gl(-1,null,["Errors"])),(e()(),Ol(37,0,null,null,2,"ul",[],null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,dS)),Jr(39,278528,null,0,tu,[Cn,xn,fn],{ngForOf:[0,"ngForOf"]},null),(e()(),Dl(16777216,null,null,1,null,gS)),Jr(41,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,bS)),Jr(43,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,3,0,n.conformanceOptionsForm),e(t,10,0,"showWarnings"),e(t,19,0,"showStrengths"),e(t,28,0,"showHints"),e(t,39,0,n.conformance.errors),e(t,41,0,n.conformanceOptionsForm.value.showWarnings||n.conformanceOptionsForm.value.showStrengths),e(t,43,0,n.conformanceOptionsForm.value.showHints)}),(function(e,t){e(t,1,0,$r(t,5).ngClassUntouched,$r(t,5).ngClassTouched,$r(t,5).ngClassPristine,$r(t,5).ngClassDirty,$r(t,5).ngClassValid,$r(t,5).ngClassInvalid,$r(t,5).ngClassPending),e(t,7,0,$r(t,12).ngClassUntouched,$r(t,12).ngClassTouched,$r(t,12).ngClassPristine,$r(t,12).ngClassDirty,$r(t,12).ngClassValid,$r(t,12).ngClassInvalid,$r(t,12).ngClassPending),e(t,16,0,$r(t,21).ngClassUntouched,$r(t,21).ngClassTouched,$r(t,21).ngClassPristine,$r(t,21).ngClassDirty,$r(t,21).ngClassValid,$r(t,21).ngClassInvalid,$r(t,21).ngClassPending),e(t,25,0,$r(t,30).ngClassUntouched,$r(t,30).ngClassTouched,$r(t,30).ngClassPristine,$r(t,30).ngClassDirty,$r(t,30).ngClassValid,$r(t,30).ngClassInvalid,$r(t,30).ngClassPending)}))}function wS(e){return Jl(0,[(e()(),Ol(0,0,null,null,3,"option",[],null,null,null,null,null)),Jr(1,147456,null,0,Lh,[Gt,Xt,[2,jh]],{ngValue:[0,"ngValue"]},null),Jr(2,147456,null,0,Bh,[Gt,Xt,[8,null]],{ngValue:[0,"ngValue"]},null),(e()(),Gl(3,null,[" "," "]))],(function(e,t){e(t,1,0,"own%"+t.parent.context.$implicit.id),e(t,2,0,"own%"+t.parent.context.$implicit.id)}),(function(e,t){e(t,3,0,t.parent.context.$implicit.name)}))}function xS(e){return Jl(0,[(e()(),Ol(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,wS)),Jr(2,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(0,null,null,0))],(function(e,t){e(t,2,0,t.context.$implicit.id!==t.component.businessModelId)}),null)}function _S(e){return Jl(0,[(e()(),Ol(0,0,null,null,3,"option",[],null,null,null,null,null)),Jr(1,147456,null,0,Lh,[Gt,Xt,[2,jh]],{ngValue:[0,"ngValue"]},null),Jr(2,147456,null,0,Bh,[Gt,Xt,[8,null]],{ngValue:[0,"ngValue"]},null),(e()(),Gl(3,null,[" "," (",") "]))],(function(e,t){e(t,1,0,t.parent.context.$implicit+"%"+t.context.$implicit.id),e(t,2,0,t.parent.context.$implicit+"%"+t.context.$implicit.id)}),(function(e,t){e(t,3,0,t.context.$implicit.name,t.context.$implicit.type)}))}function CS(e){return Jl(0,[(e()(),Ol(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,_S)),Jr(2,278528,null,0,tu,[Cn,xn,fn],{ngForOf:[0,"ngForOf"]},null),(e()(),Dl(0,null,null,0))],(function(e,t){e(t,2,0,t.component.instances[t.context.$implicit])}),null)}function kS(e){return Jl(0,[(e()(),Ol(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,CS)),Jr(2,278528,null,0,tu,[Cn,xn,fn],{ngForOf:[0,"ngForOf"]},null),(e()(),Dl(0,null,null,0))],(function(e,t){var n=t.component;e(t,2,0,n.asKeys(n.instances))}),null)}function MS(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"button",[["class","btn btn-sm btn-dark btn-block"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),Gl(-1,null,[" Compare "]))],null,(function(e,t){e(t,0,0,!t.component.selectOtherInstanceForm.valid)}))}function SS(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"button",[["class","btn btn-sm btn-dark btn-block"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.clearCompare()&&r),r}),null,null)),(e()(),Gl(-1,null,[" Clear Compare "]))],null,null)}function TS(e){return Jl(0,[(e()(),Ol(0,0,null,null,102,"main",[["class","container"],["role","main"]],null,null,null,null,null)),(e()(),Ol(1,0,null,null,21,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Ol(2,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),Gl(3,null,[""," of ",""])),(e()(),Dl(16777216,null,null,1,null,rS)),Jr(5,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(6,0,null,null,16,"div",[["class","container"]],null,null,null,null,null)),(e()(),Ol(7,0,null,null,11,"div",[["class","row"]],null,null,null,null,null)),(e()(),Ol(8,0,null,null,2,"div",[["class","col-2"]],null,null,null,null,null)),(e()(),Ol(9,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),Gl(-1,null,["Legend:"])),(e()(),Ol(11,0,null,null,1,"div",[["class","col-2"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Modification:"])),(e()(),Ol(13,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Ol(14,0,null,null,0,"i",[["class","fas fa-plus-square"]],null,null,null,null,null)),(e()(),Gl(-1,null,[" Add Business Model Decision"])),(e()(),Ol(16,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Ol(17,0,null,null,0,"i",[["class","fas fa-minus-square"]],null,null,null,null,null)),(e()(),Gl(-1,null,[" Delete Business Model Decision"])),(e()(),Dl(16777216,null,null,1,null,iS)),Jr(20,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,uS)),Jr(22,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(23,0,null,null,10,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Ol(24,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Conformance Check"])),(e()(),Ol(26,0,null,null,7,"div",[["class","container"]],null,null,null,null,null)),(e()(),Ol(27,0,null,null,4,"div",[["class","row"],["style","margin-top:20px;"]],null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,aS)),Jr(29,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,cS)),Jr(31,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,yS)),Jr(33,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(34,0,null,null,28,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Ol(35,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Compare"])),(e()(),Ol(37,0,null,null,25,"div",[["class","text-muted pt-3"]],null,null,null,null,null)),(e()(),Ol(38,0,null,null,24,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,t,n){var r=!0,s=e.component;return"submit"===t&&(r=!1!==$r(e,40).onSubmit(n)&&r),"reset"===t&&(r=!1!==$r(e,40).onReset()&&r),"ngSubmit"===t&&(r=!1!==s.compare()&&r),r}),null,null)),Jr(39,16384,null,0,af,[],null,null),Jr(40,540672,null,0,df,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),Yr(2048,null,vh,null,[df]),Jr(42,16384,null,0,_h,[[4,vh]],null,null),(e()(),Ol(43,0,null,null,13,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Ol(44,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","instance"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Business Model"])),(e()(),Ol(46,0,null,null,10,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Ol(47,0,null,null,9,"select",[["class","form-control"],["formControlName","instance"],["id","instance"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var r=!0;return"change"===t&&(r=!1!==$r(e,48).onChange(n.target.value)&&r),"blur"===t&&(r=!1!==$r(e,48).onTouched()&&r),r}),null,null)),Jr(48,16384,null,0,jh,[Xt,Gt],null,null),Yr(1024,null,ph,(function(e){return[e]}),[jh]),Jr(50,671744,null,0,mf,[[3,vh],[8,null],[8,null],[6,ph],[2,cf]],{name:[0,"name"]},null),Yr(2048,null,yh,null,[mf]),Jr(52,16384,null,0,xh,[[4,yh]],null,null),(e()(),Dl(16777216,null,null,1,null,xS)),Jr(54,278528,null,0,tu,[Cn,xn,fn],{ngForOf:[0,"ngForOf"]},null),(e()(),Dl(16777216,null,null,1,null,kS)),Jr(56,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(57,0,null,null,5,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Ol(58,0,null,null,4,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,MS)),Jr(60,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,SS)),Jr(62,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(63,0,null,null,6,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Ol(64,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Adapt Business Model"])),(e()(),Ol(66,0,null,null,3,"div",[["class","container"]],null,null,null,null,null)),(e()(),Ol(67,0,null,null,2,"div",[["class","row"],["style","margin-top:20px;"]],null,null,null,null,null)),(e()(),Ol(68,0,null,null,1,"button",[["class","btn btn-dark btn-sm btn-block"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.createAdaptation()&&r),r}),null,null)),(e()(),Gl(-1,null,[" Create New Business Model Adaptation "])),(e()(),Ol(70,0,null,null,32,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Ol(71,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Update Business Model"])),(e()(),Ol(73,0,null,null,29,"div",[["class","text-muted pt-3"]],null,null,null,null,null)),(e()(),Ol(74,0,null,null,28,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,t,n){var r=!0,s=e.component;return"submit"===t&&(r=!1!==$r(e,76).onSubmit(n)&&r),"reset"===t&&(r=!1!==$r(e,76).onReset()&&r),"ngSubmit"===t&&(r=!1!==s.updateBusinessModel()&&r),r}),null,null)),Jr(75,16384,null,0,af,[],null,null),Jr(76,540672,null,0,df,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),Yr(2048,null,vh,null,[df]),Jr(78,16384,null,0,_h,[[4,vh]],null,null),(e()(),Ol(79,0,null,null,9,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Ol(80,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","name"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Business Model Name"])),(e()(),Ol(82,0,null,null,6,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Ol(83,0,null,null,5,"input",[["class","form-control"],["formControlName","name"],["id","name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0;return"input"===t&&(r=!1!==$r(e,84)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==$r(e,84).onTouched()&&r),"compositionstart"===t&&(r=!1!==$r(e,84)._compositionStart()&&r),"compositionend"===t&&(r=!1!==$r(e,84)._compositionEnd(n.target.value)&&r),r}),null,null)),Jr(84,16384,null,0,mh,[Xt,Gt,[2,fh]],null,null),Yr(1024,null,ph,(function(e){return[e]}),[mh]),Jr(86,671744,null,0,mf,[[3,vh],[8,null],[8,null],[6,ph],[2,cf]],{name:[0,"name"]},null),Yr(2048,null,yh,null,[mf]),Jr(88,16384,null,0,xh,[[4,yh]],null,null),(e()(),Ol(89,0,null,null,9,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Ol(90,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","description"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Business Model Description"])),(e()(),Ol(92,0,null,null,6,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Ol(93,0,null,null,5,"input",[["class","form-control"],["formControlName","description"],["id","description"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0;return"input"===t&&(r=!1!==$r(e,94)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==$r(e,94).onTouched()&&r),"compositionstart"===t&&(r=!1!==$r(e,94)._compositionStart()&&r),"compositionend"===t&&(r=!1!==$r(e,94)._compositionEnd(n.target.value)&&r),r}),null,null)),Jr(94,16384,null,0,mh,[Xt,Gt,[2,fh]],null,null),Yr(1024,null,ph,(function(e){return[e]}),[mh]),Jr(96,671744,null,0,mf,[[3,vh],[8,null],[8,null],[6,ph],[2,cf]],{name:[0,"name"]},null),Yr(2048,null,yh,null,[mf]),Jr(98,16384,null,0,xh,[[4,yh]],null,null),(e()(),Ol(99,0,null,null,3,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Ol(100,0,null,null,2,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),Ol(101,0,null,null,1,"button",[["class","btn btn-sm btn-dark btn-block"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),Gl(-1,null,["Update Business Model Name "]))],(function(e,t){var n=t.component;e(t,5,0,n.featureModel),e(t,20,0,n.conformanceIsChecked),e(t,22,0,n.compareInstance),e(t,29,0,!n.conformanceIsChecked),e(t,31,0,n.conformanceIsChecked),e(t,33,0,n.conformanceIsChecked),e(t,40,0,n.selectOtherInstanceForm),e(t,50,0,"instance"),e(t,54,0,n.featureModel.instances),e(t,56,0,n.instances),e(t,60,0,null===n.compareInstance),e(t,62,0,null!==n.compareInstance),e(t,76,0,n.updateBusinessModelForm),e(t,86,0,"name"),e(t,96,0,"description")}),(function(e,t){var n=t.component;e(t,3,0,n.businessModelInstance.name,n.featureModel.name),e(t,38,0,$r(t,42).ngClassUntouched,$r(t,42).ngClassTouched,$r(t,42).ngClassPristine,$r(t,42).ngClassDirty,$r(t,42).ngClassValid,$r(t,42).ngClassInvalid,$r(t,42).ngClassPending),e(t,47,0,$r(t,52).ngClassUntouched,$r(t,52).ngClassTouched,$r(t,52).ngClassPristine,$r(t,52).ngClassDirty,$r(t,52).ngClassValid,$r(t,52).ngClassInvalid,$r(t,52).ngClassPending),e(t,74,0,$r(t,78).ngClassUntouched,$r(t,78).ngClassTouched,$r(t,78).ngClassPristine,$r(t,78).ngClassDirty,$r(t,78).ngClassValid,$r(t,78).ngClassInvalid,$r(t,78).ngClassPending),e(t,83,0,$r(t,88).ngClassUntouched,$r(t,88).ngClassTouched,$r(t,88).ngClassPristine,$r(t,88).ngClassDirty,$r(t,88).ngClassValid,$r(t,88).ngClassInvalid,$r(t,88).ngClassPending),e(t,93,0,$r(t,98).ngClassUntouched,$r(t,98).ngClassTouched,$r(t,98).ngClassPristine,$r(t,98).ngClassDirty,$r(t,98).ngClassValid,$r(t,98).ngClassInvalid,$r(t,98).ngClassPending),e(t,101,0,!n.updateBusinessModelForm.valid)}))}function ES(e){return Jl(0,[$l(402653184,1,{addModal:0}),$l(402653184,2,{deleteModal:0}),(e()(),Ol(2,0,null,null,5,"div",[["class","nav-scroller bg-white shadow-sm"]],null,null,null,null,null)),(e()(),Ol(3,0,null,null,4,"nav",[["class","nav nav-underline"]],null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,ZM)),Jr(5,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,JM)),Jr(7,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(0,[[2,2],["deleteModal",2]],null,0,null,YM)),(e()(),Dl(0,[[1,2],["addModal",2]],null,0,null,nS)),(e()(),Dl(16777216,null,null,1,null,TS)),Jr(11,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,5,0,n.featureModel),e(t,7,0,n.featureModel),e(t,11,0,n.featureModel)}),null)}function IS(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"app-business-model-view",[],null,null,null,ES,QM)),Jr(1,245760,null,0,GM,[Cd,Op,qk,Zm,vf],null,null)],(function(e,t){e(t,1,0)}),null)}var FS=Tr("app-business-model-view",GM,IS,{},{},[]);class PS{constructor(e){this.fb=e,this.viewModel=new ws,this.editModel=new ws,this.deleteModel=new ws,this.addModel=new ws,this.modelForm=this.fb.group({name:["",Mh.required],description:[]})}addModelForwardEmitter(){this.addModel.emit({name:this.modelForm.value.name,description:this.modelForm.value.description})}}var DS=jn({encapsulation:0,styles:[[""]],data:{}});function OS(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"span",[["class","text-muted"]],null,null,null,null,null)),(e()(),Gl(1,null,[" (",")"]))],null,(function(e,t){e(t,1,0,t.parent.context.$implicit.version)}))}function AS(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),Gl(1,null,[" (",") "]))],null,(function(e,t){e(t,1,0,t.parent.parent.context.$implicit.author.email)}))}function qS(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),Gl(1,null,[" from ",""]))],null,(function(e,t){e(t,1,0,t.parent.parent.context.$implicit.author.company)}))}function RS(e){return Jl(0,[(e()(),Ol(0,0,null,null,5,"div",[],null,null,null,null,null)),(e()(),Gl(1,null,[" Author: "," "])),(e()(),Dl(16777216,null,null,1,null,AS)),Jr(3,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,qS)),Jr(5,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,3,0,t.parent.context.$implicit.author.email),e(t,5,0,t.parent.context.$implicit.author.company)}),(function(e,t){e(t,1,0,t.parent.context.$implicit.author.name)}))}function NS(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),Gl(1,null,[" Website: "," "]))],null,(function(e,t){e(t,1,0,t.parent.context.$implicit.author.website)}))}function $S(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),Gl(1,null,[" Copyright: "," "]))],null,(function(e,t){e(t,1,0,t.parent.context.$implicit.copyright)}))}function jS(e){return Jl(0,[(e()(),Ol(0,0,null,null,30,"li",[["class","model-list-item media text-muted pt-2 pb-2 border-bottom"]],null,null,null,null,null)),(e()(),Ol(1,0,null,null,3,":svg:svg",[["aria-label","Placeholder: 32x32"],["class","align-self-center mr-2 rounded"],["focusable","false"],["height","32"],["preserveAspectRatio","xMidYMid slice"],["role","img"],["width","32"],["xmlns","http://www.w3.org/2000/svg"]],null,null,null,null,null)),(e()(),Ol(2,0,null,null,1,":svg:title",[],null,null,null,null,null)),(e()(),Gl(-1,null,["Placeholder"])),(e()(),Ol(4,0,null,null,0,":svg:rect",[["fill","#6f42c1"],["height","100%"],["width","100%"]],null,null,null,null,null)),(e()(),Ol(5,0,null,null,25,"div",[["class","media-body small"]],null,null,null,null,null)),(e()(),Ol(6,0,null,null,24,"div",[["class","d-flex justify-content-between align-items-center"]],null,null,null,null,null)),(e()(),Ol(7,0,null,null,14,"div",[],null,null,null,null,null)),(e()(),Ol(8,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),Ol(9,0,null,null,1,"strong",[["class","text-gray-dark"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.viewModel.emit(e.context.$implicit._id)&&r),r}),null,null)),(e()(),Gl(10,null,["",""])),(e()(),Dl(16777216,null,null,1,null,OS)),Jr(12,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(13,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),Ol(14,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),Gl(15,null,["",""])),(e()(),Dl(16777216,null,null,1,null,RS)),Jr(17,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,NS)),Jr(19,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,$S)),Jr(21,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(22,0,null,null,8,"div",[],null,null,null,null,null)),(e()(),Ol(23,0,null,null,1,"button",[["class","btn btn-dark btn-xs model-list-item-view"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.viewModel.emit(e.context.$implicit._id)&&r),r}),null,null)),(e()(),Gl(-1,null,[" View "])),(e()(),Gl(-1,null,[" \xa0 "])),(e()(),Ol(26,0,null,null,1,"button",[["class","btn btn-warning btn-xs model-list-item-edit"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.editModel.emit(e.context.$implicit._id)&&r),r}),null,null)),(e()(),Gl(-1,null,[" Edit "])),(e()(),Gl(-1,null,[" \xa0 "])),(e()(),Ol(29,0,null,null,1,"button",[["class","btn btn-danger btn-xs model-list-item-delete"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.deleteModel.emit(e.context.$implicit._id)&&r),r}),null,null)),(e()(),Gl(-1,null,[" Delete "]))],(function(e,t){e(t,12,0,t.context.$implicit.version),e(t,17,0,t.context.$implicit.author&&t.context.$implicit.author.name),e(t,19,0,t.context.$implicit.author.website),e(t,21,0,t.context.$implicit.copyright)}),(function(e,t){e(t,10,0,t.context.$implicit.name),e(t,15,0,t.context.$implicit.description)}))}function LS(e){return Jl(0,[(e()(),Ol(0,0,null,null,5,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Ol(1,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),Gl(2,null,["",""])),(e()(),Ol(3,0,null,null,2,"ul",[["class","list-unstyled mb-0"]],null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,jS)),Jr(5,278528,null,0,tu,[Cn,xn,fn],{ngForOf:[0,"ngForOf"]},null),(e()(),Ol(6,0,null,null,32,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Ol(7,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),Gl(8,null,["",""])),(e()(),Ol(9,0,null,null,29,"div",[["class","text-muted pt-3"]],null,null,null,null,null)),(e()(),Ol(10,0,null,null,28,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,t,n){var r=!0,s=e.component;return"submit"===t&&(r=!1!==$r(e,12).onSubmit(n)&&r),"reset"===t&&(r=!1!==$r(e,12).onReset()&&r),"ngSubmit"===t&&(r=!1!==s.addModelForwardEmitter()&&r),r}),null,null)),Jr(11,16384,null,0,af,[],null,null),Jr(12,540672,null,0,df,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),Yr(2048,null,vh,null,[df]),Jr(14,16384,null,0,_h,[[4,vh]],null,null),(e()(),Ol(15,0,null,null,9,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Ol(16,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","name"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Model Name"])),(e()(),Ol(18,0,null,null,6,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Ol(19,0,null,null,5,"input",[["class","form-control"],["formControlName","name"],["id","name"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0;return"input"===t&&(r=!1!==$r(e,20)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==$r(e,20).onTouched()&&r),"compositionstart"===t&&(r=!1!==$r(e,20)._compositionStart()&&r),"compositionend"===t&&(r=!1!==$r(e,20)._compositionEnd(n.target.value)&&r),r}),null,null)),Jr(20,16384,null,0,mh,[Xt,Gt,[2,fh]],null,null),Yr(1024,null,ph,(function(e){return[e]}),[mh]),Jr(22,671744,null,0,mf,[[3,vh],[8,null],[8,null],[6,ph],[2,cf]],{name:[0,"name"]},null),Yr(2048,null,yh,null,[mf]),Jr(24,16384,null,0,xh,[[4,yh]],null,null),(e()(),Ol(25,0,null,null,9,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Ol(26,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","description"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Model Description"])),(e()(),Ol(28,0,null,null,6,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Ol(29,0,null,null,5,"input",[["class","form-control"],["formControlName","description"],["id","description"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0;return"input"===t&&(r=!1!==$r(e,30)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==$r(e,30).onTouched()&&r),"compositionstart"===t&&(r=!1!==$r(e,30)._compositionStart()&&r),"compositionend"===t&&(r=!1!==$r(e,30)._compositionEnd(n.target.value)&&r),r}),null,null)),Jr(30,16384,null,0,mh,[Xt,Gt,[2,fh]],null,null),Yr(1024,null,ph,(function(e){return[e]}),[mh]),Jr(32,671744,null,0,mf,[[3,vh],[8,null],[8,null],[6,ph],[2,cf]],{name:[0,"name"]},null),Yr(2048,null,yh,null,[mf]),Jr(34,16384,null,0,xh,[[4,yh]],null,null),(e()(),Ol(35,0,null,null,3,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Ol(36,0,null,null,2,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),Ol(37,0,null,null,1,"button",[["class","btn btn-sm btn-dark btn-block"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),Gl(38,null,["",""]))],(function(e,t){var n=t.component;e(t,5,0,n.modelList),e(t,12,0,n.modelForm),e(t,22,0,"name"),e(t,32,0,"description")}),(function(e,t){var n=t.component;e(t,2,0,n.modelListTitle),e(t,8,0,n.modelFormTitle),e(t,10,0,$r(t,14).ngClassUntouched,$r(t,14).ngClassTouched,$r(t,14).ngClassPristine,$r(t,14).ngClassDirty,$r(t,14).ngClassValid,$r(t,14).ngClassInvalid,$r(t,14).ngClassPending),e(t,19,0,$r(t,24).ngClassUntouched,$r(t,24).ngClassTouched,$r(t,24).ngClassPristine,$r(t,24).ngClassDirty,$r(t,24).ngClassValid,$r(t,24).ngClassInvalid,$r(t,24).ngClassPending),e(t,29,0,$r(t,34).ngClassUntouched,$r(t,34).ngClassTouched,$r(t,34).ngClassPristine,$r(t,34).ngClassDirty,$r(t,34).ngClassValid,$r(t,34).ngClassInvalid,$r(t,34).ngClassPending),e(t,37,0,!n.modelForm.valid),e(t,38,0,n.modelFormTitle)}))}class VS{constructor(e,t){this.fb=e,this.importExportService=t,this.imported=new ws,this.file=null,this.form=this.fb.group({file:null}),this.importError=null}fileChange(e){this.importError=null,this.file=e.target.files[0]}submitForm(){this.importExportService.importModel(this.file,this.importExpertModel).then(()=>{this.form.reset(),this.file=null,this.imported.emit()}).catch(e=>{console.log(e),this.importError="string"==typeof e?e:e instanceof Error?e.message:Array.isArray(e)?e[0].message:"Unknown Error. See browser's console for more info."})}}var US=jn({encapsulation:0,styles:[[""]],data:{}});function BS(e){return Jl(0,[(e()(),Ol(0,0,null,null,24,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Ol(1,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),Gl(2,null,["",""])),(e()(),Ol(3,0,null,null,21,"div",[["class","text-muted pt-3"]],null,null,null,null,null)),(e()(),Ol(4,0,null,null,20,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,t,n){var r=!0,s=e.component;return"submit"===t&&(r=!1!==$r(e,6).onSubmit(n)&&r),"reset"===t&&(r=!1!==$r(e,6).onReset()&&r),"ngSubmit"===t&&(r=!1!==s.submitForm()&&r),r}),null,null)),Jr(5,16384,null,0,af,[],null,null),Jr(6,540672,null,0,df,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),Yr(2048,null,vh,null,[df]),Jr(8,16384,null,0,_h,[[4,vh]],null,null),(e()(),Ol(9,0,null,null,11,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Ol(10,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","file"]],null,null,null,null,null)),(e()(),Gl(-1,null,["File"])),(e()(),Ol(12,0,null,null,8,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Ol(13,0,null,null,5,"input",[["aria-describedby","fileErrorDescription"],["class","form-control"],["formControlName","file"],["id","file"],["type","file"]],[[2,"is-invalid",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0,s=e.component;return"input"===t&&(r=!1!==$r(e,14)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==$r(e,14).onTouched()&&r),"compositionstart"===t&&(r=!1!==$r(e,14)._compositionStart()&&r),"compositionend"===t&&(r=!1!==$r(e,14)._compositionEnd(n.target.value)&&r),"change"===t&&(r=!1!==s.fileChange(n)&&r),r}),null,null)),Jr(14,16384,null,0,mh,[Xt,Gt,[2,fh]],null,null),Yr(1024,null,ph,(function(e){return[e]}),[mh]),Jr(16,671744,null,0,mf,[[3,vh],[8,null],[8,null],[6,ph],[2,cf]],{name:[0,"name"]},null),Yr(2048,null,yh,null,[mf]),Jr(18,16384,null,0,xh,[[4,yh]],null,null),(e()(),Ol(19,0,null,null,1,"div",[["class","invalid-feedback"],["id","fileErrorDescription"]],null,null,null,null,null)),(e()(),Gl(20,null,[" "," "])),(e()(),Ol(21,0,null,null,3,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Ol(22,0,null,null,2,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),Ol(23,0,null,null,1,"button",[["class","btn btn-sm btn-dark btn-block"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),Gl(24,null,["",""]))],(function(e,t){e(t,6,0,t.component.form),e(t,16,0,"file")}),(function(e,t){var n=t.component;e(t,2,0,n.formTitle),e(t,4,0,$r(t,8).ngClassUntouched,$r(t,8).ngClassTouched,$r(t,8).ngClassPristine,$r(t,8).ngClassDirty,$r(t,8).ngClassValid,$r(t,8).ngClassInvalid,$r(t,8).ngClassPending),e(t,13,0,n.importError,$r(t,18).ngClassUntouched,$r(t,18).ngClassTouched,$r(t,18).ngClassPristine,$r(t,18).ngClassDirty,$r(t,18).ngClassValid,$r(t,18).ngClassInvalid,$r(t,18).ngClassPending),e(t,20,0,n.importError),e(t,23,0,!n.file),e(t,24,0,n.formTitle)}))}class zS{constructor(e,t,n){this.fb=e,this.pouchDBServer=t,this.router=n,this.pouchDBServer.getDatabaseInfo().then(e=>{0===e.doc_count&&this.pouchDBServer.addDefaultData().then(()=>{this.refresh()},e=>{console.log("Default Constructor (inner): "+e)})},e=>{console.log("Default Constructor: "+e)}),this.refresh()}addExpertModel(e,t){this.pouchDBServer.addFeatureModel(e,t,!0).then(()=>{this.refreshExpertModelList()},e=>{console.log("AddExpertModel: "+e)})}addCompanyModel(e,t){this.pouchDBServer.addFeatureModel(e,t).then(()=>{this.refreshCompanyModelList()},e=>{console.log("AddCompanyModel: "+e)})}resetDatabase(){console.log("Delete Database"),this.pouchDBServer.addDefaultData().then(()=>{this.refresh()},e=>{console.log("Default Constructor (inner): "+e)})}viewFeatureModel(e){this.router.navigate(["/featuremodelview",e])}editFeatureModel(e){this.router.navigate(["/featuremodel",e])}deleteExpertModel(e){this.pouchDBServer.deleteFeatureModel(e).then(()=>{this.refreshExpertModelList()},e=>{console.log("DeleteExpertModel: "+e)})}deleteCompanyModel(e){this.pouchDBServer.deleteFeatureModel(e).then(()=>{this.refreshCompanyModelList()},e=>{console.log("DeleteCompanyModel: "+e)})}refresh(){this.refreshExpertModelList(),this.refreshCompanyModelList()}refreshExpertModelList(){this.pouchDBServer.getExpertModelList().then(e=>{this.expertModelList=e.docs},e=>{console.log("RefreshExpertModelList: "+e)})}refreshCompanyModelList(){this.pouchDBServer.getCompanyModelList().then(e=>{this.companyModelList=e.docs},e=>{console.log("RefreshCompanyModelList: "+e)})}}var HS=jn({encapsulation:0,styles:[[""]],data:{}});function WS(e){return Jl(0,[(e()(),Ol(0,0,null,null,2,"a",[["class","nav-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==$r(e,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),Jr(1,671744,null,0,qp,[Op,Cd,ai],{routerLink:[0,"routerLink"]},null),(e()(),Gl(2,null,["",""]))],(function(e,t){e(t,1,0,pr(1,"/featuremodel/",t.context.$implicit._id,""))}),(function(e,t){e(t,0,0,$r(t,1).target,$r(t,1).href),e(t,2,0,t.context.$implicit.name)}))}function KS(e){return Jl(0,[(e()(),Ol(0,0,null,null,5,"div",[["class","nav-scroller bg-white shadow-sm"]],null,null,null,null,null)),(e()(),Ol(1,0,null,null,4,"nav",[["class","nav nav-underline"]],null,null,null,null,null)),(e()(),Ol(2,0,null,null,1,"a",[["class","nav-link active"],["href","#"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Feature Models"])),(e()(),Dl(16777216,null,null,1,null,WS)),Jr(5,278528,null,0,tu,[Cn,xn,fn],{ngForOf:[0,"ngForOf"]},null),(e()(),Ol(6,0,null,null,32,"main",[["class","container"],["role","main"]],null,null,null,null,null)),(e()(),Ol(7,0,null,null,6,"div",[["class","d-flex align-items-center p-3 my-3 text-white-50 bg-purple rounded shadow-sm"]],null,null,null,null,null)),(e()(),Ol(8,0,null,null,0,"img",[["alt",""],["class","mr-3"],["height","48"],["src","assets/logo.svg"],["width","48"]],null,null,null,null,null)),(e()(),Ol(9,0,null,null,4,"div",[["class","lh-100"]],null,null,null,null,null)),(e()(),Ol(10,0,null,null,1,"h6",[["class","mb-0 text-white lh-100"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Business Modeling Suite"])),(e()(),Ol(12,0,null,null,1,"small",[],null,null,null,null,null)),(e()(),Gl(-1,null,["Describe Business Models through a Business Model Decision Line (BMDL) by using Feature Models"])),(e()(),Ol(14,0,null,null,3,"div",[["class","alert alert-warning"],["role","alert"]],null,null,null,null,null)),(e()(),Ol(15,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),Gl(-1,null,["Important"])),(e()(),Gl(-1,null,[" \u2013 This tool is not yet complete. It can contain some bugs which will be fixed until camera ready. "])),(e()(),Ol(18,0,null,null,10,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Ol(19,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Short introduction"])),(e()(),Ol(21,0,null,null,7,"div",[["class","text-muted pt-3"]],null,null,null,null,null)),(e()(),Ol(22,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Gl(-1,null,["The Business Modeling Suite is a tool to describe Business Models through a combination of the Business Model Canvas (BMC) and a Software Product Line (SPL). We call this concept Business Model Decision Line (BMDL), where each feature describes a single business model decision. Features can be ordered in hierarchies and marked as mandatory or optional for the business models. Moreover, there can be Or (at least one sub-feature is selected) and Alternate (exactly one sub-feature is selected) relationships between a parent and a child feature. To refine the business models, cross-tree constraints for requiring and excluding dependencies can be made."])),(e()(),Ol(24,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Gl(-1,null,["The current state of the tool allows the creation of feature models and the deriving of business models. New business model decisions of single business models are synchronized with the corresponding feature model to ensure consistency. Moreover, the conformance of business models can be checked with the feature model and occurring conformance errors are explained."])),(e()(),Ol(26,0,null,null,2,"button",[["class","btn btn-dark btn-sm btn-block"],["routerLink","/explanation"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==$r(e,27).onClick()&&r),r}),null,null)),Jr(27,16384,null,0,Ap,[Op,Cd,[8,null],Xt,Gt],{routerLink:[0,"routerLink"]},null),(e()(),Gl(-1,null,["View Full Tool Explanation"])),(e()(),Ol(29,0,null,null,1,"app-model-list",[["class","expert-model-list"],["modelFormTitle","Add Expert Business Knowledge Model"],["modelListTitle","List of Expert Business Knowledge Models"]],null,[[null,"viewModel"],[null,"editModel"],[null,"deleteModel"],[null,"addModel"]],(function(e,t,n){var r=!0,s=e.component;return"viewModel"===t&&(r=!1!==s.viewFeatureModel(n)&&r),"editModel"===t&&(r=!1!==s.editFeatureModel(n)&&r),"deleteModel"===t&&(r=!1!==s.deleteExpertModel(n)&&r),"addModel"===t&&(r=!1!==s.addExpertModel(n.name,n.description)&&r),r}),LS,DS)),Jr(30,49152,null,0,PS,[vf],{modelListTitle:[0,"modelListTitle"],modelList:[1,"modelList"],modelFormTitle:[2,"modelFormTitle"]},{viewModel:"viewModel",editModel:"editModel",deleteModel:"deleteModel",addModel:"addModel"}),(e()(),Ol(31,0,null,null,1,"app-model-import-view",[["formTitle","Import Expert Model"]],null,[[null,"imported"]],(function(e,t,n){var r=!0;return"imported"===t&&(r=!1!==e.component.refreshExpertModelList()&&r),r}),BS,US)),Jr(32,49152,null,0,VS,[vf,yM],{importExpertModel:[0,"importExpertModel"],formTitle:[1,"formTitle"]},{imported:"imported"}),(e()(),Ol(33,0,null,null,1,"app-model-list",[["class","company-model-list"],["modelFormTitle","Add Company Business Knowledge Model"],["modelListTitle","List of Company Business Knowledge Models"]],null,[[null,"viewModel"],[null,"editModel"],[null,"deleteModel"],[null,"addModel"]],(function(e,t,n){var r=!0,s=e.component;return"viewModel"===t&&(r=!1!==s.viewFeatureModel(n)&&r),"editModel"===t&&(r=!1!==s.editFeatureModel(n)&&r),"deleteModel"===t&&(r=!1!==s.deleteCompanyModel(n)&&r),"addModel"===t&&(r=!1!==s.addCompanyModel(n.name,n.description)&&r),r}),LS,DS)),Jr(34,49152,null,0,PS,[vf],{modelListTitle:[0,"modelListTitle"],modelList:[1,"modelList"],modelFormTitle:[2,"modelFormTitle"]},{viewModel:"viewModel",editModel:"editModel",deleteModel:"deleteModel",addModel:"addModel"}),(e()(),Ol(35,0,null,null,1,"app-model-import-view",[["formTitle","Import Company Model"]],null,[[null,"imported"]],(function(e,t,n){var r=!0;return"imported"===t&&(r=!1!==e.component.refreshCompanyModelList()&&r),r}),BS,US)),Jr(36,49152,null,0,VS,[vf,yM],{importExpertModel:[0,"importExpertModel"],formTitle:[1,"formTitle"]},{imported:"imported"}),(e()(),Ol(37,0,null,null,1,"button",[["class","btn btn-dark btn-sm btn-block"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.resetDatabase()&&r),r}),null,null)),(e()(),Gl(-1,null,["Reset Database to Default"]))],(function(e,t){var n=t.component;e(t,5,0,n.companyModelList),e(t,27,0,"/explanation"),e(t,30,0,"List of Expert Business Knowledge Models",n.expertModelList,"Add Expert Business Knowledge Model"),e(t,32,0,!0,"Import Expert Model"),e(t,34,0,"List of Company Business Knowledge Models",n.companyModelList,"Add Company Business Knowledge Model"),e(t,36,0,!1,"Import Company Model")}),null)}function GS(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"app-feature-model",[],null,null,null,KS,HS)),Jr(1,49152,null,0,zS,[vf,qk,Op],null,null)],null,null)}var QS=Tr("app-feature-model",zS,GS,{},{},[]);class ZS{constructor(){this.closeModal=new ws,this.deleteTrace=new ws}ngOnInit(){}}var JS=jn({encapsulation:0,styles:[[""]],data:{}});function YS(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"button",[["class","btn btn-danger btn-xs bottom-right"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.deleteTrace.emit()&&r),r}),null,null)),(e()(),Gl(-1,null,["Delete "]))],null,null)}function XS(e){return Jl(0,[(e()(),Ol(0,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),Ol(1,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(e()(),Gl(2,null,["",""])),(e()(),Ol(3,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.closeModal.emit()&&r),r}),null,null)),(e()(),Ol(4,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),Gl(-1,null,["\xd7"])),(e()(),Ol(6,0,null,null,8,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),Ol(7,0,null,null,7,"ul",[["class","list-group inner"],["style","margin:5px;"]],null,null,null,null,null)),(e()(),Ol(8,0,null,null,6,"li",[["class","list-group-item justify-content-between align-items-center"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Connected to: "])),(e()(),Ol(10,0,null,null,4,"ul",[["class","list-group inner"],["style","margin:5px;"]],null,null,null,null,null)),(e()(),Ol(11,0,null,null,3,"li",[["class","list-group-item justify-content-between align-items-center"]],null,null,null,null,null)),(e()(),Gl(12,null,[""," "])),(e()(),Dl(16777216,null,null,1,null,YS)),Jr(14,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,14,0,null!==t.component.feature.parent)}),(function(e,t){var n=t.component;e(t,2,0,n.feature.name),e(t,12,0,n.tracedFeature.name)}))}class eT{constructor(){this.addTrace=new ws,this.selectFeature=new ws,this.openDependencies=new ws,this.openTrace=new ws}ngOnInit(){}asList(e){return Object.values(e)}}var tT=jn({encapsulation:0,styles:[[""]],data:{}});function nT(e){return Jl(0,[(e()(),Ol(0,0,null,null,0,"i",[["class","fa fa-circle"]],null,null,null,null,null))],null,null)}function rT(e){return Jl(0,[(e()(),Ol(0,0,null,null,0,"i",[["class","fa fa-circle-o"]],null,null,null,null,null))],null,null)}function sT(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"small",[["class","text-muted"]],null,null,null,null,null)),(e()(),Gl(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.parent.context.$implicit.description)}))}function lT(e){return Jl(0,[(e()(),Ol(0,0,null,null,0,"i",[["class","fa fa-caret-up"]],null,null,null,null,null))],null,null)}function oT(e){return Jl(0,[(e()(),Ol(0,0,null,null,0,"i",[["class","fa fa-angle-up"]],null,null,null,null,null))],null,null)}function iT(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"button",[["class","btn btn-dark btn-xs mr-1"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.openDependencies.emit(e.parent.context.$implicit.id)&&r),r}),null,null)),(e()(),Gl(-1,null,["Show Dependencies "]))],null,null)}function uT(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"button",[["class","btn btn-warning btn-xs mr-1"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.addTrace.emit(e.parent.context.$implicit.id)&&r),r}),null,null)),(e()(),Gl(-1,null,["Add "]))],null,null)}function aT(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"button",[["class","btn btn-warning btn-xs mr-1"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.selectFeature.emit(e.parent.context.$implicit.id)&&r),r}),null,null)),(e()(),Gl(-1,null,["Select "]))],null,null)}function cT(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"button",[["class","btn btn-primary btn-xs mr-1"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.openTrace.emit(e.parent.context.$implicit.id)&&r),r}),null,null)),(e()(),Gl(-1,null,[" Show Trace "]))],null,null)}function dT(e){return Jl(0,[(e()(),Ol(0,0,null,null,0,"i",[["class","fa fa-check"]],null,null,null,null,null))],null,null)}function pT(e){return Jl(0,[(e()(),Ol(0,0,null,null,0,"i",[["class","fa fa-exclamation-triangle"]],null,null,null,null,null))],null,null)}function hT(e){return Jl(0,[(e()(),Ol(0,0,null,null,31,"li",[["class","list-group-item justify-content-between align-items-center"]],null,null,null,null,null)),(e()(),Ol(1,0,null,null,28,"div",[["class","d-flex justify-content-between align-items-center"]],null,null,null,null,null)),(e()(),Ol(2,0,null,null,14,"div",[["class","d-flex"]],null,null,null,null,null)),(e()(),Ol(3,0,null,null,4,"div",[["class","mr-1"]],null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,nT)),Jr(5,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,rT)),Jr(7,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(8,0,null,null,3,"div",[["class","mr-1"]],null,null,null,null,null)),(e()(),Gl(9,null,[" "," "])),(e()(),Dl(16777216,null,null,1,null,sT)),Jr(11,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(12,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,lT)),Jr(14,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,oT)),Jr(16,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(17,0,null,null,12,"div",[],null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,iT)),Jr(19,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,uT)),Jr(21,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,aT)),Jr(23,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,cT)),Jr(25,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,dT)),Jr(27,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,pT)),Jr(29,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(30,0,null,null,1,"app-merge-tree",[],null,[[null,"openDependencies"],[null,"addTrace"],[null,"selectFeature"],[null,"openTrace"]],(function(e,t,n){var r=!0,s=e.component;return"openDependencies"===t&&(r=!1!==s.openDependencies.emit(n)&&r),"addTrace"===t&&(r=!1!==s.addTrace.emit(n)&&r),"selectFeature"===t&&(r=!1!==s.selectFeature.emit(n)&&r),"openTrace"===t&&(r=!1!==s.openTrace.emit(n)&&r),r}),mT,tT)),Jr(31,114688,null,0,eT,[],{features:[0,"features"],trace:[1,"trace"]},{addTrace:"addTrace",selectFeature:"selectFeature",openDependencies:"openDependencies",openTrace:"openTrace"})],(function(e,t){var n=t.component;e(t,5,0,"mandatory"===t.context.$implicit.type),e(t,7,0,"optional"===t.context.$implicit.type),e(t,11,0,t.context.$implicit.description),e(t,14,0,"or"===t.context.$implicit.subfeatureConnections),e(t,16,0,"xor"===t.context.$implicit.subfeatureConnections);var r=!t.context.$implicit.relationships.hasNoRelationships();e(t,19,0,r),e(t,21,0,!n.trace.expertFeatureIdMap[t.context.$implicit.id]&&t.context.$implicit.parent&&n.trace.expertFeatureIdMap[t.context.$implicit.parent.id]),e(t,23,0,!n.trace.expertFeatureIdMap[t.context.$implicit.id]&&t.context.$implicit.parent&&n.trace.expertFeatureIdMap[t.context.$implicit.parent.id]),e(t,25,0,n.trace.expertFeatureIdMap[t.context.$implicit.id]),e(t,27,0,n.trace.expertFeatureIdMap[t.context.$implicit.id]),e(t,29,0,!n.trace.expertFeatureIdMap[t.context.$implicit.id]),e(t,31,0,t.context.$implicit.subfeatures,n.trace)}),(function(e,t){e(t,9,0,t.context.$implicit.name)}))}function fT(e){return Jl(0,[(e()(),Ol(0,0,null,null,2,"ul",[["class","list-group inner"],["style","margin:5px;"]],null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,hT)),Jr(2,278528,null,0,tu,[Cn,xn,fn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.asList(n.features))}),null)}function mT(e){return Jl(0,[(e()(),Dl(16777216,null,null,1,null,fT)),Jr(1,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,t.component.features)}),null)}class gT{constructor(){this.openTrace=new ws,this.openDependencies=new ws,this.updateFeature=new ws,this.deleteFeature=new ws}ngOnInit(){}panelChange(e,t){t&&!this.openPanels.includes(e)?this.openPanels.push(e):!t&&this.openPanels.includes(e)&&this.openPanels.splice(this.openPanels.indexOf(e),1)}asList(e){return Object.values(e)}}var vT=jn({encapsulation:0,styles:[[""]],data:{}});function bT(e){return Jl(0,[(e()(),Ol(0,0,null,null,0,"i",[["class","fa fa-circle mr-1"]],null,null,null,null,null))],null,null)}function yT(e){return Jl(0,[(e()(),Ol(0,0,null,null,0,"i",[["class","fa fa-circle-o mr-1"]],null,null,null,null,null))],null,null)}function wT(e){return Jl(0,[(e()(),Ol(0,0,null,null,2,"button",[["class","btn btn-link p-0 mr-1"],["ngbPanelToggle",""],["type","button"]],[[8,"disabled",0],[2,"collapsed",null],[1,"aria-expanded",0],[1,"aria-controls",0]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==$r(e,1).accordion.toggle($r(e,1).panel.id)&&r),r}),null,null)),Jr(1,16384,null,0,Zf,[Qf,[2,Gf]],{ngbPanelToggle:[0,"ngbPanelToggle"]},null),(e()(),Gl(2,null,["",""]))],(function(e,t){e(t,1,0,"")}),(function(e,t){e(t,0,0,$r(t,1).panel.disabled,!$r(t,1).panel.isOpen,$r(t,1).panel.isOpen,$r(t,1).panel.id),e(t,2,0,t.parent.parent.context.$implicit.name)}))}function xT(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"button",[["class","btn p-0 mr-1"]],null,null,null,null,null)),(e()(),Gl(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.parent.parent.context.$implicit.name)}))}function _T(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"small",[["class","text-muted mr-1"]],null,null,null,null,null)),(e()(),Gl(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.parent.parent.context.$implicit.description)}))}function CT(e){return Jl(0,[(e()(),Ol(0,0,null,null,0,"i",[["class","fa fa-caret-up"]],null,null,null,null,null))],null,null)}function kT(e){return Jl(0,[(e()(),Ol(0,0,null,null,0,"i",[["class","fa fa-angle-up"]],null,null,null,null,null))],null,null)}function MT(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"button",[["class","btn btn-dark btn-xs mr-1"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.openDependencies.emit(e.parent.parent.context.$implicit.id)&&r),r}),null,null)),(e()(),Gl(-1,null,["Show Dependencies "]))],null,null)}function ST(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"button",[["class","btn btn-primary btn-xs mr-1"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.openTrace.emit(e.parent.parent.context.$implicit.id)&&r),r}),null,null)),(e()(),Gl(-1,null,[" Show Trace "]))],null,null)}function TT(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"button",[["class","btn btn-danger btn-xs mr-1"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.deleteFeature.emit(e.parent.parent.context.$implicit.id)&&r),r}),null,null)),(e()(),Gl(-1,null,["Delete "]))],null,null)}function ET(e){return Jl(0,[(e()(),Ol(0,0,null,null,24,"div",[["class","d-flex justify-content-between align-items-center"]],null,null,null,null,null)),(e()(),Ol(1,0,null,null,14,"div",[["class","d-flex align-items-baseline"]],null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,bT)),Jr(3,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,yT)),Jr(5,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,wT)),Jr(7,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,xT)),Jr(9,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,_T)),Jr(11,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,CT)),Jr(13,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,kT)),Jr(15,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(16,0,null,null,8,"div",[],null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,MT)),Jr(18,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,ST)),Jr(20,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(21,0,null,null,1,"button",[["class","btn btn-warning btn-xs mr-1"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.updateFeature.emit(e.parent.context.$implicit.id)&&r),r}),null,null)),(e()(),Gl(-1,null,[" Update "])),(e()(),Dl(16777216,null,null,1,null,TT)),Jr(24,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,3,0,"mandatory"===t.parent.context.$implicit.type),e(t,5,0,"optional"===t.parent.context.$implicit.type),e(t,7,0,n.asList(t.parent.context.$implicit.subfeatures).length>0),e(t,9,0,0===n.asList(t.parent.context.$implicit.subfeatures).length),e(t,11,0,t.parent.context.$implicit.description),e(t,13,0,"or"===t.parent.context.$implicit.subfeatureConnections),e(t,15,0,"xor"===t.parent.context.$implicit.subfeatureConnections);var r=!t.parent.context.$implicit.relationships.hasNoRelationships();e(t,18,0,r),e(t,20,0,t.parent.context.$implicit.expertModelTrace[n.expertModelId]),e(t,24,0,null!==t.parent.context.$implicit.parent)}),null)}function IT(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"app-merge-into-tree",[],null,[[null,"openDependencies"],[null,"openTrace"],[null,"updateFeature"],[null,"deleteFeature"]],(function(e,t,n){var r=!0,s=e.component;return"openDependencies"===t&&(r=!1!==s.openDependencies.emit(n)&&r),"openTrace"===t&&(r=!1!==s.openTrace.emit(n)&&r),"updateFeature"===t&&(r=!1!==s.updateFeature.emit(n)&&r),"deleteFeature"===t&&(r=!1!==s.deleteFeature.emit(n)&&r),r}),DT,vT)),Jr(1,114688,null,0,gT,[],{expertModelId:[0,"expertModelId"],features:[1,"features"],openPanels:[2,"openPanels"]},{openTrace:"openTrace",openDependencies:"openDependencies",updateFeature:"updateFeature",deleteFeature:"deleteFeature"})],(function(e,t){var n=t.component;e(t,1,0,n.expertModelId,t.parent.context.$implicit.subfeatures,n.openPanels)}),null)}function FT(e){return Jl(0,[(e()(),Ol(0,0,null,null,8,"ngb-panel",[["class","list-group-item justify-content-between align-items-center"]],null,null,null,null,null)),Jr(1,2113536,[[1,4]],3,Gf,[],{id:[0,"id"]},null),$l(603979776,2,{titleTpls:1}),$l(603979776,3,{headerTpls:1}),$l(603979776,4,{contentTpls:1}),(e()(),Dl(0,null,null,1,null,ET)),Jr(6,16384,[[3,4]],0,Wf,[xn],null,null),(e()(),Dl(0,null,null,1,null,IT)),Jr(8,16384,[[4,4]],0,Kf,[xn],null,null)],(function(e,t){var n=t.context.$implicit.id.toString();e(t,1,0,n)}),null)}function PT(e){return Jl(0,[(e()(),Ol(0,0,null,null,4,"ngb-accordion",[["class","list-group inner accordion"],["role","tablist"],["style","margin:5px;"]],[[1,"aria-multiselectable",0]],[[null,"panelChange"]],(function(e,t,n){var r=!0;return"panelChange"===t&&(r=!1!==e.component.panelChange(n.panelId,n.nextState)&&r),r}),wg,hg)),Jr(1,2146304,null,1,Qf,[zf],{activeIds:[0,"activeIds"]},{panelChange:"panelChange"}),$l(603979776,1,{panels:1}),(e()(),Dl(16777216,null,null,1,null,FT)),Jr(4,278528,null,0,tu,[Cn,xn,fn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.openPanels),e(t,4,0,n.asList(n.features))}),(function(e,t){e(t,0,0,!$r(t,1).closeOtherPanels)}))}function DT(e){return Jl(0,[(e()(),Dl(16777216,null,null,1,null,PT)),Jr(1,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,t.component.features)}),null)}class OT{constructor(e,t,n,r){this.fb=e,this.modalService=t,this.pouchdbService=n,this.route=r,this.companyFeatureList=[],this.companyOpenPanels=null}ngOnInit(){this.paramSubscription=this.route.paramMap.subscribe(e=>{this.companyModelId=e.get("companyModelId"),this.expertModelId=e.get("expertModelId"),this.loadModels()})}ngOnDestroy(){null!==this.paramSubscription&&this.paramSubscription.unsubscribe()}loadModels(){this.loadExpertModel(),this.loadCompanyModel()}loadExpertModel(){this.pouchdbService.getFeatureModel(this.expertModelId).then(e=>this.expertModel=e)}loadCompanyModel(){this.pouchdbService.getFeatureModel(this.companyModelId).then(e=>{null===this.companyOpenPanels&&(this.companyOpenPanels=Object.values(e.features).reduce((e,t)=>(e.push(t.id.toString()),e.push(...t.getAllSubfeatures().filter(e=>Object.values(e.subfeatures).length>0).map(e=>e.id.toString())),e),[])),this.companyModel=e,this.companyFeatureList=e.getFeatureList()})}openDependenciesModalExpertModel(e){this.openDependenciesModal(this.expertModel,e)}openDependenciesModalCompanyModel(e){this.openDependenciesModal(this.companyModel,e)}openDependenciesModal(e,t){this.pouchdbService.getFeatureModel(e._id).then(e=>{const n=e.getFeature(t);this.modalFeatureModel=e,this.modalFeature=n,this.modalReference=this.modalService.open(this.dependencyModal,{size:"lg"})},e=>{console.log("OpenDependencyModal: "+e)})}openTraceModal(e){this.modalFeatureModel=this.companyModel,this.modalFeature=this.companyModel.getFeature(e),this.modalTracedFeature=this.expertModel.getFeature(this.modalFeature.expertModelTrace[this.expertModelId]),this.modalReference=this.modalService.open(this.traceModal,{size:"lg"})}openExpertTraceModal(e){this.modalFeatureModel=this.expertModel,this.modalFeature=this.expertModel.getFeature(e),this.modalTracedFeature=this.companyModel.getFeature(this.companyModel.expertModelTraces[this.expertModelId].expertFeatureIdMap[e]),this.modalReference=this.modalService.open(this.traceModal,{size:"lg"})}openMergeModal(e){this.pouchdbService.getFeatureModel(this.expertModelId).then(t=>{const n=t.getFeature(e),r=this.companyModel.expertModelTraces[this.expertModelId].expertFeatureIdMap[n.parent.id];this.modalSubfeatureIds=this.companyModel.getFeature(r).getAllSubfeatures().map(e=>e.id),this.modalSubfeatureIds.push(r),this.modalFeature=new gb(n.id,new gb(this.companyModel.expertModelTraces[this.expertModelId].expertFeatureIdMap[n.parent.id],null,{}),n),this.modalReference=this.modalService.open(this.mergeModal,{size:"lg"})},e=>{console.log("UpdateFeatureModal: "+e)})}openSelectModal(e){this.modalFeature=this.expertModel.getFeature(e),this.modalSubfeatureIds=this.companyModel.getFeature(this.companyModel.expertModelTraces[this.expertModelId].expertFeatureIdMap[this.modalFeature.parent.id]).getAllSubfeatures().map(e=>e.id);const t=Object.values(this.companyModel.expertModelTraces[this.expertModelId].expertFeatureIdMap);this.modalSubfeatureIds=this.modalSubfeatureIds.filter(e=>!t.includes(e)),this.modalSelectFeatureForm=this.fb.group({feature:null}),this.modalReference=this.modalService.open(this.selectModal,{size:"lg"})}openDeleteFeatureModal(e){this.modalFeature=this.companyModel.getFeature(e),this.modalReference=this.modalService.open(this.deleteModal,{size:"lg"})}openUpdateFeatureModal(e){this.pouchdbService.getFeatureModel(this.companyModelId).then(t=>{const n=t.getFeature(e);this.modalFeature=n,this.modalSubfeatureIds=n.getAllSubfeatures().map(e=>e.id),this.modalSubfeatureIds.push(n.id),this.modalReference=this.modalService.open(this.updateModal,{size:"lg"})},e=>{console.log("UpdateFeatureModal: "+e)})}closeModal(){this.modalReference.close(),this.modalFeature=null,this.loadModels()}mergeFeature(e){this.pouchdbService.addFeatureMerge(this.companyModelId,e.value,e.get("subfeatureOf").value,this.expertModelId,this.modalFeature.id).then(()=>{this.closeModal()},e=>{console.log("MergeFeature: "+e)})}mergeIntoSelected(){this.pouchdbService.addTrace(this.companyModelId,this.modalSelectFeatureForm.value.feature,this.expertModelId,this.modalFeature.id).then(()=>{this.closeModal()})}deleteTrace(){this.modalFeatureModel===this.companyModel?this.deleteCompanyTrace():this.deleteExpertTrace()}deleteCompanyTrace(){this.pouchdbService.deleteTrace(this.companyModelId,this.modalFeature.id,this.expertModelId).then(()=>{this.closeModal()})}deleteExpertTrace(){this.pouchdbService.deleteTrace(this.companyModelId,this.modalTracedFeature.id,this.expertModelId).then(()=>{this.closeModal()})}deleteFeature(e){this.pouchdbService.deleteFeature(this.companyModelId,e).then(()=>{this.closeModal()},e=>{console.log("DeleteFeature: "+e)})}addDependency(e,t,n){this.pouchdbService.addRelationship(this.companyModelId,e,t,n).then(()=>{this.closeModal()},e=>{console.log("AddDependency: "+e)})}deleteDependency(e,t,n){this.pouchdbService.removeRelationship(this.companyModelId,e,t,n).then(()=>{this.loadModels(),this.pouchdbService.getFeatureModel(this.companyModelId).then(e=>this.modalFeature=e.getFeature(this.modalFeature.id),e=>console.log("DeleteDependency: "+e))},e=>{console.log("DeleteDependency: "+e)})}addFeatureToCompanyModel(e){this.pouchdbService.addFeature(this.companyModelId,e.value,e.get("subfeatureOf").value).then(()=>{this.loadModels()},e=>{console.log("AddFeatureToCompanyModel: "+e)})}updateFeature(e){this.pouchdbService.updateFeature(this.companyModelId,this.modalFeature.id,e.value,e.get("subfeatureOf").value).then(()=>{this.closeModal()},e=>{console.log("UpdateFeature: "+e)})}asKeys(e){return Object.keys(e)}}var AT=jn({encapsulation:0,styles:[[""]],data:{}});function qT(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"app-delete-feature-confirm",[],null,[[null,"deletionResult"],[null,"closeModal"]],(function(e,t,n){var r=!0,s=e.component;return"deletionResult"===t&&(r=!1!==s.deleteFeature(n)&&r),"closeModal"===t&&(r=!1!==s.closeModal()&&r),r}),nb,tb)),Jr(1,114688,null,0,eb,[],{feature:[0,"feature"]},{closeModal:"closeModal",deletionResult:"deletionResult"})],(function(e,t){e(t,1,0,t.component.modalFeature)}),null)}function RT(e){return Jl(0,[(e()(),Ol(0,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),Ol(1,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(e()(),Gl(2,null,["",""])),(e()(),Ol(3,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.closeModal()&&r),r}),null,null)),(e()(),Ol(4,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),Gl(-1,null,["\xd7"])),(e()(),Ol(6,0,null,null,3,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),Ol(7,0,null,null,2,"div",[["class","text-muted pt-3"]],null,null,null,null,null)),(e()(),Ol(8,0,null,null,1,"app-feature-form",[],null,[[null,"submitFeatureForm"]],(function(e,t,n){var r=!0;return"submitFeatureForm"===t&&(r=!1!==e.component.updateFeature(n)&&r),r}),_b,bb)),Jr(9,638976,null,0,vb,[vf],{feature:[0,"feature"],featureList:[1,"featureList"],disabledSubfeatures:[2,"disabledSubfeatures"]},{submitFeatureForm:"submitFeatureForm"})],(function(e,t){var n=t.component;e(t,9,0,n.modalFeature,n.companyFeatureList,n.modalSubfeatureIds)}),(function(e,t){e(t,2,0,t.component.modalFeature.name)}))}function NT(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"app-cross-tree-relationship-modal",[],null,[[null,"addRelationshipOnCompanyModel"],[null,"closeModal"],[null,"removeRelationship"]],(function(e,t,n){var r=!0,s=e.component;return"addRelationshipOnCompanyModel"===t&&(r=!1!==s.addDependency(n.type,n.fromFeatureId,n.toFeatureId)&&r),"closeModal"===t&&(r=!1!==s.closeModal()&&r),"removeRelationship"===t&&(r=!1!==s.deleteDependency(n.type,n.fromFeatureId,n.toFeatureId)&&r),r}),hb,ob)),Jr(1,573440,null,0,lb,[],{featureModel:[0,"featureModel"],feature:[1,"feature"],companyModel:[2,"companyModel"]},{closeModal:"closeModal",addRelationshipOnCompanyModel:"addRelationshipOnCompanyModel",removeRelationship:"removeRelationship"})],(function(e,t){var n=t.component;e(t,1,0,n.modalFeatureModel,n.modalFeature,n.modalFeatureModel._id===n.expertModel._id?n.companyModel:null)}),null)}function $T(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"app-trace-modal",[],null,[[null,"closeModal"],[null,"deleteTrace"]],(function(e,t,n){var r=!0,s=e.component;return"closeModal"===t&&(r=!1!==s.closeModal()&&r),"deleteTrace"===t&&(r=!1!==s.deleteTrace()&&r),r}),XS,JS)),Jr(1,114688,null,0,ZS,[],{feature:[0,"feature"],tracedFeature:[1,"tracedFeature"]},{closeModal:"closeModal",deleteTrace:"deleteTrace"})],(function(e,t){var n=t.component;e(t,1,0,n.modalFeature,n.modalTracedFeature)}),null)}function jT(e){return Jl(0,[(e()(),Ol(0,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),Ol(1,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(e()(),Gl(2,null,["",""])),(e()(),Ol(3,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.closeModal()&&r),r}),null,null)),(e()(),Ol(4,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),Gl(-1,null,["\xd7"])),(e()(),Ol(6,0,null,null,3,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),Ol(7,0,null,null,2,"div",[["class","text-muted pt-3"]],null,null,null,null,null)),(e()(),Ol(8,0,null,null,1,"app-feature-form",[["submitButtonText","Merge Feature"]],null,[[null,"submitFeatureForm"]],(function(e,t,n){var r=!0;return"submitFeatureForm"===t&&(r=!1!==e.component.mergeFeature(n)&&r),r}),_b,bb)),Jr(9,638976,null,0,vb,[vf],{feature:[0,"feature"],featureList:[1,"featureList"],enabledSubfeatures:[2,"enabledSubfeatures"],submitButtonText:[3,"submitButtonText"]},{submitFeatureForm:"submitFeatureForm"})],(function(e,t){var n=t.component;e(t,9,0,n.modalFeature,n.companyFeatureList,n.modalSubfeatureIds,"Merge Feature")}),(function(e,t){e(t,2,0,t.component.modalFeature.name)}))}function LT(e){return Jl(0,[(e()(),Ol(0,0,null,null,3,"option",[],[[8,"disabled",0]],null,null,null,null)),Jr(1,147456,null,0,Lh,[Gt,Xt,[2,jh]],{ngValue:[0,"ngValue"]},null),Jr(2,147456,null,0,Bh,[Gt,Xt,[8,null]],{ngValue:[0,"ngValue"]},null),(e()(),Gl(3,null,[""," "]))],(function(e,t){e(t,1,0,t.context.$implicit.id),e(t,2,0,t.context.$implicit.id)}),(function(e,t){e(t,0,0,!t.component.modalSubfeatureIds.includes(t.context.$implicit.id)),e(t,3,0,t.context.$implicit.levelname)}))}function VT(e){return Jl(0,[(e()(),Ol(0,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),Ol(1,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(e()(),Gl(2,null,["",""])),(e()(),Ol(3,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.closeModal()&&r),r}),null,null)),(e()(),Ol(4,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),Gl(-1,null,["\xd7"])),(e()(),Ol(6,0,null,null,22,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),Ol(7,0,null,null,21,"div",[["class","text-muted pt-3"]],null,null,null,null,null)),(e()(),Ol(8,0,null,null,20,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,t,n){var r=!0,s=e.component;return"submit"===t&&(r=!1!==$r(e,10).onSubmit(n)&&r),"reset"===t&&(r=!1!==$r(e,10).onReset()&&r),"ngSubmit"===t&&(r=!1!==s.mergeIntoSelected()&&r),r}),null,null)),Jr(9,16384,null,0,af,[],null,null),Jr(10,540672,null,0,df,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),Yr(2048,null,vh,null,[df]),Jr(12,16384,null,0,_h,[[4,vh]],null,null),(e()(),Ol(13,0,null,null,11,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Ol(14,0,null,null,1,"label",[["class","col-sm-4 col-form-label"],["for","feature"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Select feature"])),(e()(),Ol(16,0,null,null,8,"div",[["class","col-sm-8"]],null,null,null,null,null)),(e()(),Ol(17,0,null,null,7,"select",[["class","form-control"],["formControlName","feature"],["id","feature"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var r=!0;return"change"===t&&(r=!1!==$r(e,18).onChange(n.target.value)&&r),"blur"===t&&(r=!1!==$r(e,18).onTouched()&&r),r}),null,null)),Jr(18,16384,null,0,jh,[Xt,Gt],null,null),Yr(1024,null,ph,(function(e){return[e]}),[jh]),Jr(20,671744,null,0,mf,[[3,vh],[8,null],[8,null],[6,ph],[2,cf]],{name:[0,"name"]},null),Yr(2048,null,yh,null,[mf]),Jr(22,16384,null,0,xh,[[4,yh]],null,null),(e()(),Dl(16777216,null,null,1,null,LT)),Jr(24,278528,null,0,tu,[Cn,xn,fn],{ngForOf:[0,"ngForOf"]},null),(e()(),Ol(25,0,null,null,3,"div",[["class","form-group row"]],null,null,null,null,null)),(e()(),Ol(26,0,null,null,2,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),Ol(27,0,null,null,1,"button",[["class","btn btn-dark btn-block"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),Gl(-1,null,[" Merge Feature "]))],(function(e,t){var n=t.component;e(t,10,0,n.modalSelectFeatureForm),e(t,20,0,"feature"),e(t,24,0,n.companyFeatureList)}),(function(e,t){var n=t.component;e(t,2,0,n.modalFeature.name),e(t,8,0,$r(t,12).ngClassUntouched,$r(t,12).ngClassTouched,$r(t,12).ngClassPristine,$r(t,12).ngClassDirty,$r(t,12).ngClassValid,$r(t,12).ngClassInvalid,$r(t,12).ngClassPending),e(t,17,0,$r(t,22).ngClassUntouched,$r(t,22).ngClassTouched,$r(t,22).ngClassPristine,$r(t,22).ngClassDirty,$r(t,22).ngClassValid,$r(t,22).ngClassInvalid,$r(t,22).ngClassPending),e(t,27,0,!n.modalSelectFeatureForm.valid)}))}function UT(e){return Jl(0,[(e()(),Ol(0,0,null,null,2,"app-merge-tree",[],null,[[null,"addTrace"],[null,"openDependencies"],[null,"selectFeature"],[null,"openTrace"]],(function(e,t,n){var r=!0,s=e.component;return"addTrace"===t&&(r=!1!==s.openMergeModal(n)&&r),"openDependencies"===t&&(r=!1!==s.openDependenciesModalExpertModel(n)&&r),"selectFeature"===t&&(r=!1!==s.openSelectModal(n)&&r),"openTrace"===t&&(r=!1!==s.openExpertTraceModal(n)&&r),r}),mT,tT)),Jr(1,114688,null,0,eT,[],{features:[0,"features"],trace:[1,"trace"]},{addTrace:"addTrace",selectFeature:"selectFeature",openDependencies:"openDependencies",openTrace:"openTrace"}),Wl(2,{id:0})],(function(e,t){var n=t.component,r=e(t,2,0,n.expertModel.features[t.parent.context.id]);e(t,1,0,r,n.companyModel.expertModelTraces[n.expertModelId])}),null)}function BT(e){return Jl(0,[(e()(),Ol(0,0,null,null,2,"app-merge-into-tree",[],null,[[null,"openDependencies"],[null,"openTrace"],[null,"updateFeature"],[null,"deleteFeature"]],(function(e,t,n){var r=!0,s=e.component;return"openDependencies"===t&&(r=!1!==s.openDependenciesModalCompanyModel(n)&&r),"openTrace"===t&&(r=!1!==s.openTraceModal(n)&&r),"updateFeature"===t&&(r=!1!==s.openUpdateFeatureModal(n)&&r),"deleteFeature"===t&&(r=!1!==s.openDeleteFeatureModal(n)&&r),r}),DT,vT)),Jr(1,114688,null,0,gT,[],{expertModelId:[0,"expertModelId"],features:[1,"features"],openPanels:[2,"openPanels"]},{openTrace:"openTrace",openDependencies:"openDependencies",updateFeature:"updateFeature",deleteFeature:"deleteFeature"}),Wl(2,{id:0})],(function(e,t){var n=t.component,r=n.expertModelId,s=e(t,2,0,n.companyModel.features[t.parent.context.id]);e(t,1,0,r,s,n.companyOpenPanels)}),null)}function zT(e){return Jl(0,[(e()(),Ol(0,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(e()(),Ol(1,0,null,null,2,"div",[["class","col-sm-6"]],null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,UT)),Jr(3,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Ol(4,0,null,null,2,"div",[["class","col-sm-6"]],null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,BT)),Jr(6,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,3,0,n.expertModel&&n.expertModel.features),e(t,6,0,n.companyModel&&n.companyModel.features)}),null)}function HT(e){return Jl(0,[(e()(),Ol(0,0,null,null,3,"a",[["class","nav-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==$r(e,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),Jr(1,671744,null,0,qp,[Op,Cd,ai],{routerLink:[0,"routerLink"]},null),Hl(2,2),(e()(),Gl(3,null,["View ",""]))],(function(e,t){var n=e(t,2,0,"/featuremodelview",t.component.companyModel._id);e(t,1,0,n)}),(function(e,t){var n=t.component;e(t,0,0,$r(t,1).target,$r(t,1).href),e(t,3,0,n.companyModel.name)}))}function WT(e){return Jl(0,[(e()(),Ol(0,0,null,null,3,"a",[["class","nav-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==$r(e,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),Jr(1,671744,null,0,qp,[Op,Cd,ai],{routerLink:[0,"routerLink"]},null),Hl(2,2),(e()(),Gl(3,null,["Edit ",""]))],(function(e,t){var n=e(t,2,0,"/featuremodel",t.component.companyModel._id);e(t,1,0,n)}),(function(e,t){var n=t.component;e(t,0,0,$r(t,1).target,$r(t,1).href),e(t,3,0,n.companyModel.name)}))}function KT(e){return Jl(0,[(e()(),Ol(0,0,null,null,3,"a",[["class","nav-link active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==$r(e,1).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),Jr(1,671744,null,0,qp,[Op,Cd,ai],{routerLink:[0,"routerLink"]},null),Hl(2,3),(e()(),Gl(3,null,["Merge "," into ",""]))],(function(e,t){var n=t.component,r=e(t,2,0,"/merge",n.companyModel._id,n.expertModel._id);e(t,1,0,r)}),(function(e,t){var n=t.component;e(t,0,0,$r(t,1).target,$r(t,1).href),e(t,3,0,n.expertModel.name,n.companyModel.name)}))}function GT(e){return Jl(0,[(e()(),Ol(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function QT(e){return Jl(0,[(e()(),Ol(0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),Dl(16777216,null,null,2,null,GT)),Jr(2,540672,null,0,cu,[Cn],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Wl(3,{id:0}),(e()(),Dl(0,null,null,0))],(function(e,t){var n=e(t,3,0,t.context.$implicit);e(t,2,0,n,$r(t.parent.parent,12))}),null)}function ZT(e){return Jl(0,[(e()(),Ol(0,0,null,null,30,"main",[["role","main"]],null,null,null,null,null)),(e()(),Ol(1,0,null,null,23,"div",[["class","my-3 p-3 bg-white rounded shadow-sm"]],null,null,null,null,null)),(e()(),Ol(2,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Merge Model List"])),(e()(),Dl(16777216,null,null,1,null,QT)),Jr(5,278528,null,0,tu,[Cn,xn,fn],{ngForOf:[0,"ngForOf"]},null),(e()(),Ol(6,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(e()(),Ol(7,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Ol(8,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),Gl(-1,null,["Legend:"])),(e()(),Ol(10,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Ol(11,0,null,null,0,"i",[["class","fa fa-circle"]],null,null,null,null,null)),(e()(),Gl(-1,null,[" Mandatory Feature"])),(e()(),Ol(13,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Ol(14,0,null,null,0,"i",[["class","fa fa-circle-o"]],null,null,null,null,null)),(e()(),Gl(-1,null,[" Optional Feature"])),(e()(),Ol(16,0,null,null,8,"div",[["class","row"]],null,null,null,null,null)),(e()(),Ol(17,0,null,null,1,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Gl(-1,null,["\xa0"])),(e()(),Ol(19,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Ol(20,0,null,null,0,"i",[["class","fa fa-caret-up"]],null,null,null,null,null)),(e()(),Gl(-1,null,[" Or"])),(e()(),Ol(22,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),Ol(23,0,null,null,0,"i",[["class","fa fa-angle-up"]],null,null,null,null,null)),(e()(),Gl(-1,null,[" Alternative (Xor)"])),(e()(),Ol(25,0,null,null,5,"div",[["class","my-3 p-3 bg-white rounded shadow-sm container"]],null,null,null,null,null)),(e()(),Ol(26,0,null,null,1,"h6",[["class","border-bottom border-gray pb-2 mb-0"]],null,null,null,null,null)),(e()(),Gl(-1,null,["Add Feature"])),(e()(),Ol(28,0,null,null,2,"div",[["class","text-muted pt-3"]],null,null,null,null,null)),(e()(),Ol(29,0,null,null,1,"app-feature-form",[["submitButtonText","Add Feature to company model"]],null,[[null,"submitFeatureForm"]],(function(e,t,n){var r=!0;return"submitFeatureForm"===t&&(r=!1!==e.component.addFeatureToCompanyModel(n)&&r),r}),_b,bb)),Jr(30,638976,null,0,vb,[vf],{featureList:[0,"featureList"],submitButtonText:[1,"submitButtonText"]},{submitFeatureForm:"submitFeatureForm"})],(function(e,t){var n=t.component;e(t,5,0,n.asKeys(n.companyModel.features)),e(t,30,0,n.companyFeatureList,"Add Feature to company model")}),null)}function JT(e){return Jl(0,[$l(402653184,1,{dependencyModal:0}),$l(402653184,2,{mergeModal:0}),$l(402653184,3,{updateModal:0}),$l(402653184,4,{traceModal:0}),$l(402653184,5,{selectModal:0}),$l(402653184,6,{deleteModal:0}),(e()(),Dl(0,[[6,2],["deleteModal",2]],null,0,null,qT)),(e()(),Dl(0,[[3,2],["updateModal",2]],null,0,null,RT)),(e()(),Dl(0,[[1,2],["dependencyModal",2]],null,0,null,NT)),(e()(),Dl(0,[[4,2],["traceModal",2]],null,0,null,$T)),(e()(),Dl(0,[[2,2],["mergeModal",2]],null,0,null,jT)),(e()(),Dl(0,[[5,2],["selectModal",2]],null,0,null,VT)),(e()(),Dl(0,[["featurerow",2]],null,0,null,zT)),(e()(),Ol(13,0,null,null,7,"div",[["class","nav-scroller bg-white shadow-sm"]],null,null,null,null,null)),(e()(),Ol(14,0,null,null,6,"nav",[["class","nav nav-underline"]],null,null,null,null,null)),(e()(),Dl(16777216,null,null,1,null,HT)),Jr(16,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,WT)),Jr(18,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,KT)),Jr(20,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null),(e()(),Dl(16777216,null,null,1,null,ZT)),Jr(22,16384,null,0,ru,[Cn,xn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,16,0,n.companyModel),e(t,18,0,n.companyModel),e(t,20,0,n.companyModel&&n.expertModel),e(t,22,0,n.expertModel&&n.companyModel)}),null)}function YT(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"app-merge-model-view",[],null,null,null,JT,AT)),Jr(1,245760,null,0,OT,[vf,Zm,qk,Cd],null,null)],(function(e,t){e(t,1,0)}),null)}var XT=Tr("app-merge-model-view",OT,YT,{},{},[]),eE=jn({encapsulation:0,styles:[[""]],data:{}});function tE(e){return Jl(0,[(e()(),Ol(0,0,null,null,18,"nav",[["class","navbar navbar-expand-lg fixed-top navbar-dark bg-dark"]],null,null,null,null,null)),Jr(1,16384,null,0,$m,[],null,null),(e()(),Ol(2,0,null,null,2,"a",[["class","navbar-brand mr-auto mr-lg-0"],["routerLink","featuremodels"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==$r(e,3).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),Jr(3,671744,null,0,qp,[Op,Cd,ai],{routerLink:[0,"routerLink"]},null),(e()(),Gl(-1,null,["Business Modeling Suite"])),(e()(),Ol(5,0,null,null,1,"button",[["class","navbar-toggler p-0 border-0"],["data-toggle","offcanvas"],["type","button"]],null,null,null,null,null)),(e()(),Ol(6,0,null,null,0,"span",[["class","navbar-toggler-icon"]],null,null,null,null,null)),(e()(),Ol(7,0,null,null,11,"div",[["class","navbar-collapse offcanvas-collapse"],["id","navbarsExampleDefault"]],null,null,null,null,null)),(e()(),Ol(8,0,null,null,10,"ul",[["class","navbar-nav mr-auto"]],null,null,null,null,null)),(e()(),Ol(9,0,null,null,5,"li",[["class","nav-item active"]],null,null,null,null,null)),(e()(),Ol(10,0,null,null,4,"a",[["class","nav-link"],["routerLink","featuremodels"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==$r(e,11).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),Jr(11,671744,null,0,qp,[Op,Cd,ai],{routerLink:[0,"routerLink"]},null),(e()(),Gl(-1,null,["Feature Model List "])),(e()(),Ol(13,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(e()(),Gl(-1,null,["(current)"])),(e()(),Ol(15,0,null,null,3,"li",[["class","nav-item"]],null,null,null,null,null)),(e()(),Ol(16,0,null,null,2,"a",[["class","nav-link"],["routerLink","explanation"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==$r(e,17).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),Jr(17,671744,null,0,qp,[Op,Cd,ai],{routerLink:[0,"routerLink"]},null),(e()(),Gl(-1,null,["Tool Explanation"])),(e()(),Ol(19,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Jr(20,212992,null,0,jp,[$p,Cn,Ut,[8,null],gn],null,null)],(function(e,t){e(t,3,0,"featuremodels"),e(t,11,0,"featuremodels"),e(t,17,0,"explanation"),e(t,20,0)}),(function(e,t){e(t,2,0,$r(t,3).target,$r(t,3).href),e(t,10,0,$r(t,11).target,$r(t,11).href),e(t,16,0,$r(t,17).target,$r(t,17).href)}))}function nE(e){return Jl(0,[(e()(),Ol(0,0,null,null,1,"app-root",[],null,null,null,tE,eE)),Jr(1,49152,null,0,oi,[],null,null)],null,null)}var rE=Tr("app-root",oi,nE,{},{},[]);class sE{}var lE=ri(li,[oi],(function(e){return function(e){const t={},n=[];let r=!1;for(let s=0;s<e.length;s++){const l=e[s];l.token===qe&&!0===l.value&&(r=!0),1073741824&l.flags&&n.push(l.token),l.index=s,t[$n(l.token)]=l}return{factory:null,providersByKey:t,providers:e,modules:n,isRoot:r}}([br(512,Ut,Bt,[[8,[ch,Xv,Gk,RM,FS,QS,XT,Mg,rv,Vv,Hv,xv,Mv,Dv,rE]],[3,Ut],Ht]),br(5120,Ds,Il,[[3,Ds]]),br(4608,Gi,Qi,[Ds,[2,Ki]]),br(5120,hs,Fl,[Qs]),br(5120,Ms,Ss,[]),br(5120,fn,Tl,[]),br(5120,mn,El,[]),br(4608,oc,ic,[hu]),br(6144,yt,null,[oc]),br(4608,Xa,tc,[]),br(5120,Ea,(function(e,t,n,r,s,l,o,i){return[new Ja(e,t,n),new lc(r),new nc(s,l,o,i)]}),[hu,Qs,Is,hu,hu,Xa,Ps,[2,ec]]),br(4608,Ia,Ia,[Ea,Qs]),br(135680,Da,Da,[hu]),br(4608,Na,Na,[Ia,Da,Ms]),br(6144,Jt,null,[Na]),br(6144,Pa,null,[Da]),br(4608,nl,nl,[Qs]),br(5120,Cd,nh,[Op]),br(4608,Bp,Bp,[]),br(6144,Vp,null,[Bp]),br(135680,zp,zp,[Op,ml,Ls,Ne,Vp]),br(4608,Up,Up,[]),br(5120,Hp,Jp,[Op,fu,Wp]),br(5120,oh,lh,[rh]),br(5120,Fs,(function(e){return[e]}),[oh]),br(4608,Dh,Dh,[]),br(4608,vf,vf,[]),br(4608,Zm,Zm,[Ut,Ne,Qm,Lm]),br(1073742336,pu,pu,[]),br(1024,Mt,mc,[]),br(1024,ul,(function(){return[Qp()]}),[]),br(512,rh,rh,[Ne]),br(1024,Cs,(function(e,t){return[(n=e,Ma("probe",Ta),Ma("coreTokens",Object.assign({},Sa,(n||[]).reduce((e,t)=>(e[t.name]=t.token,e),{}))),()=>Ta),sh(t)];var n}),[[2,ul],rh]),br(512,ks,ks,[[2,Cs]]),br(131584,hl,hl,[Qs,Ps,Ne,Mt,Ut,ks]),br(1073742336,Pl,Pl,[hl]),br(1073742336,gc,gc,[[3,gc]]),br(1024,Kp,Xp,[[3,Op]]),br(512,td,nd,[]),br(512,$p,$p,[]),br(256,Wp,{},[]),br(1024,ai,Yp,[ii,[2,ci],Wp]),br(512,di,di,[ai,ii]),br(512,Ls,Ls,[]),br(512,ml,bl,[Ls,[2,gl]]),br(1024,Sp,(function(){return[[{path:"",redirectTo:"/featuremodels",pathMatch:"full"},{path:"explanation",component:Wv},{path:"featuremodel/:id",component:Bb},{path:"featuremodelview/:id",component:fM},{path:"businessmodelview/:id/:bmid",component:GM},{path:"featuremodels",component:zS},{path:"merge/:companyModelId/:expertModelId",component:OT}]]}),[]),br(1024,Op,th,[hl,td,$p,di,Ne,ml,Ls,Sp,Wp,[2,Ep],[2,kp]]),br(1073742336,Zp,Zp,[[2,Kp],[2,Op]]),br(1073742336,sE,sE,[]),br(1073742336,gf,gf,[]),br(1073742336,bf,bf,[]),br(1073742336,yf,yf,[]),br(1073742336,Jf,Jf,[]),br(1073742336,em,em,[]),br(1073742336,tm,tm,[]),br(1073742336,um,um,[]),br(1073742336,am,am,[]),br(1073742336,Nm,Nm,[]),br(1073742336,jm,jm,[]),br(1073742336,Jm,Jm,[]),br(1073742336,Ym,Ym,[]),br(1073742336,Xm,Xm,[]),br(1073742336,tg,tg,[]),br(1073742336,ng,ng,[]),br(1073742336,rg,rg,[]),br(1073742336,sg,sg,[]),br(1073742336,lg,lg,[]),br(1073742336,og,og,[]),br(1073742336,ug,ug,[]),br(1073742336,dg,dg,[]),br(1073742336,pg,pg,[]),br(1073742336,li,li,[]),br(256,qe,!0,[])])}));(function(){if(Qe)throw new Error("Cannot enable prod mode after platform setup.");Ge=!1})(),fc().bootstrapModuleFactory(lE).catch(e=>console.error(e))},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]]);